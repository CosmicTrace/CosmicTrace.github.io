<!DOCTYPE html>
<html lang="zh-CN,en,zh-TW,default">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="keywords" content="Hexo Theme Redefine">
    
    <meta name="author" content="Yiuhang Chan">
    <!-- preconnect -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    
    <!--- Seo Part-->
    
    <link rel="canonical" href="https://www.yiuhangblog.com/2024/04/19/20240419robotframework教程/"/>
    <meta name="robots" content="index,follow">
    <meta name="googlebot" content="index,follow">
    <meta name="revisit-after" content="1 days">
    
        <meta name="description" content="Robot Framewor教程">
<meta property="og:type" content="article">
<meta property="og:title" content="Robot Framework教程">
<meta property="og:url" content="https://www.yiuhangblog.com/2024/04/19/20240419RobotFramework%E6%95%99%E7%A8%8B/index.html">
<meta property="og:site_name" content="角灯随笔">
<meta property="og:description" content="Robot Framewor教程">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/30f9c15e-c904-4a47-6cde-d1cb3ba19900/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/a8f424da-9faa-40fb-2adf-d3cb9b462100/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/c917360e-1817-4962-de2f-0a68254a0b00/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/d84105c8-19e3-445a-ce35-66360e9a1700/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/6a381063-0304-4e9b-6da7-5312ec6f5600/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/709fba20-2801-4012-0612-4d57cbc43200/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/1ac9b381-8f71-4466-9681-368a1e69a800/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/93ca4a58-a443-4027-9294-03ca806b6b00/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/34c91105-04f3-434f-f33a-6e3a158b1200/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/35893b31-67ea-4ca1-09bd-cab884e15e00/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/8a97fa57-b2c6-4d5e-4435-7d21045fcc00/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/3d3a5186-3154-42c0-f5b0-3c9475e82200/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/2fd623f9-0666-45a3-153e-59b80a81a900/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/2fd623f9-0666-45a3-153e-59b80a81a900/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/2d991a9f-4459-460d-bd01-e4f43e7faf00/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/a40df1c6-4ecb-4437-8dc2-939499e0c900/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/069aff0f-278c-4451-ad5c-d1cebb8f0900/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/b59df1e5-797c-4079-0589-fbe885be5300/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/566a2630-666b-4bec-05a3-8eba7d2b8100/public">
<meta property="og:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/13ab6da9-18d2-4f79-09c7-b6696b2b1600/public">
<meta property="article:published_time" content="2024-04-19T03:17:08.000Z">
<meta property="article:modified_time" content="2024-04-22T09:37:30.681Z">
<meta property="article:author" content="Yiuhang Chan">
<meta property="article:tag" content="基础">
<meta property="article:tag" content="理论">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/30f9c15e-c904-4a47-6cde-d1cb3ba19900/public">
    
    
        <!-- Google tag (gtag.js) -->
        <script src="https://www.googletagmanager.com/gtag/js?id=G-MQ43G0NKCT"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-MQ43G0NKCT');
        </script>
    
    <!--- Icon Part-->
    <link rel="icon" type="image/png" href="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/e75f26bb-7787-428d-ec58-214a6faf9800/public" sizes="192x192">
    <link rel="apple-touch-icon" sizes="180x180" href="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/e75f26bb-7787-428d-ec58-214a6faf9800/public">
    <meta name="theme-color" content="#A1AFC9">
    <link rel="shortcut icon" href="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/e75f26bb-7787-428d-ec58-214a6faf9800/public">
    <!--- Page Info-->
    
    <title>
        
            Robot Framework教程 -
        
        角灯随笔
    </title>

    
<link rel="stylesheet" href="/fonts/Chillax/chillax.css">


    <!--- Inject Part-->
    

    
        <style>
    :root {
        --preloader-background-color: #fff;
        --preloader-text-color: #000;
    }

    @media (prefers-color-scheme: dark) {
        :root {
            --preloader-background-color: #202124;
            --preloader-text-color: #fff;
        }
    }

    @media (prefers-color-scheme: light) {
        :root {
            --preloader-background-color: #fff;
            --preloader-text-color: #000;
        }
    }

    @media (max-width: 600px) {
        .ml13 {
            font-size: 2.6rem !important; /* Adjust this value as needed */
        }
    }

    .preloader {
        display: flex;
        flex-direction: column;
        gap: 1rem; /* Tailwind 'gap-4' is 1rem */
        align-items: center;
        justify-content: center;
        position: fixed;
        padding: 12px;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        width: 100vw;
        height: 100vh; /* 'h-screen' is 100% of the viewport height */
        background-color: var(--preloader-background-color);
        z-index: 1100; /* 'z-[1100]' sets the z-index */
        transition: opacity 0.2s ease-in-out;
    }

    .ml13 {
        font-size: 3.2rem;
        /* text-transform: uppercase; */
        color: var(--preloader-text-color);
        letter-spacing: -1px;
        font-weight: 500;
        font-family: 'Chillax-Variable', sans-serif;
        text-align: center;
    }

    .ml13 .word {
        display: inline-flex;
        flex-wrap: wrap;
        white-space: nowrap;
    }

    .ml13 .letter {
        display: inline-block;
        line-height: 1em;
    }
</style>

<div class="preloader">
    
<script src="/js/libs/anime.min.js"></script>

    <h1 class="ml13">
        角灯随笔
    </h1>
    <script>
        var textWrapper = document.querySelector('.ml13');
        // Split text into words
        var words = textWrapper.textContent.trim().split(' ');

        // Clear the existing content
        textWrapper.innerHTML = '';

        // Wrap each word and its letters in spans
        words.forEach(function(word) {
            var wordSpan = document.createElement('span');
            wordSpan.classList.add('word');
            wordSpan.innerHTML = word.replace(/\S/g, "<span class='letter'>$&</span>");
            textWrapper.appendChild(wordSpan);
            textWrapper.appendChild(document.createTextNode(' ')); // Add space between words
        });


        anime.timeline({loop: true})
            .add({
                targets: '.ml13 .letter',
                translateY: [100,0],
                translateZ: 0,
                opacity: [0,1],
                easing: "easeOutExpo",
                duration: 1400,
                delay: (el, i) => 300 + 30 * i
            }).add({
            targets: '.ml13 .letter',
            translateY: [0,-100],
            opacity: [1,0],
            easing: "easeInExpo",
            duration: 1200,
            delay: (el, i) => 100 + 30 * i
        });

        let themeStatus = JSON.parse(localStorage.getItem('REDEFINE-THEME-STATUS'))?.isDark;

        // If the theme status is not found in local storage, check the preferred color scheme
        if (themeStatus === undefined || themeStatus === null) {
            if (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {
                themeStatus = 'dark';
            } else {
                themeStatus = 'light';
            }
        }

        // Now you can use the themeStatus variable in your code
        if (themeStatus) {
            document.documentElement.style.setProperty('--preloader-background-color', '#202124');
            document.documentElement.style.setProperty('--preloader-text-color', '#fff');
        } else {
            document.documentElement.style.setProperty('--preloader-background-color', '#fff');
            document.documentElement.style.setProperty('--preloader-text-color', '#000');
        }

        window.addEventListener('load', function () {
            hidePreloaderAfterTimeout(1000); // Hide after 1000 milliseconds once the window has loaded
        });

        // Backup failsafe: Hide preloader after a maximum of 5000 milliseconds, regardless of the window load event
        hidePreloaderAfterTimeout(5000);

        function hidePreloaderAfterTimeout(delay) {
            setTimeout(function () {
                var preloader = document.querySelector('.preloader');
                preloader.style.opacity = '0';
                setTimeout(function () {
                    preloader.style.display = 'none';
                }, 200);
            }, delay);
        }
    </script>
</div>
    

    
<link rel="stylesheet" href="/css/style.css">


    
        
<link rel="stylesheet" href="/assets/build/styles.css">

    

    
<link rel="stylesheet" href="/fonts/fonts.css">

    
<link rel="stylesheet" href="/fonts/Satoshi/satoshi.css">

    <!--- Font Part-->
    
    
    
    


    <script id="hexo-configurations">
    window.config = {"hostname":"www.yiuhangblog.com","root":"/","language":["zh-CN","en","zh-TW","default"]};
    window.theme = {"articles":{"style":{"font_size":"16px","line_height":1.5,"image_border_radius":"14px","image_alignment":"center","image_caption":false,"link_icon":true,"title_alignment":"left","headings_top_spacing":{"h1":"5rem","h2":"4rem","h3":"2.8rem","h4":"2.5rem","h5":"2.2rem","h6":"2rem"}},"word_count":{"enable":true,"count":true,"min2read":true},"author_label":{"enable":false,"auto":false,"list":[]},"code_block":{"copy":true,"style":"mac","font":{"enable":false,"family":null,"url":null}},"toc":{"enable":true,"max_depth":6,"number":false,"expand":true,"init_open":true},"copyright":{"enable":true,"default":"cc_by_nc_sa"},"lazyload":true,"recommendation":{"enable":false,"title":"推荐阅读","limit":5,"mobile_limit":2,"placeholder":"/images/wallhaven-wqery6-light.webp","skip_dirs":[]}},"colors":{"primary":"#A1AFC9","secondary":null,"default_mode":"light"},"global":{"fonts":{"chinese":{"enable":false,"family":null,"url":null},"english":{"enable":false,"family":null,"url":null}},"content_max_width":"1000px","sidebar_width":"210px","hover":{"shadow":true,"scale":true},"scroll_progress":{"bar":true,"percentage":true},"website_counter":{"url":"https://cn.vercount.one/js","enable":true,"site_pv":true,"site_uv":true,"post_pv":true},"single_page":true,"preloader":true,"open_graph":true,"google_analytics":{"enable":true,"id":"G-MQ43G0NKCT"}},"home_banner":{"enable":true,"style":"fixed","image":{"light":"https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/e63fc400-dd0e-4395-bd1b-9ee1ac3bfb00/public","dark":"https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/a34140d6-7960-45dd-b8b5-c3ddd14d1f00/public"},"title":"角灯随笔","subtitle":{"text":["全栈也不是不行"],"hitokoto":{"enable":false,"api":"https://v1.hitokoto.cn"},"typing_speed":100,"backing_speed":80,"starting_delay":500,"backing_delay":1500,"loop":false,"smart_backspace":true},"text_color":{"light":"#fff","dark":"#d1d1b6"},"text_style":{"title_size":"2.8rem","subtitle_size":"1.5rem","line_height":1.2},"custom_font":{"enable":false,"family":null,"url":null},"social_links":{"enable":true,"style":"default","links":{"github":"https://github.com/CosmicTrace","instagram":null,"zhihu":null,"twitter":null,"email":"kenchansk0@gmail.com"},"qrs":null}},"plugins":{"feed":{"enable":true},"aplayer":{"enable":false,"type":"fixed","audios":[{"name":null,"artist":null,"url":null,"cover":null}]},"mermaid":{"enable":true,"version":"9.3.0"}},"version":"2.6.1","navbar":{"auto_hide":false,"color":{"left":"#f78736","right":"#367df7","transparency":35},"width":{"home":"1200px","pages":"1000px"},"links":{"Home":{"path":"/","icon":"fa-regular fa-house"},"Tags":{"icon":"fa-solid fa-tags","path":"/tags/"},"Categories":{"icon":"fa-solid fa-folder","path":"/categories/"},"Archives":{"path":"/archives","icon":"fa-regular fa-archive"},"娱乐":{"icon":"fa-solid fa-gamepad","submenus":{"王者荣耀":"/hok","守望先锋":"/ow","使命召唤":"/cod"}},"About":{"icon":"fa-regular fa-user","submenus":{"Me":"/about","Github":"https://github.com/CosmicTrace"}}},"search":{"enable":true,"preload":true}},"page_templates":{"friends_column":2,"tags_style":"blur"},"home":{"sidebar":{"enable":true,"position":"left","first_item":"menu","announcement":"谦逊","show_on_mobile":true,"links":null},"article_date_format":"auto","categories":{"enable":true,"limit":3},"tags":{"enable":true,"limit":8}},"footerStart":"2018/07/15 10:15:24"};
    window.lang_ago = {"second":"%s seconds ago","minute":"%s minutes ago","hour":"%s hours ago","day":"%s days ago","week":"%s weeks ago","month":"%s months ago","year":"%s years ago"};
    window.data = {"masonry":false};
  </script>
    
    <!--- Fontawesome Part-->
    
<link rel="stylesheet" href="/fontawesome/fontawesome.min.css">

    
<link rel="stylesheet" href="/fontawesome/brands.min.css">

    
<link rel="stylesheet" href="/fontawesome/solid.min.css">

    
<link rel="stylesheet" href="/fontawesome/regular.min.css">

    
    
    
    
<meta name="generator" content="Hexo 7.1.1"><link rel="alternate" href="/atom.xml" title="角灯随笔" type="application/atom+xml">
</head>


<body>
<div class="progress-bar-container">
    
        <span class="scroll-progress-bar"></span>
    

    
        <span class="pjax-progress-bar"></span>
<!--        <span class="swup-progress-icon">-->
<!--            <i class="fa-solid fa-circle-notch fa-spin"></i>-->
<!--        </span>-->
    
</div>


<main class="page-container" id="swup">

    

    <div class="main-content-container">


        <div class="main-content-header">
            <header class="navbar-container px-6 md:px-12">

    <div class="navbar-content ">
        <div class="left">
            
                <a class="logo-image" href="/">
                    <img src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/e75f26bb-7787-428d-ec58-214a6faf9800/public">
                </a>
            
            <a class="logo-title" href="/">
                
                角灯随笔
                
            </a>
        </div>

        <div class="right">
            <!-- PC -->
            <div class="desktop">
                <ul class="navbar-list">
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/"
                                        >
                                    <i class="fa-regular fa-house fa-fw"></i>
                                    首页
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/tags/"
                                        >
                                    <i class="fa-solid fa-tags fa-fw"></i>
                                    标签
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/categories/"
                                        >
                                    <i class="fa-solid fa-folder fa-fw"></i>
                                    分类
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class=""
                                   href="/archives"
                                        >
                                    <i class="fa-regular fa-archive fa-fw"></i>
                                    归档
                                    
                                </a>

                                <!-- Submenu -->
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-solid fa-gamepad fa-fw"></i>
                                    娱乐
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a href="/hok">
                                                    王者荣耀
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a href="/ow">
                                                    守望先锋
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a href="/cod">
                                                    使命召唤
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                        
                            

                            <li class="navbar-item">
                                <!-- Menu -->
                                <a class="has-dropdown"
                                   href="#"
                                        onClick=&#34;return false;&#34;>
                                    <i class="fa-regular fa-user fa-fw"></i>
                                    关于
                                    <i class="fa-solid fa-chevron-down fa-fw"></i>
                                </a>

                                <!-- Submenu -->
                                
                                    <ul class="sub-menu">
                                        
                                            <li>
                                                <a href="/about">
                                                    ME
                                                </a>
                                            </li>
                                        
                                            <li>
                                                <a target="_blank" rel="noopener" href="https://github.com/CosmicTrace">
                                                    GITHUB
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                    
                    
                        <li class="navbar-item search search-popup-trigger">
                            <i class="fa-solid fa-magnifying-glass"></i>
                        </li>
                    
                </ul>
            </div>
            <!-- Mobile -->
            <div class="mobile">
                
                    <div class="icon-item search search-popup-trigger"><i class="fa-solid fa-magnifying-glass"></i>
                    </div>
                
                <div class="icon-item navbar-bar">
                    <div class="navbar-bar-middle"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile sheet -->
    <div class="navbar-drawer h-screen w-full absolute top-0 left-0 bg-background-color flex flex-col justify-between">
        <ul class="drawer-navbar-list flex flex-col px-4 justify-center items-start">
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/"
                        >
                            <span>
                                首页
                            </span>
                            
                                <i class="fa-regular fa-house fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/tags/"
                        >
                            <span>
                                标签
                            </span>
                            
                                <i class="fa-solid fa-tags fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/categories/"
                        >
                            <span>
                                分类
                            </span>
                            
                                <i class="fa-solid fa-folder fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item text-base my-1.5 flex flex-col w-full">
                        
                        <a class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                           href="/archives"
                        >
                            <span>
                                归档
                            </span>
                            
                                <i class="fa-regular fa-archive fa-sm fa-fw"></i>
                            
                        </a>
                        

                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-娱乐"
                        >
                            <span>
                                娱乐
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-娱乐">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/hok">王者荣耀</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/ow">守望先锋</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/cod">使命召唤</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            
                
                    

                    <li class="drawer-navbar-item-sub text-base my-1.5 flex flex-col w-full">
                        
                        <div class="py-1.5 px-2 flex flex-row items-center justify-between gap-1 hover:!text-primary active:!text-primary cursor-pointer text-2xl font-semibold group border-b border-border-color hover:border-primary w-full "
                             navbar-data-toggle="submenu-About"
                        >
                            <span>
                                关于
                            </span>
                            
                                <i class="fa-solid fa-chevron-right fa-sm fa-fw transition-all"></i>
                            
                        </div>
                        

                        
                            <div class="flex-col items-start px-2 py-2 hidden" data-target="submenu-About">
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           href="/about">ME</a>
                                    </div>
                                
                                    <div class="drawer-navbar-item text-base flex flex-col justify-center items-start hover:underline active:underline hover:underline-offset-1 rounded-3xl">
                                        <a class=" text-third-text-color text-xl"
                                           target="_blank" rel="noopener" href="https://github.com/CosmicTrace">GITHUB</a>
                                    </div>
                                
                            </div>
                        
                    </li>
            

            
            
        </ul>

        <div class="statistics flex justify-around my-2.5">
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/tags">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">96</div>
        <div class="label text-third-text-color text-sm">标签</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/categories">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">7</div>
        <div class="label text-third-text-color text-sm">分类</div>
    </a>
    <a class="item tag-count-item flex flex-col justify-center items-center w-20" href="/archives">
        <div class="number text-2xl sm:text-xl text-second-text-color font-semibold">41</div>
        <div class="label text-third-text-color text-sm">文章</div>
    </a>
</div>
    </div>

    <div class="window-mask"></div>

</header>


        </div>

        <div class="main-content-body">

            

            <div class="main-content">

                
                    <div class="post-page-container flex relative justify-between box-border w-full h-full">
    <div class="article-content-container">

        <div class="article-title relative w-full">
            
                
                
                <img src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/c3a21ff5-1f9a-481f-be10-75d841af2200/public" alt="Robot Framework教程" class="w-full h-60 sm:h-72 md:h-80 object-cover sm:rounded-t-large dark:brightness-75"/>
                
                <div class="w-full flex items-center absolute bottom-0 justify-start">
                    <h1 class="article-title-cover text-center mx-6 my-6 text-second-text-color bg-background-color-transparent px-4 py-3 text-3xl sm:text-4xl md:text-5xl font-bold backdrop-blur-lg rounded-xl border border-border-color ">Robot Framework教程</h1>
                </div>
            
            </div>

        
            <div class="article-header flex flex-row gap-2 items-center px-2 sm:px-6 md:px-8">
                <div class="avatar w-[46px] h-[46px] flex-shrink-0 rounded-medium border border-border-color p-[1px]">
                    <img src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/26329e9f-d1fb-4280-a0a5-754547bf8500/public">
                </div>
                <div class="info flex flex-col justify-between">
                    <div class="author flex items-center">
                        <span class="name text-default-text-color text-lg font-semibold">Yiuhang Chan</span>
                        
                    </div>
                    <div class="meta-info">
                        <div class="article-meta-info">
    <span class="article-date article-meta-item">
        <i class="fa-regular fa-pen-fancy"></i>&nbsp;
        <span class="desktop">2024-04-19 11:17:08</span>
        <span class="mobile">2024-04-19 11:17:08</span>
        <span class="hover-info">创建</span>
    </span>
    
        <span class="article-date article-meta-item">
            <i class="fa-regular fa-wrench"></i>&nbsp;
            <span class="desktop">2024-04-22 17:37:30</span>
            <span class="mobile">2024-04-22 17:37:30</span>
            <span class="hover-info">更新</span>
        </span>
    

    
        <span class="article-categories article-meta-item">
            <i class="fa-regular fa-folders"></i>&nbsp;
            <ul>
                
                
                    
                        
                        <li>
                            <a href="/categories/RPA/">RPA</a>&nbsp;
                        </li>
                    
                    
                
            </ul>
        </span>
    
    
        <span class="article-tags article-meta-item">
            <i class="fa-regular fa-tags"></i>&nbsp;
            <ul>
                
                    <li>
                        <a href="/tags/%E5%9F%BA%E7%A1%80/">基础</a>&nbsp;
                    </li>
                
                    <li>
                        | <a href="/tags/%E7%90%86%E8%AE%BA/">理论</a>&nbsp;
                    </li>
                
            </ul>
        </span>
    

    
    
        <span class="article-wordcount article-meta-item">
            <i class="fa-regular fa-typewriter"></i>&nbsp;<span>39.3k 字</span>
        </span>
    
    
        <span class="article-min2read article-meta-item">
            <i class="fa-regular fa-clock"></i>&nbsp;<span>150 分钟</span>
        </span>
    
    
        <span class="article-pv article-meta-item">
            <i class="fa-regular fa-eye"></i>&nbsp;<span id="busuanzi_value_page_pv"></span>
        </span>
    
</div>

                    </div>
                </div>
            </div>
        

        


        <div class="article-content markdown-body px-2 sm:px-6 md:px-8 pb-8">
            <h2 id="Robot-Framework-简介"><a href="#Robot-Framework-简介" class="headerlink" title="Robot Framework 简介"></a>Robot Framework 简介</h2><p>Robot Framework是一个通用的开源自动化框架。它可用于测试自动化和机器人流程自动化（RPA）。</p>
<p>Robot Framework受Robot Framework基金会支持。许多行业领先的公司在其软件开发中使用该工具。</p>
<p>Robot Framework是开放且可扩展的。Robot Framework可以与几乎任何其他工具集成，以创建强大且灵活的自动化解决方案。Robot Framework可以免费使用，无需许可费用。</p>
<p>Robot Framework具有易于理解的语法，利用人类可读的关键字。其功能可以通过使用Python、Java或许多其他编程语言实现的库来扩展。Robot Framework周围有一个丰富的生态系统，包括作为单独项目开发的库和工具。</p>
<p>Robot Framework的开发由非营利性的Robot Framework基金会资助。它由希望确保Robot Framework现在和将来持续发展的公司和组织组成。Robot Framework仍然完全免费使用，并且在积极进行维护和开发。基金会还覆盖其他相关费用，如开发此网站和组织各种聚会。</p>
<p>基金会成员：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/30f9c15e-c904-4a47-6cde-d1cb3ba19900/public"
                      width = "600"
                >

<h3 id="为什么选择-Robot-Framework？"><a href="#为什么选择-Robot-Framework？" class="headerlink" title="为什么选择 Robot Framework？"></a>为什么选择 Robot Framework？</h3><ul>
<li>提供了易于使用的表格语法，以统一的方式创建测试用例。</li>
<li>允许从现有关键字创建可重用的高级关键字。</li>
<li>提供易于阅读的以 HTML 格式的结果报告和日志。</li>
<li>平台和应用程序无关。</li>
<li>提供了一个简单的库 API，用于创建可以使用 Python 原生实现的定制测试库。</li>
<li>提供了命令行界面和基于 XML 的输出文件，用于集成到现有的构建基础设施（连续集成系统）中。</li>
<li>支持测试 Web 应用程序、REST API、移动应用程序、运行的进程、通过 Telnet 或 SSH 连接到远程系统等。</li>
<li>支持创建数据驱动的测试用例。</li>
<li>具有内置的变量支持，特别适用于在不同环境中进行测试。</li>
<li>提供标记以对测试用例进行分类和选择执行。</li>
<li>可以与源代码控制轻松集成：测试套件只是可以与生产代码一起进行版本控制的文件和目录。</li>
<li>提供了测试用例和测试套件级别的设置和拆卸。</li>
<li>模块化架构支持为具有多个不同接口的应用程序创建测试。</li>
</ul>
<h3 id="高级架构"><a href="#高级架构" class="headerlink" title="高级架构"></a>高级架构</h3><p>Robot Framework 是一个通用的、与应用程序和技术无关的框架。它具有高度模块化的架构，如下图所示：</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/a8f424da-9faa-40fb-2adf-d3cb9b462100/public"
                      width = "600"
                >

<p>测试数据以简单、易于编辑的表格格式存在。当启动 Robot Framework 时，它会处理数据，执行测试用例，并生成日志和报告。核心框架对被测试对象一无所知，与其交互由库处理。库可以直接使用应用程序接口，也可以使用较低级别的测试工具作为驱动程序。</p>
<h3 id="截屏"><a href="#截屏" class="headerlink" title="截屏"></a>截屏</h3><p>以下截屏展示了测试数据以及生成的报告和日志的示例。</p>
<p><strong>测试用例文件：</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/c917360e-1817-4962-de2f-0a68254a0b00/public"
                      width = "600"
                >

<p><strong>报告和日志：</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/d84105c8-19e3-445a-ce35-66360e9a1700/public"
                      width = "600"
                >

<h3 id="获取更多信息"><a href="#获取更多信息" class="headerlink" title="获取更多信息"></a>获取更多信息</h3><h4 id="项目页面"><a href="#项目页面" class="headerlink" title="项目页面"></a>项目页面</h4><p>有关 Robot Framework 及其丰富生态系统的更多信息，首要去处是 <a class="link"   target="_blank" rel="noopener" href="http://robotframework.org/" >http://robotframework.org <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>。Robot Framework 本身托管在 GitHub 上。</p>
<h4 id="邮件列表"><a href="#邮件列表" class="headerlink" title="邮件列表"></a>邮件列表</h4><p>有几个 Robot Framework 邮件列表可供询问和搜索更多信息。邮件列表存档对所有人（包括搜索引擎）开放，每个人也可以自由加入这些列表。但只有列表成员才能发送邮件，为了防止垃圾邮件，新用户需要经过审核，这意味着的第一条消息可能需要一些时间才能通过。不要害怕向邮件列表发送问题，但请记住如何聪明地提问。</p>
<ul>
<li><strong>robotframework-users（Robot Framework 用户）</strong>：关于所有与 Robot Framework 相关问题的一般讨论。可以将问题和问题发送到此列表。也用于向所有用户共享信息。</li>
<li><strong>robotframework-announce（Robot Framework 公告）</strong>：仅供公告的邮件列表，只有管理员才能发送消息。所有公告也发送到 robotframework-users 邮件列表，因此没有必要加入两个列表。</li>
<li><strong>robotframework-devel（Robot Framework 开发）</strong>：关于 Robot Framework 开发的讨论。</li>
</ul>
<h4 id="版权和许可证"><a href="#版权和许可证" class="headerlink" title="版权和许可证"></a>版权和许可证</h4><p>Robot Framework 是一款开源软件，采用 Apache License 2.0 提供。Robot Framework 的文档，例如本用户指南，使用 Creative Commons Attribution 3.0 Unported 许可证。围绕该框架的更大生态系统中的大多数库和工具也是开源的，但它们可能使用不同的许可证。</p>
<p>完整的 Robot Framework 版权声明如下：</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Copyright 2008-2015 Nokia Networks</span><br><span class="line">Copyright 2016-     Robot Framework Foundation</span><br><span class="line"></span><br><span class="line">Licensed under the Apache License, Version 2.0 (the <span class="string">&quot;License&quot;</span>);</span><br><span class="line">you may not use this file except <span class="keyword">in</span> compliance with the License.</span><br><span class="line">You may obtain a copy of the License at</span><br><span class="line"></span><br><span class="line">    http://www.apache.org/licenses/LICENSE-2.0</span><br><span class="line"></span><br><span class="line">Unless required by applicable law or agreed to <span class="keyword">in</span> writing, software</span><br><span class="line">distributed under the License is distributed on an <span class="string">&quot;AS IS&quot;</span> BASIS,</span><br><span class="line">WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span><br><span class="line">See the License <span class="keyword">for</span> the specific language governing permissions and</span><br><span class="line">limitations under the License.</span><br></pre></td></tr></table></figure></div>

<p>根据 Apache 许可证第 2.0 版（“许可证”）许可；除非符合许可证的规定，否则不得使用此文件。可以在以下网址获取许可证的副本：<a class="link"   target="_blank" rel="noopener" href="http://www.apache.org/licenses/LICENSE-2.0" >http://www.apache.org/licenses/LICENSE-2.0 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>除非适用法律要求或书面同意，否则根据许可证分发的软件以“原样”分发，不附带任何明示或暗示的保证或条件。请参阅许可证以了解特定语言下的权限和限制。</p>
<h2 id="安装指南"><a href="#安装指南" class="headerlink" title="安装指南"></a>安装指南</h2><p>这些指南涵盖了在不同操作系统上安装Robot Framework及其前置条件的步骤。如果已经安装了Python，可以使用标准的软件包管理器pip来安装Robot Framework：</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install robotframework</span><br></pre></td></tr></table></figure></div>

<h3 id="Python-安装"><a href="#Python-安装" class="headerlink" title="Python 安装"></a>Python 安装</h3><p><strong>Robot Framework</strong> 是使用 <strong>Python</strong> 实现的，安装它的前提条件是已经安装了 <strong>Python</strong> 或其替代实现 <strong>PyPy</strong>。另一个推荐的前提条件是有 <strong>pip</strong> 包管理器可用。</p>
<p><strong>Robot Framework</strong> 需要 <strong>Python 3.8</strong> 或更新版本。支持 <strong>Python 3.6</strong> 和 <strong>3.7</strong> 的最新版本是 <strong>Robot Framework 6.1.1</strong>。如果需要使用 <strong>Python 2</strong>，<strong>Jython</strong> 或 <strong>IronPython</strong>，可以使用 <strong>Robot Framework 4.1.3</strong>。</p>
<h3 id="在-Linux-上安装-Python"><a href="#在-Linux-上安装-Python" class="headerlink" title="在 Linux 上安装 Python"></a>在 Linux 上安装 Python</h3><p>在 Linux 上，默认应该已经安装了适合的 Python 版本和 pip。如果没有，需要查阅发行版的文档来了解如何安装它们。如果想使用默认提供的 Python 版本之外的其他版本，这同样适用。</p>
<p>要检查已安装的 Python 版本，可以在终端运行 <code>python --version</code> 命令：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">python --version</span></span><br><span class="line">Python 3.10.13</span><br></pre></td></tr></table></figure></div>

<p>注意，如果的发行版也提供了较旧的 Python 2，运行 <code>python</code> 可能会使用那个。要使用 Python 3，可以使用 <code>python3</code> 命令，或者更具体的版本命令，如 <code>python3.8</code>。如果安装了多个 Python 3 版本，也需要使用这些具体版本的变体来确定使用哪一个：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">python3.11 --version</span></span><br><span class="line">Python 3.11.7</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">python3.12 --version</span></span><br><span class="line">Python 3.12.1</span><br></pre></td></tr></table></figure></div>

<p>直接在系统提供的 Python 下安装 Robot Framework 存在风险，可能的问题会影响到操作系统本身也在使用的整个 Python 安装。现在的 Linux 发行版通常默认使用用户安装来避免此类问题，但用户也可以自己决定使用虚拟环境。</p>
<h3 id="Windows-上的-Python-安装"><a href="#Windows-上的-Python-安装" class="headerlink" title="Windows 上的 Python 安装"></a>Windows 上的 Python 安装</h3><ul>
<li>Windows 默认不提供 Python，但安装起来很简单。推荐使用官方 Windows 安装程序，可在 <a class="link"   target="_blank" rel="noopener" href="http://python.org/" >http://python.org <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> 获取。</li>
<li>安装 Python 时，建议将 Python 添加到 PATH，以便从命令行更容易执行 Python 及其工具，如 pip 和 Robot Framework。使用官方安装程序时，只需在第一个对话框中选择 Add Python 3.x to PATH 复选框。</li>
</ul>
<p>验证 Python 安装是否成功并已添加到 PATH：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;python --version</span><br><span class="line">Python 3.10.9</span><br></pre></td></tr></table></figure></div>

<ul>
<li>如果在 Windows 上安装了多个 Python 版本，执行 python 时使用的是 PATH 中排在首位的版本。要使用其他版本，最简单的方法是使用 py 启动器：</li>
</ul>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;py --version</span><br><span class="line">Python 3.10.9</span><br><span class="line">C:\&gt;py -3.12 --version</span><br><span class="line">Python 3.12.1</span><br></pre></td></tr></table></figure></div>

<h3 id="macOS-上的-Python-安装"><a href="#macOS-上的-Python-安装" class="headerlink" title="macOS 上的 Python 安装"></a>macOS 上的 Python 安装</h3><ul>
<li>macOS 默认不提供与 Python 3 兼容的 Python 版本，需要单独安装。推荐使用官方 macOS 安装程序，可在 <a class="link"   target="_blank" rel="noopener" href="http://python.org/" >http://python.org <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> 获取。如果使用包管理器如 Homebrew，也可以通过它安装 Python。</li>
</ul>
<h3 id="PyPy-安装"><a href="#PyPy-安装" class="headerlink" title="PyPy 安装"></a>PyPy 安装</h3><ul>
<li>PyPy 是 Python 的替代实现。与标准 Python 实现相比，其主要优势是可能更快且使用更少内存，但这取决于使用的上下文。如果执行速度重要，至少测试 PyPy 是个好主意。</li>
</ul>
<p>PyPy 安装是一个简单的过程，可以在 <a class="link"   target="_blank" rel="noopener" href="http://pypy.org/" >http://pypy.org <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a> 找到安装程序和安装说明。验证 PyPy 安装是否成功：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pypy --version</span></span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pypy3 --version</span></span><br></pre></td></tr></table></figure></div>

<p>注意：仅在 Linux 上官方支持使用 PyPy 的 Robot Framework。</p>
<h3 id="配置-PATH"><a href="#配置-PATH" class="headerlink" title="配置 PATH"></a>配置 PATH</h3><ul>
<li>PATH 环境变量列出了系统中执行命令时搜索的目录。为了便于从命令行使用 Python、pip 和 Robot Framework，建议将 Python 安装目录以及 pip 和 robot 等命令安装的目录添加到 PATH。</li>
<li>在 Linux 或 macOS 上使用 Python 时，Python 及其安装的工具应自动在 PATH 中。如果仍需更新 PATH，则通常需要编辑某些系统范围或用户特定的配置文件。具体编辑哪个文件以及如何编辑取决于操作系统，需要查阅其文档了解更多详情。</li>
<li>在 Windows 上，确保 PATH 配置正确的最简单方法是在运行安装程序时勾选 Add Python 3.x to PATH 复选框。手动修改 Windows 上的 PATH，请按照以下步骤操作：</li>
</ul>
<ol>
<li>在设置中找到环境变量。有影响整个系统的变量和仅影响当前用户的变量。修改前者将需要管理员权限，但通常只需修改后者。</li>
<li>选择 PATH（通常写作 Path）并点击编辑。如果正在编辑用户变量且 PATH 不存在，则点击新建。</li>
<li>将 Python 安装目录和安装目录下的 Scripts 目录都添加到 PATH 中。</li>
<li>点击确定退出对话框以保存更改。</li>
<li>启动新的命令提示符以使更改生效。</li>
</ol>
<h3 id="使用-pip-安装"><a href="#使用-pip-安装" class="headerlink" title="使用 pip 安装"></a>使用 pip 安装</h3><h4 id="pip-命令的运行"><a href="#pip-命令的运行" class="headerlink" title="pip 命令的运行"></a>pip 命令的运行</h4><ul>
<li>在 Linux 上，可能需要使用 <code>pip3</code> 或更具体的 Python 版本命令，如 <code>pip3.8</code>。</li>
<li>在 Windows 上，当执行 <code>python</code> 时，PATH 中首先找到的版本将被使用。如果需要使用其他版本，可以运行 <code>py</code> 启动器。</li>
</ul>
<h4 id="验证-pip-是否可用"><a href="#验证-pip-是否可用" class="headerlink" title="验证 pip 是否可用"></a>验证 pip 是否可用</h4><ul>
<li>Linux 示例：</li>
</ul>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">pip --version</span></span><br><span class="line">pip 23.2.1 from ... (python 3.10)</span><br><span class="line"><span class="meta prompt_">$ </span><span class="language-bash">python3.12 -m pip --version</span></span><br><span class="line">pip 23.3.1 from ... (python 3.12)</span><br></pre></td></tr></table></figure></div>

<ul>
<li>Windows 示例：</li>
</ul>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt; pip --version</span><br><span class="line">pip 23.2.1 from ... (python 3.10)</span><br><span class="line">C:\&gt; py -m 3.12 -m pip --version</span><br><span class="line">pip 23.3.2 from ... (python 3.12)</span><br></pre></td></tr></table></figure></div>

<h4 id="安装与卸载-Robot-Framework"><a href="#安装与卸载-Robot-Framework" class="headerlink" title="安装与卸载 Robot Framework"></a>安装与卸载 Robot Framework</h4><ul>
<li>从 Python 包索引 (PyPI) 安装和下载包是 pip 的常用方法。</li>
</ul>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装最新版本（不升级）</span></span><br><span class="line">pip install robotframework</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">升级到最新稳定版本</span></span><br><span class="line">pip install --upgrade robotframework</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">升级到最新版本，即使它是预发布版本</span></span><br><span class="line">pip install --upgrade --pre robotframework</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装特定版本</span></span><br><span class="line">pip install robotframework==7.0</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">安装单独下载的包（无需网络连接）</span></span><br><span class="line">pip install robotframework-7.0-py3-none-any.whl</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">直接从 GitHub 安装最新（可能未发布）的代码</span></span><br><span class="line">pip install https://github.com/robotframework/robotframework/archive/master.zip</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">卸载</span></span><br><span class="line">pip uninstall robotframework</span><br></pre></td></tr></table></figure></div>

<h3 id="从源代码安装"><a href="#从源代码安装" class="headerlink" title="从源代码安装"></a>从源代码安装</h3><p>如果没有pip可用，可以通过下载PyPI上的zip包并解压，或者克隆GitHub仓库并检出所需的发布标签来获取Robot Framework源代码。</p>
<p>安装源代码的命令如下：</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python setup.py install</span><br></pre></td></tr></table></figure></div>

<p><code>setup.py</code> 脚本接受多个参数，例如允许安装到不需要管理员权限的非默认位置。此外，该脚本也用于创建不同的发行包。运行 <code>python setup.py --help</code> 可以获取更多详情。</p>
<h3 id="验证安装"><a href="#验证安装" class="headerlink" title="验证安装"></a>验证安装</h3><p>为了确保安装了正确版本的Robot Framework，可以运行以下命令：</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ robot --version</span><br></pre></td></tr></table></figure></div>

<p>如果出现命令未找到或无法识别的消息，首先应该检查PATH配置。</p>
<p>如果在多个Python版本下安装了Robot Framework，运行 <code>robot</code> 将执行PATH中的第一个。要显式选择，可以运行 <code>python -m robot</code> 并用正确的Python版本替换 <code>python</code>。</p>
<p>例如：</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ python3.12 -m robot --version</span><br></pre></td></tr></table></figure></div>

<p>或在Windows上：</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">C:\&gt;py -3.11 -m robot --version</span><br></pre></td></tr></table></figure></div>

<h3 id="虚拟环境"><a href="#虚拟环境" class="headerlink" title="虚拟环境"></a>虚拟环境</h3><p>Python虚拟环境允许将Python包安装在特定系统或应用程序的隔离位置，而不是将所有包安装在同一全局位置。主要有两个用途：</p>
<ul>
<li>为不同项目将所需包安装在各自的环境中，避免如果项目需要不同版本的同一包时发生冲突。</li>
<li>避免在全局Python安装下安装所有内容。这在Linux上尤其重要，因为全局Python安装可能被发行版本身使用，搞乱它可能会导致严重问题。</li>
</ul>
<h2 id="设置集成开发环境"><a href="#设置集成开发环境" class="headerlink" title="设置集成开发环境"></a>设置集成开发环境</h2><h3 id="IDE"><a href="#IDE" class="headerlink" title="IDE"></a>IDE</h3><ul>
<li><strong>Visual Studio Code</strong><ul>
<li>代码编辑。重新定义。免费。基于开源。无处不在。</li>
</ul>
</li>
<li><strong>PyCharm</strong><ul>
<li>专业开发人员的Python集成开发环境</li>
</ul>
</li>
</ul>
<h3 id="安装IDE和扩展"><a href="#安装IDE和扩展" class="headerlink" title="安装IDE和扩展"></a>安装IDE和扩展</h3><p>许多IDE和代码编辑器支持开发Robot Framework测试。</p>
<p>支持范围从简单的代码高亮、代码完成到测试执行和调试。</p>
<p>我们在这里列出了几个IDE和扩展，但还有很多其他的选择。</p>
<h4 id="Visual-Studio-Code"><a href="#Visual-Studio-Code" class="headerlink" title="Visual Studio Code"></a>Visual Studio Code</h4><p>由Microsoft开发的开源轻量级代码编辑器。它提供了许多不同语言和技术的扩展。</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/6a381063-0304-4e9b-6da7-5312ec6f5600/public"
                      width = "600"
                >

<p><strong>VS Code</strong></p>
<p>针对Robot Framework的常用扩展：</p>
<ul>
<li>Robot Code</li>
<li>Robot Framework Language Server</li>
</ul>
<h4 id="安装Visual-Studio-Code"><a href="#安装Visual-Studio-Code" class="headerlink" title="安装Visual Studio Code"></a>安装Visual Studio Code</h4><p>查看VS Code设置指南以获取更多信息。</p>
<ol>
<li>从Visual Studio Code下载Windows安装程序</li>
<li>使用默认设置运行安装程序</li>
<li>启动Visual Studio Code，方式有：<ul>
<li>按下 <code>Windows键 + R</code>，键入 <code>code</code>，然后按 <code>Enter</code></li>
<li>打开开始菜单，搜索 <code>Visual Studio Code</code>并单击打开</li>
</ul>
</li>
</ol>
<h4 id="Visual-Studio-Code扩展"><a href="#Visual-Studio-Code扩展" class="headerlink" title="Visual Studio Code扩展"></a>Visual Studio Code扩展</h4>
  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>确保仅安装了一个Robot Framework扩展。</p>

    </div>
  </div>

<p><strong>RobotCode</strong>是Visual Studio Code的一个Robot Framework扩展。</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/709fba20-2801-4012-0612-4d57cbc43200/public"
                      width = "600"
                >

<ol>
<li>打开Visual Studio Code</li>
<li>点击扩展图标或按 <code>Ctrl + Shift + X</code></li>
<li>搜索 <code>RobotCode</code>并点击安装</li>
<li>点击安装</li>
</ol>
<p><strong>Robot Framework Language Server</strong>是Visual Studio Code的一个Robot Framework扩展。</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/1ac9b381-8f71-4466-9681-368a1e69a800/public"
                      width = "600"
                >

<ol>
<li>打开Visual Studio Code</li>
<li>点击扩展图标或按 <code>Ctrl + Shift + X</code></li>
<li>搜索 <code>Robot Framework Language Server</code>并点击安装</li>
<li>点击安装</li>
</ol>
<h4 id="PyCharm"><a href="#PyCharm" class="headerlink" title="PyCharm"></a>PyCharm</h4><p>PyCharm是一个免费开源的Python集成开发环境。</p>
<p>针对Robot Framework的常用扩展：</p>
<ul>
<li>Robot Framework Language Server</li>
</ul>
<h4 id="安装PyCharm"><a href="#安装PyCharm" class="headerlink" title="安装PyCharm"></a>安装PyCharm</h4><p>查看PyCharm安装指南以获取更多信息。</p>
<p>有两种安装方法：</p>
<ol>
<li>推荐使用JetBrains的Toolbox App。</li>
<li>替代的独立安装方法</li>
</ol>
<h4 id="PyCharm扩展"><a href="#PyCharm扩展" class="headerlink" title="PyCharm扩展"></a>PyCharm扩展</h4>
  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>确保仅安装了一个Robot Framework扩展。</p>

    </div>
  </div>

<p><strong>Robot Framework Language Server</strong></p>
<ol>
<li>按 <code>Ctrl + Alt + S</code>打开设置对话框</li>
<li>选择 <code>插件</code></li>
<li>选择 <code>市场</code>选项卡</li>
<li>搜索 <code>Robot Framework Language Server</code>并点击安装</li>
<li>为Robot Framework添加调试配置以运行当前测试套件</li>
</ol>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/93ca4a58-a443-4027-9294-03ca806b6b00/public"
                      width = "600"
                >

<ol start="6">
<li>为Robot Framework添加调试配置以运行当前测试用例（通过选择的文本）</li>
</ol>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/34c91105-04f3-434f-f33a-6e3a158b1200/public"
                      width = "600"
                >


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>如果控制台输出问号或者乱码则在环境变量(Environment variables) 添加编码变量PYTHONIOENCODING&#x3D;UTF-8</p>

    </div>
  </div>

<h3 id="运行和调试Robot-Framework测试"><a href="#运行和调试Robot-Framework测试" class="headerlink" title="运行和调试Robot Framework测试"></a>运行和调试Robot Framework测试</h3><h4 id="使用Visual-Studio-Code和RobotCode"><a href="#使用Visual-Studio-Code和RobotCode" class="headerlink" title="使用Visual Studio Code和RobotCode"></a>使用Visual Studio Code和RobotCode</h4><p><strong>运行</strong></p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/35893b31-67ea-4ca1-09bd-cab884e15e00/public"
                      width = "600"
                >

<p><strong>调试</strong></p>
<ul>
<li>在测试套件或资源文件中点击行的左侧添加断点。</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/8a97fa57-b2c6-4d5e-4435-7d21045fcc00/public"
                      width = "600"
                >

<ul>
<li>右键单击播放按钮</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/3d3a5186-3154-42c0-f5b0-3c9475e82200/public"
                      width = "600"
                >

<ul>
<li>从上下文菜单中选择“调试测试”，测试执行将开始，并在断点处停止。</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/2fd623f9-0666-45a3-153e-59b80a81a900/public"
                      width = "600"
                >

<ul>
<li>使用调试工具栏选择操作，如单步执行、进入、跳出、继续、暂停等。</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/2fd623f9-0666-45a3-153e-59b80a81a900/public"
                      width = "600"
                >

<ul>
<li>在调试控制台中调试时运行Robot Framework命令。</li>
<li>命令需要以！开头。</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/2d991a9f-4459-460d-bd01-e4f43e7faf00/public"
                      width = "600"
                >

<h4 id="使用PyCharm和Robot-Framework-Language-Server"><a href="#使用PyCharm和Robot-Framework-Language-Server" class="headerlink" title="使用PyCharm和Robot Framework Language Server"></a>使用PyCharm和Robot Framework Language Server</h4><p><strong>运行</strong></p>
<ul>
<li>运行当前测试套件</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/a40df1c6-4ecb-4437-8dc2-939499e0c900/public"
                      width = "600"
                >

<ul>
<li>运行当前测试用例（通过选择的文本）</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/069aff0f-278c-4451-ad5c-d1cebb8f0900/public"
                      width = "600"
                >

<p><strong>调试</strong></p>
<ul>
<li>调试测试</li>
</ul>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/b59df1e5-797c-4079-0589-fbe885be5300/public"
                      width = "600"
                >

<h3 id="使用Poetry管理依赖"><a href="#使用Poetry管理依赖" class="headerlink" title="使用Poetry管理依赖"></a>使用Poetry管理依赖</h3><p>Poetry是Python的一个依赖管理和打包工具。</p>
<p>它允许声明项目所依赖的库，并会为管理（安装&#x2F;更新）它们。在开始任何新的Python或Robot Framework项目时，都可以使用它。</p>
<p>按照官方指南安装Poetry。</p>
<p>在PowerShell中运行以下命令：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(Invoke-WebRequest -Uri https://install.python-poetry.org -UseBasicParsing).Content | py -</span><br></pre></td></tr></table></figure></div>

<p>如果通过Microsoft Store安装了Python，将上述命令中的py替换为python。</p>
<p>运行一次poetry以检查是否已安装。</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry --version</span><br></pre></td></tr></table></figure></div>

<h4 id="虚拟环境文件夹"><a href="#虚拟环境文件夹" class="headerlink" title="虚拟环境文件夹"></a>虚拟环境文件夹</h4><p>Poetry会在 <code>.poetry/envs</code>文件夹中保存虚拟环境。可以更改该设置，并通过运行以下命令将虚拟环境存储在项目文件夹中：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry config virtualenvs.in-project true</span><br></pre></td></tr></table></figure></div>

<h4 id="初始化新项目"><a href="#初始化新项目" class="headerlink" title="初始化新项目"></a>初始化新项目</h4><p>要初始化新项目，在终端中运行以下命令：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry init</span><br></pre></td></tr></table></figure></div>

<p>Poetry会询问一些关于项目的问题。可以通过按Enter键留下默认值，或者输入自己的值。</p>
<p>示例：</p>
<p>此命令将引导创建 <code>pyproject.toml</code>配置。</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Package name [your-project-name]:</span><br><span class="line">Version [0.1.0]:</span><br><span class="line">Description []:</span><br><span class="line">Author [Your Name &lt;your.email@example.com&gt;, n to skip]:</span><br><span class="line">License []:</span><br><span class="line">Compatible Python versions [^3.10]:</span><br><span class="line"></span><br><span class="line">Would you like to define your main dependencies interactively? (yes/no) [yes] no</span><br><span class="line">Would you like to define your development dependencies interactively? (yes/no) [yes] no</span><br></pre></td></tr></table></figure></div>

<p>初始化后，会在项目文件夹中看到一个名为 <code>pyproject.toml</code>的新文件。此文件包含有关项目和依赖项的所有信息。</p>
<h4 id="添加依赖项"><a href="#添加依赖项" class="headerlink" title="添加依赖项"></a>添加依赖项</h4><p>要添加依赖项，在终端中运行以下命令：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry add robotframework</span><br></pre></td></tr></table></figure></div>

<p>也可以一次添加多个依赖项：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry add robotframework robotframework-browser robotframework-requests</span><br></pre></td></tr></table></figure></div>

<p>在首次运行时，poetry将为项目创建一个虚拟环境并安装依赖项。</p>
<h4 id="在虚拟环境中运行命令"><a href="#在虚拟环境中运行命令" class="headerlink" title="在虚拟环境中运行命令"></a>在虚拟环境中运行命令</h4><p>要在虚拟环境中运行命令，可以使用 <code>poetry run</code>命令。</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry run robot --version</span><br></pre></td></tr></table></figure></div>

<p>例如，要安装 <code>robotframework-browser</code>的playwright依赖项，可以运行以下命令：</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">poetry run rfbrowser init</span><br></pre></td></tr></table></figure></div>

<p>还可以使用 <code>poetry shell</code>命令在虚拟环境中打开一个shell。 在此shell中运行的所有命令都将在虚拟环境中执行。</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">poetry shell</span><br><span class="line">(.venv) robot --version</span><br></pre></td></tr></table></figure></div>

<h3 id="演示"><a href="#演示" class="headerlink" title="演示"></a>演示</h3><p>有几个演示项目介绍了Robot Framework并帮助开始使用它：</p>
<ul>
<li>快速入门指南：介绍Robot Framework最重要的特性，并作为可执行演示。<ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://github.com/robotframework/QuickStartGuide/blob/master/QuickStart.rst" >https://github.com/robotframework/QuickStartGuide/blob/master/QuickStart.rst <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
</li>
<li>Robot Framework演示：简单的示例测试用例。还演示了如何创建自定义测试库。<ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://github.com/robotframework/RobotDemo" >https://github.com/robotframework/RobotDemo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
</li>
<li>网页测试演示：演示如何创建测试和更高级别的关键字。测试的系统是一个简单的网页，使用SeleniumLibrary进行测试。<ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://github.com/robotframework/WebDemo" >https://github.com/robotframework/WebDemo <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
</li>
<li>使用Robot Framework进行ATDD：演示如何在遵循接受测试驱动开发（ATDD）过程时使用Robot Framework。<ul>
<li><a class="link"   target="_blank" rel="noopener" href="https://code.google.com/p/atdd-with-robot-framework" >https://code.google.com/p/atdd-with-robot-framework <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></li>
</ul>
</li>
</ul>
<h2 id="创建测试数据"><a href="#创建测试数据" class="headerlink" title="创建测试数据"></a>创建测试数据</h2><h3 id="测试数据语法"><a href="#测试数据语法" class="headerlink" title="测试数据语法"></a>测试数据语法</h3><p>此部分涵盖Robot Framework的整体测试数据语法。以下各节将解释如何实际创建测试用例、测试套件等。尽管本节主要使用测试一词，但创建任务时也适用相同规则。</p>
<h4 id="文件和目录"><a href="#文件和目录" class="headerlink" title="文件和目录"></a>文件和目录</h4><p>安排测试用例的层次结构建立如下：</p>
<ul>
<li>测试用例在套件文件中创建。</li>
<li>测试用例文件自动创建一个包含该文件中测试用例的测试套件。</li>
<li>包含测试用例文件的目录形成一个更高级别的测试套件。这样的套件目录拥有从测试用例文件创建的子测试套件。</li>
<li>测试套件目录也可以包含其他测试套件目录，这种层次结构可以根据需要深入嵌套。</li>
<li>测试套件目录可以有一个特殊的初始化文件，用于配置创建的测试套件。</li>
</ul>
<p>此外，还包括：</p>
<ul>
<li>包含最低级关键字的测试库。</li>
<li>带有变量和更高级用户关键字的资源文件。</li>
<li>提供比资源文件更灵活的创建变量方式的变量文件。</li>
</ul>
<p>测试用例文件、测试套件初始化文件和资源文件都使用Robot Framework测试数据语法创建。测试库和变量文件使用“真实”编程语言创建，通常是Python。</p>
<h4 id="测试数据部分"><a href="#测试数据部分" class="headerlink" title="测试数据部分"></a>测试数据部分</h4><p>Robot Framework数据在不同部分定义，这些部分通常也称为表格，如下所列：</p>
<table>
<thead>
<tr>
<th align="left">部分</th>
<th align="left">用途</th>
</tr>
</thead>
<tbody><tr>
<td align="left">Settings</td>
<td align="left">1) 导入测试库、资源文件和变量文件。<br />2) 定义测试套件和测试用例的元数据。</td>
</tr>
<tr>
<td align="left">Variables</td>
<td align="left">定义可以在测试数据中其他地方使用的变量。</td>
</tr>
<tr>
<td align="left">Test Cases</td>
<td align="left">从可用关键字创建测试用例。</td>
</tr>
<tr>
<td align="left">Tasks</td>
<td align="left">使用可用关键字创建任务。单个文件只能包含测试或任务。</td>
</tr>
<tr>
<td align="left">Keywords</td>
<td align="left">从现有的低级关键字创建用户关键字。</td>
</tr>
<tr>
<td align="left">Comments</td>
<td align="left">额外的评论或数据。被Robot Framework忽略。</td>
</tr>
</tbody></table>
<p>不同部分通过其标题行被识别。推荐的标题格式是 <code>*** Settings***</code>，但标题不区分大小写，周围的空格是可选的，星号字符的数量可以变化，只要开头至少有一个星号。例如，<code>*Settings</code>也会被识别为部分标题。</p>
<p>Robot Framework也支持单数标题，如 <code>*** Setting***</code>，但该支持在Robot Framework 6.0中已被弃用。从Robot Framework 7.0开始会有可见的弃用警告，最终单数标题将完全不被支持。</p>
<p>标题行也可以包含实际部分标题以外的其他数据。额外的数据必须使用数据格式依赖的分隔符与部分标题分开，通常是两个或更多空格。这些额外的标题在解析时会被忽略，但它们可以用于文档记录目的。在使用数据驱动风格创建测试用例时，这特别有用。</p>
<p>第一部分之前的可能数据被忽略。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>部分标题可以本地化。有关支持的翻译，请参阅翻译。</p>

    </div>
  </div>


<h4 id="支持的文件格式"><a href="#支持的文件格式" class="headerlink" title="支持的文件格式"></a>支持的文件格式</h4><p>创建Robot Framework数据的最常见方法是使用空格分隔的格式，其中数据的各个部分，例如关键字及其参数，用两个或更多空格分隔。</p>
<p>另一种方法是使用管道分隔的格式，其中分隔符是用空格括起来的管道字符 <code>|</code>。</p>
<p>套件文件通常使用 <code>.robot</code>扩展名，但可以配置解析哪些文件。资源文件也可以使用 <code>.robot</code>扩展名，但建议使用专用的 <code>.resource</code>扩展名，并且在将来可能会被强制执行。</p>
<p>包含非ASCII字符的文件必须使用UTF-8编码保存。</p>
<p>Robot Framework还支持reStructuredText文件，以便将普通的Robot Framework数据嵌入到代码块中。默认情况下，仅解析具有 <code>.robot.rst</code>扩展名的文件。如果更喜欢使用 <code>.rst</code>或 <code>.rest</code>扩展名，那么需要单独配置。</p>
<p>Robot Framework数据还可以以JSON格式创建，该格式更针对工具开发人员而不是普通的Robot Framework用户。默认情况下，仅解析具有自定义 <code>.rbt</code>扩展名的JSON文件。</p>
<p>较早的Robot Framework版本还支持HTML和TSV格式的数据。如果数据与空格分隔格式兼容，则TSV格式仍然有效，但完全删除了对HTML格式的支持。如果遇到此类数据文件，需要将其转换为纯文本格式，以便在Robot Framework 3.2或更新版本中使用。最简单的方法是使用Tidy工具，但必须使用Robot Framework 3.1附带的版本，因为更新版本根本不理解HTML格式。</p>
<h4 id="空格分隔格式"><a href="#空格分隔格式" class="headerlink" title="空格分隔格式"></a>空格分隔格式</h4><p>当Robot Framework解析数据时，它首先将数据拆分为行，然后将行拆分为诸如关键字和参数之类的标记。在使用空格分隔格式时，标记之间的分隔符是两个或更多空格，或者是一个或多个制表符。除了正常的ASCII空格之外，任何被视为空格的Unicode字符（例如不间断空格）都可以作为分隔符。分隔标记所使用的空格数量可以变化，只要至少有两个，这样在设置和其他地方对齐数据时就可以使数据更易于理解。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Documentation     使用空格分隔格式的示例。</span><br><span class="line">Library           OperatingSystem</span><br><span class="line"></span><br><span class="line">*** Variables ***</span><br><span class="line">$&#123;MESSAGE&#125;        好，世界！</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">我的测试</span><br><span class="line">    [Documentation]    示例测试。</span><br><span class="line">    Log    $&#123;MESSAGE&#125;</span><br><span class="line">    My Keyword    $&#123;CURDIR&#125;</span><br><span class="line"></span><br><span class="line">另一个测试</span><br><span class="line">    Should Be Equal    $&#123;MESSAGE&#125;    好，世界！</span><br><span class="line"></span><br><span class="line">*** Keywords ***</span><br><span class="line">My Keyword</span><br><span class="line">    [Arguments]    $&#123;path&#125;</span><br><span class="line">    Directory Should Exist    $&#123;path&#125;</span><br></pre></td></tr></table></figure></div>

<p>在这个示例中：</p>
<ul>
<li><code>*** Settings ***</code>：定义了测试或任务的设置。</li>
<li><code>Documentation</code>：提供了对测试或任务的描述。</li>
<li><code>Library</code>：指定了测试或任务中将使用的库。</li>
<li><code>*** Variables ***</code>：声明了在测试中使用的变量。</li>
<li><code>$&#123;MESSAGE&#125;</code>：变量的名称，其值为“好，世界！”。</li>
<li><code>*** Test Cases ***</code>：标记了测试用例的开始。</li>
<li><code>我的测试</code>和 <code>另一个测试</code>：测试用例的名称。</li>
<li><code>[Documentation]</code>：为测试用例提供了额外的描述。</li>
<li><code>Log</code>：一个关键字，用于记录信息。</li>
<li><code>My Keyword</code>：自定义关键字的名称。</li>
<li><code>Should Be Equal</code>：一个内置关键字，用于断言两个值是否相等。</li>
<li><code>*** Keywords ***</code>：标记了自定义关键字的开始。</li>
<li><code>[Arguments]</code>：定义了关键字的参数。</li>
<li><code>Directory Should Exist</code>：一个内置关键字，用于验证指定路径的目录是否存在。</li>
</ul>
<p>因为制表符和连续的空格被视为分隔符，所以如果在关键字参数或实际数据的其他位置需要它们，则必须对它们进行转义。可以使用特殊的转义语法，如 <code>\t</code>表示制表符，<code>\xA0</code>表示不间断空格，以及内置变量 <code>$&#123;SPACE&#125;</code>和 <code>$&#123;EMPTY&#125;</code>。详情请参阅转义部分。</p>
<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/566a2630-666b-4bec-05a3-8eba7d2b8100/public"
                      width = "600"
                >


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-info"></i><p>信息</p>

    </div>
    <div class="notel-content">
      <p>虽然使用两个空格作为分隔符就足够了，但建议使用四个空格，以便更容易识别分隔符。</p>

    </div>
  </div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>在Robot Framework 3.2之前，数据中使用的非ASCII空格在解析过程中会被转换为ASCII空格。现在所有数据都保持原样。</p>

    </div>
  </div>

<h4 id="管道分隔格式"><a href="#管道分隔格式" class="headerlink" title="管道分隔格式"></a>管道分隔格式</h4><p>空格分隔格式的最大问题是在视觉上将关键字与参数分开可能会很棘手。这个问题特别突出，特别是如果关键字需要很多参数和&#x2F;或参数包含空格的情况下。在这种情况下，管道分隔的变体可能会更好，因为它使分隔符更加明显可见。</p>
<p>一个文件可以同时包含空格分隔和管道分隔的行。管道分隔的行通过强制性的前导管道字符进行识别，但行尾的管道是可选的。除了在行的开头和结尾，管道的两侧始终必须至少有一个空格或制表符。不需要对齐管道，但通常这样做会使数据更易于阅读。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">| *** Settings ***   |</span><br><span class="line">| Documentation      | 使用管道分隔格式的示例。</span><br><span class="line">| Library            | OperatingSystem</span><br><span class="line"></span><br><span class="line">| *** Variables ***  |</span><br><span class="line">| $&#123;MESSAGE&#125;         | 好，世界！</span><br><span class="line"></span><br><span class="line">| *** Test Cases *** |                 |               |</span><br><span class="line">| My Test            | [Documentation] | 示例测试。    |</span><br><span class="line">|                    | Log             | $&#123;MESSAGE&#125;    |</span><br><span class="line">|                    | My Keyword      | $&#123;CURDIR&#125;     |</span><br><span class="line">| Another Test       | Should Be Equal | $&#123;MESSAGE&#125;    | 好，世界！</span><br><span class="line"></span><br><span class="line">| *** Keywords ***   |                        |         |</span><br><span class="line">| My Keyword         | [Arguments]            | $&#123;path&#125; |</span><br><span class="line">|                    | Directory Should Exist | $&#123;path&#125; |</span><br></pre></td></tr></table></figure></div>

<img  
                     lazyload
                     src="/images/loading.svg"
                     data-src="https://imagedelivery.net/sodhLvOXTBoeXxRe03g_RA/13ab6da9-18d2-4f79-09c7-b6696b2b1600/public"
                      width = "600"
                >

<p>在使用管道分隔格式时，参数内部的连续空格或制表符不需要转义。同样，空列不需要转义，除非它们位于末尾。然而，在实际测试数据中可能被空格包围的管道必须使用反斜杠进行转义：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">| *** Test Cases *** |                 |                 |                      |</span><br><span class="line">| Escaping Pipe      | $&#123;file count&#125; = | Execute Command | ls -1 *.txt \| wc -l |</span><br><span class="line">|                    | Should Be Equal | $&#123;file count&#125;   | 42                   |</span><br></pre></td></tr></table></figure></div>

<ol>
<li><code>Execute Command</code> 关键字执行了 <code>ls -1 *.txt | wc -l</code> 命令。</li>
<li><code>ls -1 *.txt</code> 列出了当前目录中所有以 <code>.txt</code> 结尾的文件。</li>
<li><code>wc -l</code> 统计了文件的行数。</li>
</ol>
<p>最终，验证了文件的行数是否等于 42。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>保留参数中的连续空格和制表符是Robot Framework 3.2的新功能。在此之前，数据中使用的非ASCII空格也会被转换为ASCII空格。</p>

    </div>
  </div>

<h4 id="reStructuredText-格式"><a href="#reStructuredText-格式" class="headerlink" title="reStructuredText 格式"></a>reStructuredText 格式</h4><p>reStructuredText（reST）是一种易于阅读的纯文本标记语法，通常用于Python项目的文档，包括Python本身以及本用户指南。reST文档最常编译为HTML，但也支持其他输出格式。使用reST与Robot Framework结合使用，允许在简洁的文本格式中混合富格式文档和测试数据，这样就可以使用简单的文本编辑器、差异工具和源代码控制系统轻松地处理。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>使用reStructuredText文件与Robot Framework需要安装Python docutils模块。</p>
<p>当使用Robot Framework与reStructuredText文件时，普通的Robot Framework数据被嵌入到所谓的代码块中。在标准reST中，代码块使用代码指令进行标记，但Robot Framework还支持Sphinx工具使用的code-block或sourcecode指令。</p>

    </div>
  </div>

<h5 id="reStructuredText-示例"><a href="#reStructuredText-示例" class="headerlink" title="reStructuredText 示例"></a>reStructuredText 示例</h5><div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">.. code:: robotframework</span><br><span class="line"></span><br><span class="line">   *** Settings ***</span><br><span class="line">   Documentation    使用reStructuredText格式的示例。</span><br><span class="line">   Library          OperatingSystem</span><br><span class="line"></span><br><span class="line">   *** Variables ***</span><br><span class="line">   $&#123;MESSAGE&#125;       好，世界！</span><br><span class="line"></span><br><span class="line">   *** Test Cases ***</span><br><span class="line">   My Test</span><br><span class="line">       [Documentation]    示例测试。</span><br><span class="line">       Log    $&#123;MESSAGE&#125;</span><br><span class="line">       My Keyword    $&#123;CURDIR&#125;</span><br><span class="line"></span><br><span class="line">   Another Test</span><br><span class="line">       Should Be Equal    $&#123;MESSAGE&#125;    好，世界！</span><br><span class="line"></span><br><span class="line">另外，这段文字也位于代码块之外，会被忽略。不包含Robot Framework数据的代码块也会被忽略。</span><br><span class="line"></span><br><span class="line">.. code:: robotframework</span><br><span class="line"></span><br><span class="line">   # 支持空格和管道分隔格式。</span><br><span class="line"></span><br><span class="line">   | *** Keywords ***  |                        |         |</span><br><span class="line">   | My Keyword        | [Arguments]            | $&#123;path&#125; |</span><br><span class="line">   |                   | Directory Should Exist | $&#123;path&#125; |</span><br><span class="line"></span><br><span class="line">.. code:: python</span><br><span class="line"></span><br><span class="line">   # 此代码块被忽略。</span><br><span class="line">   def example():</span><br><span class="line">       print(&#x27;Hello, world!&#x27;)</span><br></pre></td></tr></table></figure></div>

<p>Robot Framework支持使用 <code>.robot.rst</code>、<code>.rst</code>和 <code>.rest</code>扩展名的reStructuredText文件。为了避免解析不相关的reStructuredText文件，当执行目录时，默认情况下仅解析具有 <code>.robot.rst</code>扩展名的文件。可以通过使用 <code>--parseinclude</code>或 <code>--extension</code>选项来启用解析具有其他扩展名的文件。</p>
<p>当Robot Framework解析reStructuredText文件时，忽略严重级别以下的错误，以避免可能的非标准指令和其他标记的噪音。这也可能隐藏了真正的错误，但在通常使用reStructuredText工具处理文件时可以看到它们。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>自动解析 <code>.robot.rst</code>文件是Robot Framework 6.1的新功能。</p>

    </div>
  </div>

<h4 id="JSON-格式"><a href="#JSON-格式" class="headerlink" title="JSON 格式"></a>JSON 格式</h4><p>Robot Framework 支持 JSON 格式的数据。这种格式主要为工具开发者设计，而不是为常规的 Robot Framework 用户设计，因此不建议手动编辑。它的主要用途包括：</p>
<ul>
<li>在进程和机器之间传输数据。可以在一台机器上将套件转换为 JSON，然后在其他地方重新创建。</li>
<li>将可能是嵌套套件的套件，从常规的 Robot Framework 数据构建成单个的 JSON 文件，这样解析起来更快。</li>
<li>为生成测试或任务的外部工具提供替代的数据格式。</li>
</ul>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>JSON 数据支持是在 Robot Framework 6.1 中新增的，未来的 Robot Framework 版本中可能会进行增强。</p>

    </div>
  </div>

<h5 id="将套件转换为-JSON"><a href="#将套件转换为-JSON" class="headerlink" title="将套件转换为 JSON"></a>将套件转换为 JSON</h5><p>可以使用 <code>TestSuite.to_json</code> 方法将套件结构序列化为 JSON。如果没有参数，它会返回 JSON 数据作为字符串，但它也接受一个路径或一个打开的文件，以及与 JSON 格式相关的配置选项：</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> robot.running <span class="keyword">import</span> TestSuite</span><br><span class="line"></span><br><span class="line"><span class="comment"># 基于文件系统上的数据创建套件。</span></span><br><span class="line">suite = TestSuite.from_file_system(<span class="string">&#x27;/path/to/data&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 获取 JSON 数据作为字符串。</span></span><br><span class="line">data = suite.to_json()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 JSON 数据保存到文件中，自定义缩进。</span></span><br><span class="line">suite.to_json(<span class="string">&#x27;data.rbt&#x27;</span>, indent=<span class="number">2</span>)</span><br></pre></td></tr></table></figure></div>

<p>如果更愿意使用 Python 数据，然后自己将其转换为 JSON 或其他格式，可以使用 <code>TestSuite.to_dict</code>。</p>
<h5 id="从-JSON-创建套件"><a href="#从-JSON-创建套件" class="headerlink" title="从 JSON 创建套件"></a>从 JSON 创建套件</h5><p>可以使用 <code>TestSuite.from_json</code> 方法从 JSON 数据构建套件。它既可以处理 JSON 字符串，也可以处理 JSON 文件的路径：</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> robot.running <span class="keyword">import</span> TestSuite</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从文件中的 JSON 数据创建套件。</span></span><br><span class="line">suite = TestSuite.from_json(<span class="string">&#x27;data.rbt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从 JSON 字符串创建套件。</span></span><br><span class="line">suite = TestSuite.from_json(<span class="string">&#x27;&#123;&quot;name&quot;: &quot;Suite&quot;, &quot;tests&quot;: [&#123;&quot;name&quot;: &quot;Test&quot;&#125;]&#125;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行套件。注意，日志和报告需要单独创建。</span></span><br><span class="line">suite.run(output=<span class="string">&#x27;example.xml&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

<p>如果有一个 Python 字典的数据，可以使用 <code>TestSuite.from_dict</code>。无论套件是如何重新创建的，它只存在于内存中，原始的数据文件在文件系统上不会被重新创建。</p>
<p>如上例所示，可以使用 <code>TestSuite.run</code> 方法执行创建的套件。然而，直接执行 JSON 文件可能更容易，如下一节所述。</p>
<h5 id="执行-JSON-文件"><a href="#执行-JSON-文件" class="headerlink" title="执行 JSON 文件"></a>执行 JSON 文件</h5><p>当使用 <code>robot</code> 命令执行测试或任务时，带有自定义 <code>.rbt</code> 扩展名的 JSON 文件会被自动解析。这包括运行像 <code>robot tests.rbt</code> 这样的单个 JSON 文件，以及运行包含 <code>.rbt</code> 文件的目录。如果更愿意使用标准的 <code>.json</code> 扩展名，需要配置哪些文件需要解析。</p>
<h5 id="调整套件源"><a href="#调整套件源" class="headerlink" title="调整套件源"></a>调整套件源</h5><p>从 <code>TestSuite.to_json</code> 和 <code>TestSuite.to_dict</code> 获取的数据中的套件源是绝对格式的。如果稍后在不同的机器上重新创建套件，源可能不匹配该机器上的目录结构。为了避免这种情况，可以使用 <code>TestSuite.adjust_source</code> 方法在获取数据之前使套件源相对化，并在套件重新创建后添加正确的根目录：</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> robot.running <span class="keyword">import</span> TestSuite</span><br><span class="line"></span><br><span class="line"><span class="comment"># 创建套件，调整源并转换为 JSON。</span></span><br><span class="line">suite = TestSuite.from_file_system(<span class="string">&#x27;/path/to/data&#x27;</span>)</span><br><span class="line">suite.adjust_source(relative_to=<span class="string">&#x27;/path/to&#x27;</span>)</span><br><span class="line">suite.to_json(<span class="string">&#x27;data.rbt&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 在其他地方重新创建套件并相应地调整源。</span></span><br><span class="line">suite = TestSuite.from_json(<span class="string">&#x27;data.rbt&#x27;</span>)</span><br><span class="line">suite.adjust_source(root=<span class="string">&#x27;/new/path/to&#x27;</span>)</span><br></pre></td></tr></table></figure></div>

<h5 id="JSON-结构"><a href="#JSON-结构" class="headerlink" title="JSON 结构"></a>JSON 结构</h5><p>在套件文件中创建的导入项、变量和关键字都包含在生成的 JSON 中，以及测试和任务。具体的 JSON 结构在 <code>running.json</code> 架构文件中有文档说明。</p>
<h4 id="数据解析规则"><a href="#数据解析规则" class="headerlink" title="数据解析规则"></a>数据解析规则</h4><h5 id="忽略的数据"><a href="#忽略的数据" class="headerlink" title="忽略的数据"></a>忽略的数据</h5><p>当 Robot Framework 解析测试数据文件时，它会忽略：</p>
<ul>
<li>第一个测试数据部分之前的所有数据。</li>
<li>评论部分中的数据。</li>
<li>所有空行。</li>
<li>当使用管道分隔格式时，行尾的所有空单元格。</li>
<li>当不用于转义时，所有的单个反斜杠（\）。</li>
<li>当它是单元格的第一个字符时，井号（#）后面的所有字符。这意味着可以使用井号在测试数据中输入注释。</li>
</ul>
<p>当 Robot Framework 忽略一些数据时，这些数据在任何生成的报告中都不可用，此外，大多数与 Robot Framework 一起使用的工具也会忽略它们。要添加在 Robot Framework 输出中可见的信息，请将其放在测试用例或套件的文档或其他元数据中，或使用 BuiltIn 关键字 Log 或 Comment 进行记录。</p>
<h4 id="转义"><a href="#转义" class="headerlink" title="转义"></a>转义</h4><p>Robot Framework 测试数据中的转义字符是反斜杠 <code>\</code>，此外，内置变量 EMPTY和{SPACE} 通常也可以用于转义。下面的各节将讨论不同的转义机制。</p>
<h5 id="转义特殊字符"><a href="#转义特殊字符" class="headerlink" title="转义特殊字符"></a>转义特殊字符</h5><p>反斜杠字符可以用来转义特殊字符，以便使用它们的字面值:</p>
<table>
<thead>
<tr>
<th align="left">字符</th>
<th align="left">含义</th>
<th align="left">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$</td>
<td align="left">美元符号，不会开始标量变量。</td>
<td align="left">${notvar}</td>
</tr>
<tr>
<td align="left">@</td>
<td align="left">电子邮件符号，不会开始列表变量。</td>
<td align="left">@{notvar}</td>
</tr>
<tr>
<td align="left">&amp;</td>
<td align="left">和号，不会开始字典变量。</td>
<td align="left">&amp;{notvar}</td>
</tr>
<tr>
<td align="left">%</td>
<td align="left">百分号，不会开始环境变量。</td>
<td align="left">%{notvar}</td>
</tr>
<tr>
<td align="left">#</td>
<td align="left">井号，不会开始注释。</td>
<td align="left"># not comment</td>
</tr>
<tr>
<td align="left">=</td>
<td align="left">等号，不会成为命名参数语法的一部分。</td>
<td align="left">not=named</td>
</tr>
<tr>
<td align="left">|</td>
<td align="left">管道字符，不是管道分隔格式的分隔符。</td>
<td align="left">ls -1 *.txt| wc -l</td>
</tr>
<tr>
<td align="left">\</td>
<td align="left">反斜杠字符，不会转义任何东西。</td>
<td align="left">c:\temp, \${var}</td>
</tr>
</tbody></table>
<h5 id="形成转义序列"><a href="#形成转义序列" class="headerlink" title="形成转义序列"></a>形成转义序列</h5><p>反斜杠字符也允许创建特殊的转义序列，这些序列被识别为在测试数据中难以或无法创建的字符:</p>
<p>转义序列：</p>
<table>
<thead>
<tr>
<th align="left">序列</th>
<th align="left">含义</th>
<th align="left">示例</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\n</td>
<td align="left">换行符</td>
<td align="left">first line\n2nd line</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">回车符</td>
<td align="left">text\rmore text</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">制表符</td>
<td align="left">text\tmore text</td>
</tr>
<tr>
<td align="left">\xhh</td>
<td align="left">十六进制值为 hh 的字符</td>
<td align="left">空字节：\x00，ä：\xE4</td>
</tr>
<tr>
<td align="left">\uhhhh</td>
<td align="left">十六进制值为 hhhh 的字符</td>
<td align="left">雪人：\u2603</td>
</tr>
<tr>
<td align="left">\Uhhhhhhhh</td>
<td align="left">十六进制值为 hhhhhhhh 的字符</td>
<td align="left">爱情旅馆：\U0001f3e9</td>
</tr>
</tbody></table>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>在测试数据中创建的所有字符串，包括像 <code>\x02</code> 这样的字符，都是 Unicode，如果需要，必须显式地转换为字节字符串。这可以通过使用 BuiltIn 和 String 库中的 <code>Convert To Bytes</code> 或 <code>Encode String To Bytes</code> 关键字来完成，或者在 Python 代码中使用类似于 <code>value.encode(&#39;UTF-8&#39;)</code> 的语句来完成。</p>

    </div>
  </div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>如果在 <code>\x</code>、<code>\u</code> 或 <code>\U</code> 转义中使用了无效的十六进制值，最终的结果是原始值，但没有反斜杠字符。例如，<code>\xAX</code>（不是十六进制）和 <code>\U00110000</code>（值过大）分别会得到 <code>xAX</code> 和 <code>U00110000</code>。尽管如此，这种行为在未来可能会改变。</p>

    </div>
  </div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>如果需要操作系统依赖的行终止符，可以使用内置变量 <code>${\n}</code>（在 Windows 上是 <code>\r\n</code>，在其他地方是 <code>\n</code>）。</p>

    </div>
  </div>

<h4 id="处理空值"><a href="#处理空值" class="headerlink" title="处理空值"></a>处理空值</h4><p>当使用空格分隔格式时，用作分隔符的空格数量可以变化，因此除非进行转义，否则无法识别空值。空单元格可以用反斜杠字符或内置变量 <code>$&#123;EMPTY&#125;</code> 进行转义。通常推荐使用后者，因为它更容易理解。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">使用反斜杠</span><br><span class="line">    Do Something    first arg    \</span><br><span class="line">    Do Something    \            second arg</span><br><span class="line"></span><br><span class="line">使用 $&#123;EMPTY&#125;</span><br><span class="line">    Do Something    first arg    $&#123;EMPTY&#125;</span><br><span class="line">    Do Something    $&#123;EMPTY&#125;     second arg</span><br></pre></td></tr></table></figure></div>

<p>当使用管道分隔格式时，只有当空值位于行尾时，才需要对空值进行转义：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">| *** Test Cases *** |              |           |            |</span><br><span class="line">| 使用反斜杠         | Do Something | first arg | \          |</span><br><span class="line">|                    | Do Something |           | second arg |</span><br><span class="line">|                    |              |           |            |</span><br><span class="line">| 使用 $&#123;EMPTY&#125;      | Do Something | first arg | $&#123;EMPTY&#125;   |</span><br><span class="line">|                    | Do Something |           | second arg |</span><br></pre></td></tr></table></figure></div>

<h4 id="处理空格"><a href="#处理空格" class="headerlink" title="处理空格"></a>处理空格</h4><p>空格，尤其是连续的空格，作为关键字的参数或者其他需要的一部分，会有两个问题：</p>
<ul>
<li>当使用空格分隔格式时，两个或更多连续的空格被视为分隔符。</li>
<li>当使用管道分隔格式时，忽略前导和尾随空格。</li>
</ul>
<p>在这些情况下，需要对空格进行转义。与转义空值类似，可以通过使用反斜杠字符或使用内置变量 <code>$&#123;SPACE&#125;</code> 来实现。</p>
<p>转义空格示例：</p>
<table>
<thead>
<tr>
<th>使用反斜杠转义</th>
<th>使用 <code>$&#123;SPACE&#125;</code> 转义</th>
<th>注释</th>
</tr>
</thead>
<tbody><tr>
<td>\ leading space</td>
<td><code>$&#123;SPACE&#125;</code>leading space</td>
<td></td>
</tr>
<tr>
<td>trailing space \</td>
<td>trailing space <code>$&#123;SPACE&#125;</code></td>
<td>反斜杠必须在空格后面。</td>
</tr>
<tr>
<td>\ \</td>
<td><code>$&#123;SPACE&#125;</code></td>
<td>两边都需要反斜杠。</td>
</tr>
<tr>
<td>consecutive \ \ spaces</td>
<td>consecutive <code>$&#123;SPACE * 3&#125;</code>spaces</td>
<td>使用扩展变量语法。</td>
</tr>
</tbody></table>
<p>如上例所示，使用 <code>$&#123;SPACE&#125;</code> 变量通常使测试数据更容易理解。当需要多个空格时，它与扩展变量语法结合使用特别方便。</p>
<h4 id="将数据分割到多行"><a href="#将数据分割到多行" class="headerlink" title="将数据分割到多行"></a>将数据分割到多行</h4><p>如果一行的数据过多，可以将其分割，并使用省略号（…）开始连续的行。省略号可以缩进以匹配起始行的缩进，并且必须始终跟随正常的测试数据分隔符。</p>
<p>在大多数地方，分割的行与未分割的行具有完全相同的语义。此规则的例外是套件、测试和关键字文档以及套件元数据。对于它们，分割的值会自动用换行符连接在一起，以便创建多行值。</p>
<p><code>...</code> 语法也允许在变量部分分割变量。当长标量变量（例如 <code>$&#123;STRING&#125;</code>）被分割到多行时，最终的值是通过将行连接在一起得到的。默认的分隔符是空格，但可以通过以 <code>SEPARATOR=&lt;sep&gt;</code> 开始值来更改。</p>
<p>以下两个示例说明了分割行，它们包含了完全相同的数据，但一个没有分割，一个进行了分割:</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Documentation      这里是这个套件的文档。\n文档通常很长。\n\n它也可以包含多个段落。</span><br><span class="line">Default Tags       默认标签 1    默认标签 2    默认标签 3    默认标签 4    默认标签 5</span><br><span class="line"></span><br><span class="line">*** Variables ***</span><br><span class="line">$&#123;STRING&#125;          这是一个长字符串。它有多个句子。它没有换行符。</span><br><span class="line">$&#123;MULTILINE&#125;       这是一个长的多行字符串。\n这是第二行。\n这是第三行，也是最后一行。</span><br><span class="line">@&#123;LIST&#125;            这     列表     是    相当    长     并且    列表中的项目也可能很长</span><br><span class="line">&amp;&#123;DICT&#125;            first=这个值相当长。    second=这个值甚至更长。它有两个句子。</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    [Tags]        可能    不    会    在    真实    生活中    有    这么    多    标签</span><br><span class="line">    Do X    第一个参数    第二个参数    第三个参数    第四个参数    第五个参数    第六个参数</span><br><span class="line">    $&#123;var&#125; =    Get X    传递给这个关键字的第一个参数相当长    传递给这个关键字的第二个参数也很长</span><br></pre></td></tr></table></figure></div>

<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Documentation      这里是这个套件的文档。</span><br><span class="line">...                文档通常很长。</span><br><span class="line">...</span><br><span class="line">...                它也可以包含多个段落。</span><br><span class="line">Default Tags       默认标签 1    默认标签 2    默认标签 3</span><br><span class="line">...                默认标签 4    默认标签 5</span><br><span class="line"></span><br><span class="line">*** Variables ***</span><br><span class="line">$&#123;STRING&#125;          这是一个长字符串。</span><br><span class="line">...                它有多个句子。</span><br><span class="line">...                它没有换行符。</span><br><span class="line">$&#123;MULTILINE&#125;       SEPARATOR=\n</span><br><span class="line">...                这是一个长的多行字符串。</span><br><span class="line">...                这是第二行。</span><br><span class="line">...                这是第三行，也是最后一行。</span><br><span class="line">@&#123;LIST&#125;            这     列表     是      相当    长     并且</span><br><span class="line">...                列表中的项目也可能很长</span><br><span class="line">&amp;&#123;DICT&#125;            first=这个值相当长。</span><br><span class="line">...                second=这个值甚至更长。它有两个句子。</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    [Tags]        可能    不    会    在    真实    生活中    有    这么    多</span><br><span class="line">    ...       标签    在    真实    生活中</span><br><span class="line">    Do X    第一个参数    第二个参数    第三个参数</span><br><span class="line">    ...    第四个参数    第五个参数    第六个参数</span><br><span class="line">    $&#123;var&#125; =    Get X</span><br><span class="line">    ...    传递给这个关键字的第一个参数相当长</span><br><span class="line">    ...    传递给这个关键字的第二个参数也很长</span><br></pre></td></tr></table></figure></div>

<h4 id="本地化"><a href="#本地化" class="headerlink" title="本地化"></a>本地化</h4><p>Robot Framework 的本地化工作始于 Robot Framework 6.0，它允许翻译部分标题、设置、在行为驱动开发（BDD）中使用的 Given&#x2F;When&#x2F;Then 前缀，以及在自动布尔参数转换中使用的 true 和 false 字符串。未来计划扩展本地化支持，例如，到日志和报告，甚至可能也包括控制结构。</p>
<p>本节解释如何激活语言，支持哪些内置语言，如何创建自定义语言文件，以及如何贡献新的翻译。</p>
<h5 id="启用语言"><a href="#启用语言" class="headerlink" title="启用语言"></a>启用语言</h5><p>使用命令行选项 激活语言的主要机制是使用 <code>--language</code> 选项从命令行指定它们。当启用内置语言时，可以使用语言名称（如 Chinese Simplified）或语言代码（如 fi）。名称和代码都不区分大小写和空格，也忽略连字符（-）。要启用多种语言，需要多次使用 <code>--language</code> 选项：</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">robot --language Chinese Simplified testit.robot</span><br><span class="line">robot --language pt --language ptbr testes.robot</span><br></pre></td></tr></table></figure></div>

<p>当激活自定义语言文件时，也使用相同的 <code>--language</code> 选项。对于它们，值可以是文件的路径，或者，如果文件在模块搜索路径中，可以是模块名称：</p>
<div class="highlight-container" data-rel="Bash"><figure class="iseeu highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">robot --language Custom.py tests.robot</span><br><span class="line">robot --language MyLang tests.robot</span><br></pre></td></tr></table></figure></div>

<p>出于向后兼容性的原因，以及为了支持部分翻译，英语总是自动激活的。未来的版本可能允许禁用它。</p>
<p>预文件配置 也可以直接在数据文件中启用语言，方法是在任何部分标题之前有一行 <code>Language: &lt;value&gt;</code>（不区分大小写）。冒号后的值与 <code>--language</code> 选项的解释方式相同：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Language: Chinese Simplified</span><br><span class="line"></span><br><span class="line">*** Asetukset ***</span><br><span class="line">Dokumentaatio        Example using Chinese Simplified.</span><br></pre></td></tr></table></figure></div>

<p>如果需要启用多种语言，可以重复 <code>Language:</code> 行。这些配置行不能在注释中，所以像 <code># Language: Chinese Simplified</code> 这样的内容没有效果。</p>
<p>由于技术限制，每个文件的语言配置也会影响后续文件的解析以及整个执行。这种行为可能在未来会改变，因此不应依赖它。如果使用每个文件的配置，应该在所有文件中使用它，或者使用 <code>--language</code> 选项全局启用语言。</p>
<h5 id="自定义语言文件"><a href="#自定义语言文件" class="headerlink" title="自定义语言文件"></a>自定义语言文件</h5><p>如果需要的语言不是内置语言，或者想为某些特定需求创建一个完全自定义的语言，可以轻松地创建一个自定义语言文件。语言文件是 Python 文件，包含一个或多个语言定义，当语言文件被使用时，所有的语言定义都会被加载。语言定义是通过扩展 <code>robot.api.Language</code> 基类并根据需要覆盖类属性来创建的：</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> robot.api <span class="keyword">import</span> Language</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span>(<span class="title class_ inherited__">Language</span>):</span><br><span class="line">    test_cases_header = <span class="string">&#x27;Validations&#x27;</span></span><br><span class="line">    tags_setting = <span class="string">&#x27;Labels&#x27;</span></span><br><span class="line">    given_prefixes = [<span class="string">&#x27;Assuming&#x27;</span>]</span><br><span class="line">    true_strings = [<span class="string">&#x27;OK&#x27;</span>, <span class="string">&#x27;\N&#123;THUMBS UP SIGN&#125;&#x27;</span>]</span><br></pre></td></tr></table></figure></div>

<p>假设上述代码位于 <code>example.py</code> 文件中，当激活语言文件时，可以使用该文件的路径或仅使用模块名称 <code>example</code>。</p>
<p>上述示例只添加了一些可能的翻译。这是可以的，因为英语总是会自动启用。大多数值必须指定为字符串，但 BDD 前缀和 true&#x2F;false 字符串允许多个值，并且必须给出列表。有关更多示例，请参见 Robot Framework 的内部语言模块，该模块包含 <code>Language</code> 类以及所有内置语言定义。</p>
<h3 id="创建测试用例"><a href="#创建测试用例" class="headerlink" title="创建测试用例"></a>创建测试用例</h3><p>当创建测试用例时，通常会采用以下的测试用例语法。将测试用例组织成测试套件，可以使用套件文件和套件目录，具体内容请参阅下一节。</p>
<p>当在使用机器人框架进行除了测试自动化以外的其他自动化任务时，建议创建任务而不是测试。任务的语法在大部分情况下与测试的语法相同，不同之处将在创建任务部分进行解释。</p>
<h4 id="测试用例语法"><a href="#测试用例语法" class="headerlink" title="测试用例语法"></a>测试用例语法</h4><h5 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h5><p>测试用例是在测试用例部分中从可用关键字构建的。关键字可以从测试库或资源文件导入，或者在测试用例文件本身的关键字部分中创建。</p>
<p>测试用例部分的第一列包含测试用例名称。测试用例从此列中有内容的行开始，并继续到下一个测试用例名称或部分的结束。在部分标题和第一个测试之间有内容是错误的。</p>
<p>第二列通常有关键字名称。此规则的一个例外是从关键字返回值设置变量，当第二列和可能的后续列包含变量名称，并且关键字名称位于它们之后。在任一情况下，关键字名称后的列包含指定关键字的可能参数。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Valid Login</span><br><span class="line">    Open Login Page</span><br><span class="line">    Input Username    demo</span><br><span class="line">    Input Password    mode</span><br><span class="line">    Submit Credentials</span><br><span class="line">    Welcome Page Should Be Open</span><br><span class="line"></span><br><span class="line">Setting Variables</span><br><span class="line">    Do Something    first argument    second argument</span><br><span class="line">    $&#123;value&#125; =    Get Some Value</span><br><span class="line">    Should Be Equal    $&#123;value&#125;    Expected value</span><br></pre></td></tr></table></figure></div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>虽然测试用例名称可以包含任何字符，但通常不建议使用 ? 和尤其是 *，因为它们在选择测试用例时被视为通配符。例如，尝试只运行名为 Example * 的测试，如 <code>--test &#39;Example *&#39;</code>，实际上会运行以 Example 开头的任何测试。</p>

    </div>
  </div>

<h5 id="在测试用例部分的设置"><a href="#在测试用例部分的设置" class="headerlink" title="在测试用例部分的设置"></a>在测试用例部分的设置</h5><p>测试用例也可以有自己的设置。设置名称总是在第二列，通常是关键字的位置，它们的值在后续的列中。设置名称周围有方括号，以便将它们与关键字区分开来。下面列出了可用的设置，并在本节后面进行了解释。</p>
<p><em>[Documentation]</em></p>
<pre><code>[文档] 用于指定测试用例文档。
</code></pre>
<p><em>[Setup]</em>, <em>[Teardown]</em></p>
<pre><code>[设置], [拆卸] 指定测试设置和拆卸。
</code></pre>
<p><em>[Tags]</em></p>
<pre><code>[标签] 用于标记测试用例。
</code></pre>
<p> <em>[Template]</em></p>
<pre><code>[模板] 指定要使用的模板关键字。测试本身将只包含用作该关键字参数的数据。
</code></pre>
<p><em>[Timeout]</em></p>
<pre><code>[超时] 用于设置测试用例超时。超时在其自己的部分中进行了讨论。
</code></pre>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>设置名称不区分大小写，但推荐使用上述格式。设置曾经也不区分空格，但在 Robot Framework 3.1 中已被弃用，尝试使用像 [T a g s] 这样的东西会在 Robot Framework 3.2 中引发错误。仍然允许在括号和名称之间可能存在的空格（例如 [ 标签 ]）。</p>

    </div>
  </div>

<p>带有设置的测试用例示例：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Test With Settings</span><br><span class="line">    [Documentation]    Another dummy test</span><br><span class="line">    [Tags]    dummy    owner-johndoe</span><br><span class="line">    Log    Hello, world!</span><br></pre></td></tr></table></figure></div>

<h5 id="在设置部分的测试用例相关设置"><a href="#在设置部分的测试用例相关设置" class="headerlink" title="在设置部分的测试用例相关设置"></a>在设置部分的测试用例相关设置</h5><p>设置部分可以有以下与测试用例相关的设置。这些设置主要是前面列出的特定于测试用例的设置的默认值。</p>
<p>测试设置，测试拆卸 测试设置和拆卸的默认值。 测试标签 套件中所有测试将获得的标签，除了它们可能自己的标签。 测试模板 要使用的默认模板关键字。 测试超时 测试用例超时的默认值。超时在其自己的部分中进行了讨论。</p>
<p>[<em>Test Setup</em>, <em>Test Teardown</em>]</p>
<pre><code>[测试设置，测试拆卸] 默认值为测试设置和拆卸。
</code></pre>
<p>[<em>Test Tags</em>]</p>
<pre><code>[测试标签] 套件中所有测试将获得的标签，除了它们可能自己的标签。
</code></pre>
<p>[<em>Test Template</em>]</p>
<pre><code>[测试模板] 要使用的默认模板关键字。
</code></pre>
<p>[<em>Test Timeout</em>]</p>
<pre><code>[测试超时] 测试用例超时的默认值。超时在其自己的部分中进行了讨论。
</code></pre>
<h4 id="使用参数"><a href="#使用参数" class="headerlink" title="使用参数"></a>使用参数</h4><p>前面的例子已经展示了关键字如何接受不同的参数，本节将更全面地讨论这一重要功能。如何实际实现带有不同参数的用户定义关键字和库关键字将在后续章节中讨论。</p>
<p>关键字可以接受零个或多个参数，某些参数可能具有默认值。关键字接受哪些参数取决于其实现，通常最好的信息来源是关键字的文档。在本节的例子中，文档预期是使用Libdoc工具生成的，但相同的信息也可在使用通用文档工具如pydoc生成的文档中找到。</p>
<h5 id="位置参数"><a href="#位置参数" class="headerlink" title="位置参数"></a>位置参数</h5><p>大多数关键字都有一定数量的参数，必须始终给出。在关键字文档中，这通过指定用逗号分隔的参数名表示，如 <code>first, second, third</code>。在这种情况下，参数名实际上并不重要，除了它们应该解释参数的作用，但重要的是必须有与文档中指定的完全相同数量的参数。使用的参数太少或太多都会导致错误。</p>
<p>下面的测试使用了来自<a class="link"   target="_blank" rel="noopener" href="https://robotframework.org/robotframework/latest/libraries/OperatingSystem.html" >OperatingSystem <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a>库的关键字 <code>Create Directory</code> 和 <code>Copy File</code>。它们的参数分别指定为 <code>path</code> 和 <code>source, destination</code>，这意味着它们分别接受一个和两个参数。最后一个关键字，来自BuiltIn的 No Operation，不接受任何参数。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Library         OperatingSystem</span><br><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Create Directory    \$&#123;TEMPDIR&#125;/stuff</span><br><span class="line">    Copy File    \$&#123;CURDIR&#125;/file.txt    \$&#123;TEMPDIR&#125;/stuff</span><br><span class="line">    No Operation</span><br></pre></td></tr></table></figure></div>

<h5 id="默认值"><a href="#默认值" class="headerlink" title="默认值"></a>默认值</h5><p>参数通常具有默认值，可以给出或不给出。在文档中，默认值通常与参数名称用等号分隔，如 <code>name=default value</code>。所有参数都有默认值是可能的，但在具有默认值的参数之后不能有任何位置参数。</p>
<p>使用默认值的示例如下所示，其中使用了 <code>Create File</code> 关键字，其参数为 <code>path</code>、<code>content=</code> 和 <code>encoding=UTF-8</code>。尝试在没有任何参数或多于三个参数的情况下使用它将无法正常工作。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Create File    $&#123;TEMPDIR&#125;/empty.txt</span><br><span class="line">    Create File    $&#123;TEMPDIR&#125;/utf-8.txt         Hyvä esimerkki</span><br><span class="line">    Create File    $&#123;TEMPDIR&#125;/iso-8859-1.txt    Hyvä esimerkki    ISO-8859-1</span><br></pre></td></tr></table></figure></div>

<h5 id="可变数量的参数"><a href="#可变数量的参数" class="headerlink" title="可变数量的参数"></a>可变数量的参数</h5><p>也有可能某个关键字接受任意数量的参数。这些所谓的变长参数可以与必需参数和具有默认值的参数组合使用，但它们始终在它们之后给出。在文档中，它们的参数名称前面有一个星号，如 *varargs。</p>
<p>例如，操作系统库中的 <code>Remove Files</code> 和 <code>Join Paths</code> 关键字具有参数 <em>paths 和 base、</em>parts，分别。前者可以接受任意数量的参数，但后者至少需要一个参数。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Remove Files    $&#123;TEMPDIR&#125;/f1.txt    $&#123;TEMPDIR&#125;/f2.txt    $&#123;TEMPDIR&#125;/f3.txt</span><br><span class="line">    @&#123;paths&#125; =    Join Paths    $&#123;TEMPDIR&#125;    f1.txt    f2.txt    f3.txt    f4.txt</span><br></pre></td></tr></table></figure></div>

<p>在这个示例中：</p>
<ul>
<li><code>*** Test Cases ***</code>：定义了测试用例的开始。</li>
<li><code>Example</code>：测试用例的名称。</li>
<li><code>Remove Files    $&#123;TEMPDIR&#125;/f1.txt    $&#123;TEMPDIR&#125;/f2.txt    $&#123;TEMPDIR&#125;/f3.txt</code>：执行了一个关键字，删除了指定的文件。</li>
<li><code>@&#123;paths&#125; =    Join Paths    $&#123;TEMPDIR&#125;    f1.txt    f2.txt    f3.txt    f4.txt</code>：执行了另一个关键字，将路径组合在一起。</li>
</ul>
<h5 id="命名参数"><a href="#命名参数" class="headerlink" title="命名参数"></a>命名参数</h5><p>命名参数语法使得使用具有默认值的参数更加灵活，并允许明确标记某个参数值的含义。从技术上讲，命名参数的工作方式与Python中的关键字参数完全相同。</p>
<h6 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h6><p>可以通过在值前加上参数名（如 <code>arg=value</code>）来命名给关键字的参数。当多个参数具有默认值时，这特别有用，因为可以只命名一些参数，让其他参数使用其默认值。例如，如果一个关键字接受参数 <code>arg1=a</code>，<code>arg2=b</code>，<code>arg3=c</code>，并且它被调用时只有一个参数 <code>arg3=override</code>，那么参数 <code>arg1</code> 和 <code>arg2</code> 将获得其默认值，但 <code>arg3</code> 将获得值 <code>override</code>。如果这听起来很复杂，下面的命名参数示例应该会使其更清晰。</p>
<p>命名参数语法对大小写和空格都很敏感。前者意味着，如果有一个参数 <code>arg</code>，必须像 <code>arg=value</code> 这样使用它，而 <code>Arg=value</code> 或 <code>ARG=value</code> 都不行。后者意味着，在 <code>=</code> 符号前不允许有空格，可能在其后的空格将被视为给定值的一部分。</p>
<p>当命名参数语法与用户关键字一起使用时，必须在不带 <code>$&#123;&#125;</code> 装饰的情况下给出参数名。例如，带有参数 <code>$&#123;arg1&#125;=first</code>，<code>$&#123;arg2&#125;=second</code> 的用户关键字必须像 <code>arg2=override</code> 这样使用。</p>
<p>在命名参数之后使用普通位置参数，例如 <code>| Keyword | arg=value | positional |</code>，是不行的。命名参数的相对顺序并不重要。</p>
<h6 id="命名参数与变量"><a href="#命名参数与变量" class="headerlink" title="命名参数与变量"></a>命名参数与变量</h6><p>在命名参数的名称和值中都可以使用变量。如果值是单个标量变量，它将按原样传递给关键字。这允许在使用命名参数语法时，也可以使用任何对象，而不仅仅是字符串，作为值。例如，调用像 <code>arg=$&#123;object&#125;</code> 这样的关键字将把变量 <code>$&#123;object&#125;</code> 传递给关键字，而不会将其转换为字符串。</p>
<p>如果在命名参数名称中使用变量，变量在与参数名称匹配之前就会被解析。</p>
<p>命名参数语法要求在关键字调用中直接写入等号。这意味着，即使变量具有像 <code>foo=bar</code> 这样的值，单独的变量也永远不会触发命名参数语法。这一点在将关键字包装到其他关键字中时尤其需要记住。例如，如果一个关键字接受像 <code>@&#123;args&#125;</code> 这样的变量数量的参数，并使用相同的 <code>@&#123;args&#125;</code> 语法将所有参数传递给另一个关键字，那么在调用端使用的可能的 <code>named=arg</code> 语法将不会被识别。下面的示例进行了说明。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Run Program    shell=True    # 这将不会作为一个命名参数传递给 Run Process</span><br><span class="line"></span><br><span class="line">*** Keywords ***</span><br><span class="line">Run Program</span><br><span class="line">    [Arguments]    @&#123;args&#125;</span><br><span class="line">    Run Process    program.py    @&#123;args&#125;    # 在 @&#123;args&#125; 内部不会识别命名参数</span><br></pre></td></tr></table></figure></div>

<p>如果关键字需要接受并传递任何命名参数，它必须被改变以接受自由命名参数。参见自由命名参数示例，了解一个可以传递位置参数和命名参数的包装关键字版本。</p>
<h5 id="转义命名参数语法"><a href="#转义命名参数语法" class="headerlink" title="转义命名参数语法"></a>转义命名参数语法</h5><p>命名参数语法仅在等号前的参数部分与关键字的某个参数匹配时使用。可能存在一个位置参数，其字面值如 <code>foo=quux</code>，并且还有一个名为 <code>foo</code> 的无关参数。在这种情况下，参数 <code>foo</code> 可能错误地获取值 <code>quux</code>，或者更可能的是，出现语法错误。</p>
<p>在这些偶尔出现的匹配错误的情况下，可以使用反斜杠字符来转义语法，如 <code>foo\=quux</code>。现在，参数将获得字面值 <code>foo=quux</code>。请注意，如果没有名为 <code>foo</code> 的参数，那么不需要转义，但是因为它使情况更加明确，所以可能仍然是个好主意。</p>
<h6 id="命名参数支持的位置"><a href="#命名参数支持的位置" class="headerlink" title="命名参数支持的位置"></a>命名参数支持的位置</h6><p>如前所述，命名参数语法适用于关键字。除此之外，它还适用于导入库时。</p>
<p>用户关键字和大多数测试库都支持命名参数。唯一的例外是明确使用位置参数的Python关键字。</p>
<h6 id="命名参数示例"><a href="#命名参数示例" class="headerlink" title="命名参数示例"></a>命名参数示例</h6><p>以下示例演示了如何在库关键字、用户关键字以及导入 Telnet 测试库时使用命名参数语法。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Library    Telnet    prompt=$    default_log_level=DEBUG</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Open connection    10.0.0.42    port=$&#123;PORT&#125;    alias=example</span><br><span class="line">    List files    options=-lh</span><br><span class="line">    List files    path=/tmp    options=-l</span><br><span class="line"></span><br><span class="line">*** Keywords ***</span><br><span class="line">List files</span><br><span class="line">    [Arguments]    $&#123;path&#125;=.    $&#123;options&#125;=</span><br><span class="line">    Execute command    ls $&#123;options&#125; $&#123;path&#125;</span><br></pre></td></tr></table></figure></div>

<h5 id="自由命名参数"><a href="#自由命名参数" class="headerlink" title="自由命名参数"></a>自由命名参数</h5><p>Robot Framework支持自由命名参数，通常也被称为自由关键字参数或kwargs，类似于Python支持的**kwargs。这意味着一个关键字可以接收所有使用命名参数语法（<code>name=value</code>）的参数，并且不匹配关键字签名中指定的任何参数。</p>
<p>自由命名参数由与普通命名参数相同的关键字类型支持。关键字如何指定它们接受自由命名参数取决于关键字类型。例如，基于Python的关键字简单地使用**kwargs，用户关键字使用 <code>&amp;&#123;kwargs&#125;</code>。</p>
<p>自由命名参数支持变量，就像命名参数一样。在实践中，这意味着变量可以同时用在名称和值中，但是转义符必须始终直接可见。例如，只要使用的变量存在，<code>foo=$&#123;bar&#125;</code>和 <code>$&#123;foo&#125;=$&#123;bar&#125;</code>都是有效的。额外的限制是自由参数名称必须始终是字符串。</p>
<h6 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h6><p>作为使用自由命名参数的第一个示例，让我们看一下Process库中的Run Process关键字。它有一个签名 <code>command</code>，<code>*arguments</code>，<code>**configuration</code>，这意味着它接收要执行的命令（<code>command</code>），其参数作为可变数量的参数（<code>*arguments</code>）以及最后的可选配置参数作为自由命名参数（<code>**configuration</code>）。下面的示例还显示了变量与自由关键字参数一起工作的方式，就像使用命名参数语法时一样。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Free Named Arguments</span><br><span class="line">    Run Process    program.py    arg1    arg2    cwd=/home/user</span><br><span class="line">    Run Process    program.py    argument    shell=True    env=$&#123;ENVIRON&#125;</span><br></pre></td></tr></table></figure></div>

<p>请参阅创建测试库下的自由关键字参数（**kwargs）部分，以获取有关在自定义测试库中使用自由命名参数语法的更多信息。</p>
<p>作为第二个示例，让我们创建一个包装用户关键字，用于运行上述示例中的program.py。包装关键字Run Program接受所有位置和命名参数，并将它们连同要执行的命令名称一起传递给Run Process。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Free Named Arguments</span><br><span class="line">    Run Program    arg1    arg2    cwd=/home/user</span><br><span class="line">    Run Program    argument    shell=True    env=$&#123;ENVIRON&#125;</span><br><span class="line"></span><br><span class="line">*** Keywords ***</span><br><span class="line">Run Program</span><br><span class="line">    [Arguments]    @&#123;args&#125;    &amp;&#123;config&#125;</span><br><span class="line">    Run Process    program.py    @&#123;args&#125;    &amp;&#123;config&#125;</span><br></pre></td></tr></table></figure></div>

<h5 id="仅命名参数"><a href="#仅命名参数" class="headerlink" title="仅命名参数"></a>仅命名参数</h5><p>从Robot Framework 3.1开始，关键字可以接受必须始终使用命名参数语法进行命名的参数。例如，如果一个关键字接受一个仅命名参数 <code>example</code>，那么它必须始终像 <code>example=value</code> 这样使用，而不能仅使用 <code>value</code>。这种语法受到了Python 3支持的仅关键字参数语法的启发。</p>
<p>在大多数情况下，仅命名参数的工作方式与命名参数相同。主要的区别是，使用静态库API实现的Python 2库不支持此语法。</p>
<p>作为使用用户关键字的仅命名参数的一个示例，下面是上述自由命名参数示例中的Run Program的一个变体，它只支持配置shell：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Named-only Arguments</span><br><span class="line">    Run Program    arg1    arg2              # &#x27;shell&#x27; 是 False (默认)</span><br><span class="line">    Run Program    argument    shell=True    # &#x27;shell&#x27; 是 True</span><br><span class="line"></span><br><span class="line">*** Keywords ***</span><br><span class="line">Run Program</span><br><span class="line">    [Arguments]    @&#123;args&#125;    $&#123;shell&#125;=False</span><br><span class="line">    Run Process    program.py    @&#123;args&#125;    shell=$&#123;shell&#125;</span><br></pre></td></tr></table></figure></div>

<h6 id="嵌入到关键字名称中的参数"><a href="#嵌入到关键字名称中的参数" class="headerlink" title="嵌入到关键字名称中的参数"></a>嵌入到关键字名称中的参数</h6><p>指定参数的一种完全不同的方法是将参数嵌入到关键字名称中。这种语法由测试库关键字和用户关键字都支持。</p>
<h4 id="失败"><a href="#失败" class="headerlink" title="失败"></a>失败</h4><h5 id="测试用例失败时"><a href="#测试用例失败时" class="headerlink" title="测试用例失败时"></a>测试用例失败时</h5><p>如果测试用例使用的任何关键字失败，测试用例就会失败。通常，这意味着该测试用例的执行将停止，可能执行测试拆解，然后从下一个测试用例继续执行。如果不希望停止测试执行，也可以使用特殊的可继续失败。</p>
<h5 id="错误消息"><a href="#错误消息" class="headerlink" title="错误消息"></a>错误消息</h5><p>分配给失败的测试用例的错误消息直接来自失败的关键字。通常，错误消息是由关键字本身创建的，但是一些关键字允许配置它们。</p>
<p>在某些情况下，例如当使用可继续失败时，一个测试用例可能会失败多次。在这种情况下，最终的错误消息是通过组合各个错误得到的。非常长的错误消息会自动从中间切断，以使报告更易于阅读，但完整的错误消息始终作为失败关键字的消息在日志文件中可见。</p>
<p>默认情况下，错误消息是普通文本，但它们可以包含HTML格式。这通过在错误消息开始处使用标记字符串 <em>HTML</em> 来启用。这个标记将从报告和日志中显示的最终错误消息中删除。下面的第二个示例显示了在自定义消息中使用HTML。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Normal Error</span><br><span class="line">    Fail    这是一个相当无聊的例子...</span><br><span class="line"></span><br><span class="line">HTML Error</span><br><span class="line">    $&#123;number&#125; =    Get Number</span><br><span class="line">    Should Be Equal    $&#123;number&#125;    42    *HTML* 数字不是我的&lt;b&gt;魔法&lt;/b&gt;数字。</span><br></pre></td></tr></table></figure></div>

<h4 id="测试用例名称和文档"><a href="#测试用例名称和文档" class="headerlink" title="测试用例名称和文档"></a>测试用例名称和文档</h4><p>测试用例名称直接来自测试用例部分：它就是输入到测试用例列中的内容。一个测试套件中的测试用例应该有唯一的名称。关于这一点，也可以在测试本身中使用自动变量 <code>$&#123;TEST_NAME&#125;</code> 来引用测试名称。无论何时执行测试，包括所有用户关键字，以及测试设置和测试拆解，它都是可用的。</p>
<p>从Robot Framework 3.2开始，测试用例名称中可能的变量会被解析，以便最终名称将包含变量值。如果变量不存在，其名称将保持不变。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">$&#123;MAX AMOUNT&#125;      $&#123;5000000&#125;</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Amount cannot be larger than $&#123;MAX AMOUNT&#125;</span><br><span class="line">    # ...</span><br></pre></td></tr></table></figure></div>

<p>[Documentation] 设置允许为测试用例设置自由形式的文档。该文本将显示在命令行输出和生成的日志和报告中。如果文档过长，可以将其分割成多行。可以使用简单的HTML格式，并且可以使用变量使文档动态化。可能不存在的变量将保持不变。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Simple</span><br><span class="line">    [Documentation]    简单且短小的文档。</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Multiple lines</span><br><span class="line">    [Documentation]    文档的第一行。</span><br><span class="line">    ...</span><br><span class="line">    ...                文档在这里继续。这些行在HTML输出中形成</span><br><span class="line">    ...                一个段落。</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Formatting</span><br><span class="line">    [Documentation]</span><br><span class="line">    ...    这个列表有：</span><br><span class="line">    ...    - *粗体*</span><br><span class="line">    ...    - _斜体_</span><br><span class="line">    ...    - 链接: http://robotframework.org</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Variables</span><br><span class="line">    [Documentation]    在 $&#123;HOST&#125; 上由 $&#123;USER&#125; 执行</span><br><span class="line">    No Operation</span><br></pre></td></tr></table></figure></div>

<p>测试用例有清晰和描述性的名称是很重要的，而在这种情况下，它们通常不需要任何文档。如果测试用例的逻辑需要文档化，这通常是一个信号，表示测试用例中的关键字需要更好的名称，它们需要被增强，而不是添加额外的文档。最后，元数据，如上述最后一个示例中的环境和用户信息，通常最好使用标签来指定。</p>
<h4 id="标记测试用例"><a href="#标记测试用例" class="headerlink" title="标记测试用例"></a>标记测试用例</h4><p>在Robot Framework中使用标签是一种简单而强大的机制，用于分类测试用例和用户关键字。标签是自由文本，Robot Framework本身对它们没有特殊的含义，除了下面讨论的保留标签。标签至少可以用于以下目的：</p>
<ul>
<li>它们显示在测试报告、日志以及测试数据中，因此它们为测试用例提供元数据。</li>
<li>基于它们自动收集关于测试用例（总数、通过、失败和跳过）的统计信息。</li>
<li>它们可以用于包含和排除以及跳过测试用例。</li>
</ul>
<p>有多种方式可以为测试用例指定标签，如下所述：</p>
<ul>
<li>在设置部分中的测试标签设置<ul>
<li>具有此设置的测试用例文件中的所有测试始终获得指定的标签。如果在套件初始化文件中使用此设置，所有子套件中的测试都会获得这些标签。</li>
</ul>
</li>
<li>每个测试用例的[Tags]设置<ul>
<li>测试将获得这些标签，除了使用测试标签设置指定的标签。[Tags]设置还允许使用-tag语法删除使用测试标签设置的标签。</li>
</ul>
</li>
<li>–settag命令行选项<ul>
<li>所有测试都会获得此选项设置的标签，除了它们在其他地方获得的标签。</li>
</ul>
</li>
<li>Set Tags，Remove Tags，Fail和Pass Execution关键字<ul>
<li>这些BuiltIn关键字可以用于在测试执行期间动态操作标签。</li>
</ul>
</li>
</ul>
<p>示例：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***git fetch origin</span><br><span class="line">Test Tags       requirement: 42    smoke</span><br><span class="line"></span><br><span class="line">*** Variables ***</span><br><span class="line">$&#123;HOST&#125;         10.0.1.42</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">No own tags</span><br><span class="line">    [Documentation]    测试有标签 &#x27;requirement: 42&#x27; 和 &#x27;smoke&#x27;。</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Own tags</span><br><span class="line">    [Documentation]    测试有标签 &#x27;requirement: 42&#x27;，&#x27;smoke&#x27; 和 &#x27;not ready&#x27;。</span><br><span class="line">    [Tags]    not ready</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Own tags with variable</span><br><span class="line">    [Documentation]    测试有标签 &#x27;requirement: 42&#x27;，&#x27;smoke&#x27; 和 &#x27;host: 10.0.1.42&#x27;。</span><br><span class="line">    [Tags]    host: $&#123;HOST&#125;</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Remove common tag</span><br><span class="line">    [Documentation]    测试只有标签 &#x27;requirement: 42&#x27;。</span><br><span class="line">    [Tags]    -smoke</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Remove common tag using a pattern</span><br><span class="line">    [Documentation]    测试只有标签 &#x27;smoke&#x27;。</span><br><span class="line">    [Tags]    -requirement: *</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Set Tags and Remove Tags keywords</span><br><span class="line">    [Documentation]    这个测试有标签 &#x27;smoke&#x27;，&#x27;example&#x27; 和 &#x27;another&#x27;。</span><br><span class="line">    Set Tags    example    another</span><br><span class="line">    Remove Tags    requirement: *</span><br></pre></td></tr></table></figure></div>

<p>如示例所示，可以使用变量创建标签，但否则它们保留数据中使用的确切名称。当比较标签时，例如，收集统计信息，选择要执行的测试，或者删除重复项，比较是大小写、空格和下划线不敏感的。</p>
<p>如上述示例所示，使用-tag语法删除标签支持简单的模式，如-requirement: *。以连字符开头的标签除了在[Tags]设置中没有其他特殊含义。如果需要使用[Tags]设置一个以连字符开头的标签，可以使用转义格式，如-tag。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>测试标签设置是在Robot Framework 6.0中新增的。早期版本支持Force Tags和Default Tags设置，这将在下一节中讨论。</p>

    </div>
  </div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>删除常见标签的-tag语法是在Robot Framework 7.0中新增的。</p>

    </div>
  </div>

<h5 id="弃用-Force-Tags-和-Default-Tags"><a href="#弃用-Force-Tags-和-Default-Tags" class="headerlink" title="弃用 Force Tags 和 Default Tags"></a>弃用 Force Tags 和 Default Tags</h5><p>在Robot Framework 6.0之前，可以使用两种不同的设置在设置部分为测试指定标签：</p>
<p>Force Tags 所有测试无条件地获得这些标签。这与现在的Test Tags完全相同。 Default Tags 所有测试默认获得这些标签。如果测试有[Tags]，它将不会获得这些标签。 这两种设置仍然可以工作，但它们被认为是已弃用的。将来会添加一个可见的弃用警告，最可能在Robot Framework 8.0中，最终这些设置将被删除。可以使用像Tidy这样的工具来简化过渡。</p>
<p>更新Force Tags只需要将其重命名为Test Tags。Default Tags设置将被完全删除，但在Robot Framework 7.0中引入的-tag功能提供了相同的基础功能。下面的示例演示了所需的更改。</p>
<p>旧语法：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Force Tags      all</span><br><span class="line">Default Tags    default</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Common only</span><br><span class="line">    [Documentation]    测试有标签 &#x27;all&#x27; 和 &#x27;default&#x27;。</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">No default</span><br><span class="line">    [Documentation]    测试只有标签 &#x27;all&#x27;。</span><br><span class="line">    [Tags]</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Own and no default</span><br><span class="line">    [Documentation]    测试有标签 &#x27;all&#x27; 和 &#x27;own&#x27;。</span><br><span class="line">    [Tags]    own</span><br><span class="line">    No Operation</span><br></pre></td></tr></table></figure></div>

<p>新语法：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Test Tags      all    default</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Common only</span><br><span class="line">    [Documentation]    测试有标签 &#x27;all&#x27; 和 &#x27;default&#x27;。</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">No default</span><br><span class="line">    [Documentation]    测试只有标签 &#x27;all&#x27;。</span><br><span class="line">    [Tags]    -default</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Own and no default</span><br><span class="line">    [Documentation]    测试有标签 &#x27;all&#x27; 和 &#x27;own&#x27;。</span><br><span class="line">    [Tags]    own    -default</span><br><span class="line">    No Operation</span><br></pre></td></tr></table></figure></div>

<h5 id="保留标签"><a href="#保留标签" class="headerlink" title="保留标签"></a>保留标签</h5><p>用户通常可以自由地使用在他们的上下文中工作的任何标签。然而，有一些标签对于Robot Framework本身有预定义的含义，用它们来做其他用途可能会有意想不到的结果。Robot Framework现在和将来所有的特殊标签都有 <code>robot:</code> 前缀。为了避免问题，用户因此不应该使用任何带有这个前缀的标签，除非实际激活特殊功能。当前的保留标签列在下面，但是未来可能会添加更多这样的标签。</p>
<ul>
<li><pre><code>robot:continue-on-failure
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">和</span><br><span class="line"></span><br></pre></td></tr></table></figure></div>
robot:recursive-continue-on-failure
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - 用于启用继续失败模式。</span><br><span class="line">- ```</span><br><span class="line">  robot:stop-on-failure</span><br></pre></td></tr></table></figure></div>

和

<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">robot:recursive-stop-on-failure</span><br></pre></td></tr></table></figure></div>

- 用于禁用继续失败模式。
</code></pre>
</li>
<li><pre><code>robot:skip-on-failure
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - 如果测试失败，则标记为跳过。</span><br><span class="line">- ```</span><br><span class="line">  robot:skip</span><br></pre></td></tr></table></figure></div>

- 无条件跳过测试。
</code></pre>
</li>
<li><pre><code>robot:exclude
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - 无条件排除测试。</span><br><span class="line">- ```</span><br><span class="line">  robot:private</span><br></pre></td></tr></table></figure></div>

- 标记关键字为私有。
</code></pre>
</li>
<li><pre><code>robot:no-dry-run
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - 标记关键字在干运行模式下不执行。</span><br><span class="line">- ```</span><br><span class="line">  robot:exit</span><br></pre></td></tr></table></figure></div>

- 当执行停止时，自动添加到测试中。
</code></pre>
</li>
<li><pre><code>robot:flatten
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  - 在执行时间启用平铺关键字。</span><br><span class="line"></span><br><span class="line">从RobotFramework 4.1开始，默认情况下在标签统计中抑制保留标签。当它们通过 `--tagstatinclude robot:*` 命令行选项明确包含时，它们将被显示。</span><br><span class="line"></span><br><span class="line">#### 测试设置和拆解</span><br><span class="line"></span><br><span class="line">Robot Framework具有与许多其他测试自动化框架类似的测试设置和拆解功能。简单来说，测试设置是在测试用例之前执行的操作，而测试拆解是在测试用例之后执行的操作。在Robot Framework中，设置和拆解只是具有可能参数的普通关键字。</span><br><span class="line"></span><br><span class="line">设置和拆解总是单个关键字。如果它们需要处理多个独立的任务，可以创建高级用户关键字来实现。另一种解决方案是使用BuiltIn关键字Run Keywords执行多个关键字。</span><br><span class="line"></span><br><span class="line">测试拆解在两个方面特殊。首先，即使测试用例失败，它也会被执行，所以它可以用于必须完成的清理活动，无论测试用例的状态如何。此外，即使其中一个关键字失败，拆解中的所有关键字也会被执行。这种继续失败的功能也可以用于普通关键字，但在拆解中它默认是开启的。</span><br><span class="line"></span><br><span class="line">在测试用例文件中为测试用例指定设置或拆解的最简单方法是使用设置部分中的Test Setup和Test Teardown设置。单个测试用例也可以有自己的设置或拆解。它们是在测试用例部分的[Setup]或[Teardown]设置中定义的，并且它们会覆盖可能的Test Setup和Test Teardown设置。在[Setup]或[Teardown]设置后没有关键字意味着没有设置或拆解。也可以使用值NONE来表示测试没有设置/拆解。</span><br><span class="line"></span><br><span class="line">```robotframework</span><br><span class="line">*** Settings ***</span><br><span class="line">Test Setup       Open Application    App A</span><br><span class="line">Test Teardown    Close Application</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Default values</span><br><span class="line">    [Documentation]    设置和拆解来自设置部分</span><br><span class="line">    Do Something</span><br><span class="line"></span><br><span class="line">Overridden setup</span><br><span class="line">    [Documentation]    自己的设置，拆解来自设置部分</span><br><span class="line">    [Setup]    Open Application    App B</span><br><span class="line">    Do Something</span><br><span class="line"></span><br><span class="line">No teardown</span><br><span class="line">    [Documentation]    默认设置，完全没有拆解</span><br><span class="line">    Do Something</span><br><span class="line">    [Teardown]</span><br><span class="line"></span><br><span class="line">No teardown 2</span><br><span class="line">    [Documentation]    设置和拆解也可以通过特殊值NONE禁用</span><br><span class="line">    Do Something</span><br><span class="line">    [Teardown]    NONE</span><br><span class="line"></span><br><span class="line">Using variables</span><br><span class="line">    [Documentation]    使用变量指定设置和拆解</span><br><span class="line">    [Setup]    $&#123;SETUP&#125;</span><br><span class="line">    Do Something</span><br><span class="line">    [Teardown]    $&#123;TEARDOWN&#125;</span><br></pre></td></tr></table></figure></div>
</code></pre>
</li>
</ul>
<p>作为设置或拆解执行的关键字的名称可以是一个变量。这通过从命令行给出关键字名称作为变量，便于在不同环境中有不同的设置或拆解。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>测试套件可以有自己的设置和拆解。套件设置在该测试套件中的任何测试用例或子测试套件之前执行，同样，套件拆解在它们之后执行。</p>

    </div>
  </div>

<h4 id="测试模板"><a href="#测试模板" class="headerlink" title="测试模板"></a>测试模板</h4><p>测试模板将普通的关键字驱动测试用例转换为数据驱动的测试。关键字驱动的测试用例的主体是由关键字和它们可能的参数构成的，而带有模板的测试用例只包含模板关键字的参数。与其在每个测试和&#x2F;或文件中的所有测试中多次重复相同的关键字，不如只在每个测试或文件中使用一次。</p>
<p>模板关键字可以接受正常的位置参数和命名参数，以及嵌入到关键字名称中的参数。与其他设置不同，不能使用变量定义模板。</p>
<h5 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h5><p>以下示例测试用例说明了如何将接受正常位置参数的关键字用作模板。这两个测试在功能上完全相同。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Normal test case</span><br><span class="line">    Example keyword    first argument    second argument</span><br><span class="line"></span><br><span class="line">Templated test case</span><br><span class="line">    [Template]    Example keyword</span><br><span class="line">    first argument    second argument</span><br></pre></td></tr></table></figure></div>

<p>如示例所示，可以使用 [Template] 设置为单个测试用例指定模板。另一种方法是在设置部分使用 Test Template 设置，在这种情况下，模板将应用于该测试用例文件中的所有测试用例。[Template] 设置会覆盖设置部分设置的可能的模板，而 [Template] 的空值意味着测试没有模板，即使使用了 Test Template。也可以使用值 NONE 来表示测试没有模板。</p>
<p>如果一个带模板的测试用例在其主体中有多个数据行，那么模板将逐行应用于所有行。这意味着相同的关键字会被执行多次，每行数据执行一次。模板化的测试也是特殊的，因为即使其中一个或多个失败，所有的轮次也会被执行。这种继续失败模式也可以用于普通测试，但在模板化的测试中，该模式是自动开启的。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Test Template    Example keyword</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Templated test case</span><br><span class="line">    first round 1     first round 2</span><br><span class="line">    second round 1    second round 2</span><br><span class="line">    third round 1     third round 2</span><br></pre></td></tr></table></figure></div>

<p>使用具有默认值或接受可变数量参数的关键字，以及使用命名参数和自由命名参数，与模板的工作方式完全相同。在参数中使用变量也是正常支持的。</p>
<h5 id="嵌入参数的模板"><a href="#嵌入参数的模板" class="headerlink" title="嵌入参数的模板"></a>嵌入参数的模板</h5><p>模板支持嵌入参数语法的变体。使用模板时，此语法的工作方式是，如果模板关键字的名称中有变量，它们被视为参数的占位符，并用模板使用的实际参数替换。然后使用结果关键字，而不使用位置参数。这最好通过一个例子来说明：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">带嵌入参数的普通测试用例</span><br><span class="line">    1 + 1 的结果应该是 2</span><br><span class="line">    1 + 2 的结果应该是 3</span><br><span class="line"></span><br><span class="line">带嵌入参数的模板</span><br><span class="line">    [Template]    $&#123;calculation&#125; 的结果应该是 $&#123;expected&#125;</span><br><span class="line">    1 + 1    2</span><br><span class="line">    1 + 2    3</span><br><span class="line"></span><br><span class="line">*** Keywords ***</span><br><span class="line">$&#123;calculation&#125; 的结果应该是 $&#123;expected&#125;</span><br><span class="line">    $&#123;result&#125; =    计算    $&#123;calculation&#125;</span><br><span class="line">    应该相等    $&#123;result&#125;     $&#123;expected&#125;</span><br></pre></td></tr></table></figure></div>

<p>当使用模板的嵌入参数时，模板关键字名称中的参数数量必须与其使用的参数数量匹配。尽管参数名称不需要匹配原始关键字的参数，也可以完全使用不同的参数：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">不同的参数名称</span><br><span class="line">    [Template]    $&#123;foo&#125; 的结果应该是 $&#123;bar&#125;</span><br><span class="line">    1 + 1    2</span><br><span class="line">    1 + 2    3</span><br><span class="line"></span><br><span class="line">只有一些参数</span><br><span class="line">    [Template]    $&#123;calculation&#125; 的结果应该是 3</span><br><span class="line">    1 + 2</span><br><span class="line">    4 - 1</span><br><span class="line"></span><br><span class="line">新的参数</span><br><span class="line">    [Template]    $&#123;life&#125; 的 $&#123;meaning&#125; 应该是 42</span><br><span class="line">    result    21 * 2</span><br></pre></td></tr></table></figure></div>

<p>使用模板的嵌入参数的主要好处是参数名称被明确指定。当使用普通参数时，可以通过命名包含参数的列来达到相同的效果。这在下一节的数据驱动样式示例中有所说明。</p>
<h5 id="使用FOR循环的模板"><a href="#使用FOR循环的模板" class="headerlink" title="使用FOR循环的模板"></a>使用FOR循环的模板</h5><p>如果模板与FOR循环一起使用，模板将应用于循环内的所有步骤。在这种情况下，也会使用继续失败模式，这意味着即使有失败，所有的步骤也会与所有的循环元素一起执行。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">带FOR循环的模板</span><br><span class="line">    [Template]    Example keyword</span><br><span class="line">    FOR    $&#123;item&#125;    IN    @&#123;ITEMS&#125;</span><br><span class="line">        $&#123;item&#125;    2nd arg</span><br><span class="line">    END</span><br><span class="line">    FOR    $&#123;index&#125;    IN RANGE    42</span><br><span class="line">        1st arg    $&#123;index&#125;</span><br><span class="line">    END</span><br></pre></td></tr></table></figure></div>

<h5 id="使用IF-ELSE结构的模板"><a href="#使用IF-ELSE结构的模板" class="headerlink" title="使用IF&#x2F;ELSE结构的模板"></a>使用IF&#x2F;ELSE结构的模板</h5><p>IF&#x2F;ELSE结构也可以与模板一起使用。例如，当与FOR循环一起使用时，这可以用于过滤执行的参数，这可能很有用。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">带FOR和IF的模板</span><br><span class="line">    [Template]    Example keyword</span><br><span class="line">    FOR    $&#123;item&#125;    IN    @&#123;ITEMS&#125;</span><br><span class="line">        IF  $&#123;item&#125; &lt; 5</span><br><span class="line">            $&#123;item&#125;    2nd arg</span><br><span class="line">        END</span><br><span class="line">    END</span><br></pre></td></tr></table></figure></div>

<h4 id="不同的测试用例风格"><a href="#不同的测试用例风格" class="headerlink" title="不同的测试用例风格"></a>不同的测试用例风格</h4><p>测试用例可以以多种不同的方式编写。描述某种工作流的测试用例可以以关键字驱动或行为驱动的风格编写。数据驱动的风格可以用于测试具有不同输入数据的相同工作流。</p>
<h5 id="关键字驱动风格"><a href="#关键字驱动风格" class="headerlink" title="关键字驱动风格"></a>关键字驱动风格</h5><p>工作流测试，如前面描述的有效登录测试，是由几个关键字及其可能的参数构建的。它们的正常结构是首先将系统置于初始状态（在有效登录示例中打开登录页面），然后对系统进行一些操作（输入名称，输入密码，提交凭据），最后验证系统的行为是否符合预期（应打开欢迎页面）。</p>
<h5 id="数据驱动风格"><a href="#数据驱动风格" class="headerlink" title="数据驱动风格"></a>数据驱动风格</h5><p>编写测试用例的另一种风格是数据驱动的方法，其中测试用例只使用一个高级关键字（通常作为用户关键字创建），该关键字隐藏了实际的测试工作流。当需要使用不同的输入和&#x2F;或输出数据测试相同的场景时，这些测试非常有用。可以在每个测试中重复相同的关键字，但是测试模板功能允许只指定一次要使用的关键字。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Test Template    Login with invalid credentials should fail</span><br><span class="line"></span><br><span class="line">*** Test Cases ***                USERNAME         PASSWORD</span><br><span class="line">Invalid User Name                 invalid          $&#123;VALID PASSWORD&#125;</span><br><span class="line">Invalid Password                  $&#123;VALID USER&#125;    invalid</span><br><span class="line">Invalid User Name and Password    invalid          invalid</span><br><span class="line">Empty User Name                   $&#123;EMPTY&#125;         $&#123;VALID PASSWORD&#125;</span><br><span class="line">Empty Password                    $&#123;VALID USER&#125;    $&#123;EMPTY&#125;</span><br><span class="line">Empty User Name and Password      $&#123;EMPTY&#125;         $&#123;EMPTY&#125;</span><br></pre></td></tr></table></figure></div>


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-info"></i><p>信息</p>

    </div>
    <div class="notel-content">
      <p>像上面的例子那样命名列可以使测试更易于理解。这是可能的，因为在标题行中，除第一个单元格外的其他单元格都被忽略。</p>

    </div>
  </div>

<p>上面的示例有六个独立的测试，每个无效的用户&#x2F;密码组合一个，下面的示例说明了如何只有一个测试包含所有的组合。使用测试模板时，即使有失败，测试中的所有轮次也会被执行，所以这两种风格之间没有真正的功能差异。在上面的示例中，单独的组合被命名，所以更容易看出它们测试了什么，但是可能有大量的这些测试可能会混乱统计数据。使用哪种风格取决于上下文和个人偏好。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Invalid Password</span><br><span class="line">    [Template]    Login with invalid credentials should fail</span><br><span class="line">    invalid          $&#123;VALID PASSWORD&#125;</span><br><span class="line">    $&#123;VALID USER&#125;    invalid</span><br><span class="line">    invalid          whatever</span><br><span class="line">    $&#123;EMPTY&#125;         $&#123;VALID PASSWORD&#125;</span><br><span class="line">    $&#123;VALID USER&#125;    $&#123;EMPTY&#125;</span><br><span class="line">    $&#123;EMPTY&#125;         $&#123;EMPTY&#125;</span><br></pre></td></tr></table></figure></div>

<h5 id="行为驱动风格"><a href="#行为驱动风格" class="headerlink" title="行为驱动风格"></a>行为驱动风格</h5><p>也可以将测试用例编写为非技术项目利益相关者也必须理解的需求。这些可执行的需求是通常被称为接受测试驱动开发（ATDD）或示例规范化的过程的基石。</p>
<p>编写这些需求&#x2F;测试的一种方式是由行为驱动开发（BDD）普及的Given-When-Then风格。在这种风格的测试用例中，初始状态通常用以Given开头的关键字表示，动作用以When开头的关键字描述，预期用以Then开头的关键字表示。如果一个步骤有多个动作，可以使用以And或But开头的关键字。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Valid Login</span><br><span class="line">    Given 登录页面已打开</span><br><span class="line">    When 插入有效的用户名和密码</span><br><span class="line">    and 提交凭据</span><br><span class="line">    Then 应该打开欢迎页面</span><br></pre></td></tr></table></figure></div>

<h6 id="忽略Given-When-Then-And-But前缀"><a href="#忽略Given-When-Then-And-But前缀" class="headerlink" title="忽略Given&#x2F;When&#x2F;Then&#x2F;And&#x2F;But前缀"></a>忽略Given&#x2F;When&#x2F;Then&#x2F;And&#x2F;But前缀</h6><p>当搜索匹配的关键字时，如果没有找到全名匹配，将丢弃前缀Given、When、Then、And和But。这对于用户关键字和库关键字都有效。例如，在上面的示例中，Given登录页面已打开可以实现为用户关键字，无论是否带有单词Given。忽略前缀还允许使用不同的前缀使用相同的关键字。例如，欢迎页面应该打开也可以用作And欢迎页面应该打开。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>这些前缀可以本地化。请参阅翻译附录以获取支持的翻译。</p>

    </div>
  </div>

<h6 id="嵌入数据到关键字"><a href="#嵌入数据到关键字" class="headerlink" title="嵌入数据到关键字"></a>嵌入数据到关键字</h6><p>在编写具体示例时，能够将实际数据传递给关键字实现是很有用的。用户关键字通过允许将参数嵌入到关键字名称中来支持这一点。</p>
<h3 id="创建任务"><a href="#创建任务" class="headerlink" title="创建任务"></a>创建任务</h3><p>除了测试自动化，Robot Framework还可以用于其他自动化目的，包括机器人流程自动化（RPA）。这一直是可能的，但Robot Framework 3.1添加了对自动化任务的官方支持，而不仅仅是测试。在大多数情况下，创建任务的工作方式与创建测试相同，唯一的实质区别在于术语。任务也可以像测试用例一样组织成套件。</p>
<h4 id="任务语法"><a href="#任务语法" class="headerlink" title="任务语法"></a>任务语法</h4><p>任务是基于可用关键字创建的，就像测试用例一样，任务语法通常与测试用例语法相同。主要区别在于，任务是在任务部分创建的，而不是在测试用例部分：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Tasks ***</span><br><span class="line">Process invoice</span><br><span class="line">    Read information from PDF</span><br><span class="line">    Validate information</span><br><span class="line">    Submit information to backend system</span><br><span class="line">    Validate information is visible in web UI</span><br></pre></td></tr></table></figure></div>

<p>在同一文件中同时有测试和任务是错误的。</p>
<h4 id="与任务相关的设置"><a href="#与任务相关的设置" class="headerlink" title="与任务相关的设置"></a>与任务相关的设置</h4><p>可以在任务部分使用的设置与测试用例部分中可以使用的设置完全相同。在设置部分，可以使用任务设置、任务拆解、任务模板和任务超时，而不是它们的测试变体。</p>
<h3 id="创建测试套件"><a href="#创建测试套件" class="headerlink" title="创建测试套件"></a>创建测试套件</h3><p>Robot Framework的测试用例是在测试用例文件中创建的，这些文件可以组织成目录。这些文件和目录创建了一个分层的测试套件结构。创建任务时也适用相同的概念，但术语有所不同。</p>
<h4 id="套件文件"><a href="#套件文件" class="headerlink" title="套件文件"></a>套件文件</h4><p>Robot Framework的测试用例是在套件文件（也称为测试用例文件）中的测试用例部分创建的。这样的文件会自动从它包含的所有测试用例创建一个测试套件。测试用例的数量没有上限，但建议少于十个，除非使用数据驱动的方法，其中一个测试用例只包含一个高级关键字。</p>
<p>在设置部分，可以使用以下设置来自定义套件：</p>
<ul>
<li>Name<ul>
<li>用于设置自定义套件名称。默认名称是根据文件或目录名称创建的。</li>
</ul>
</li>
<li>Documentation<ul>
<li>用于指定套件文档。</li>
</ul>
</li>
<li>Metadata<ul>
<li>用于设置自由套件元数据作为名称-值对。</li>
</ul>
</li>
<li>Suite Setup, Suite Teardown<ul>
<li>指定套件设置和拆解。</li>
</ul>
</li>
</ul>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>设置名称是不区分大小写的，但推荐使用上述格式。</p>

    </div>
  </div>

<h4 id="套件目录"><a href="#套件目录" class="headerlink" title="套件目录"></a>套件目录</h4><p>测试用例文件可以组织成目录，这些目录创建了更高级别的测试套件。从目录创建的测试套件不能直接包含任何测试用例，而是包含其他包含测试用例的测试套件。然后，这些目录可以放置到其他目录中，创建更高级别的套件。结构没有限制，所以可以根据需要组织测试用例。</p>
<p>当执行一个测试目录时，它包含的文件和目录会被递归处理，如下所示：</p>
<ul>
<li>以点（.）或下划线（_）开头的文件和目录名会被忽略。</li>
<li>名称为CVS的目录会被忽略（区分大小写）。</li>
<li>支持的文件格式的文件会被处理。</li>
<li>其他文件会被忽略。</li>
<li>如果处理的文件或目录不包含任何测试用例，它会被静默忽略（向系统日志写入一条消息），并继续处理。</li>
</ul>
<h4 id="套件初始化文件"><a href="#套件初始化文件" class="headerlink" title="套件初始化文件"></a>套件初始化文件</h4><p>从目录创建的测试套件可以有与从测试用例文件创建的套件相似的设置。因为目录本身不能包含这种信息，所以必须将其放入一个特殊的测试套件初始化文件中。初始化文件的名称必须始终采用<code>__init__.ext</code>的格式，其中扩展名必须是支持的文件格式之一（通常是<code>__init__.robot</code>）。这种命名格式借鉴自Python，其中以这种方式命名的文件表示目录是一个模块。</p>
<p>从Robot Framework 6.1开始，也可以为通过给出多个路径启动测试执行时自动创建的套件定义套件初始化文件。</p>
<p>初始化文件的结构和语法与测试用例文件相同，只是它们不能有测试用例部分，而且不是所有的设置都被支持。在初始化文件中创建或导入的变量和关键字在较低级别的测试套件中不可用。如果需要共享变量或关键字，可以将它们放入资源文件中，这些文件可以由初始化和测试用例文件导入。</p>
<p>初始化文件的主要用途是指定与套件文件类似的测试套件相关设置，但也可以设置一些与测试用例相关的设置。如何在初始化文件中使用不同的设置在下面解释。</p>
<ul>
<li>Name, Documentation, Metadata, Suite Setup, Suite Teardown<ul>
<li>这些套件特定的设置在套件初始化文件中的工作方式与套件文件中的工作方式相同。</li>
</ul>
</li>
<li>Test Tags<ul>
<li>指定的标签无条件地设置为此目录包含的所有套件文件中的所有测试，递归地。新的在Robot Framework 6.1。需要使用旧版本的Force Tags。</li>
</ul>
</li>
<li>Test Setup, Test Teardown, Test Timeout<ul>
<li>将测试设置&#x2F;拆解或测试超时的默认值设置为此目录包含的所有测试用例。可以在较低级别覆盖。注意，用作设置和拆解的关键字必须在使用它们的测试的测试用例文件中可用。在初始化文件本身中定义关键字是不够的。</li>
</ul>
</li>
<li>Task Setup, Task Teardown, Task Tags, Task Timeout<ul>
<li>分别是Test Setup, Test Teardown, Test Tags和Test Timeout的别名，可以在创建任务，而不是测试时使用。</li>
</ul>
</li>
<li>Default Tags, Test Template<ul>
<li>在初始化文件中不支持。</li>
</ul>
</li>
</ul>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Documentation    示例套件</span><br><span class="line">Suite Setup      Do Something    $&#123;MESSAGE&#125;</span><br><span class="line">Test Tags        example</span><br><span class="line">Library          SomeLibrary</span><br><span class="line"></span><br><span class="line">*** Variables ***</span><br><span class="line">$&#123;MESSAGE&#125;       Hello, world!</span><br><span class="line"></span><br><span class="line">*** Keywords ***</span><br><span class="line">Do Something</span><br><span class="line">    [Arguments]    $&#123;args&#125;</span><br><span class="line">    Some Keyword    $&#123;arg&#125;</span><br><span class="line">    Another Keyword</span><br></pre></td></tr></table></figure></div>

<h4 id="套件名称"><a href="#套件名称" class="headerlink" title="套件名称"></a>套件名称</h4><p>测试套件的名称默认由文件或目录名称构造。创建名称时，将忽略扩展名，可能的下划线被替换为空格，全小写的名称被转换为标题大小写。例如，<code>some_tests.robot</code>变成<code>Some Tests</code>，<code>My_test_directory</code>变成<code>My test directory</code>。</p>
<p>文件或目录名称可以包含一个前缀来控制套件的执行顺序。前缀与基本名称之间用两个下划线分隔，当构造实际的测试套件名称时，前缀和下划线都被删除。例如，文件<code>01__some_tests.robot</code>和<code>02__more_tests.robot</code>分别创建测试套件<code>Some Tests</code>和<code>More Tests</code>，前者在后者之前执行。</p>
<p>从Robot Framework 6.1开始，也可以通过在设置部分使用<code>Name</code>设置为套件指定一个自定义名称：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Name            Custom suite name</span><br></pre></td></tr></table></figure></div>

<p>可以使用<code>--name</code>选项从命令行覆盖顶级套件的名称。</p>
<h4 id="套件文档"><a href="#套件文档" class="headerlink" title="套件文档"></a>套件文档</h4><p>使用设置部分中的<code>Documentation</code>设置设置测试套件的文档。它可以在套件文件和套件初始化文件中使用。套件文档与测试用例文档在显示位置和创建方式上具有完全相同的特性。有关语法的详细信息，请参阅文档格式化附录。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Documentation    An example suite documentation with *some* _formatting_.</span><br><span class="line">...              Long documentation can be split into multiple lines.</span><br></pre></td></tr></table></figure></div>

<p>可以使用<code>--doc</code>选项从命令行覆盖顶级套件的文档。</p>
<h4 id="自由套件元数据"><a href="#自由套件元数据" class="headerlink" title="自由套件元数据"></a>自由套件元数据</h4><p>除了文档外，套件还可以有自由元数据。这些元数据以名称-值对的形式在设置部分使用<code>Metadata</code>设置定义。它在报告和日志中的显示方式与文档类似。</p>
<p>元数据的名称是给<code>Metadata</code>设置的第一个参数，剩余的参数指定其值。值的处理方式与文档相同，这意味着它支持HTML格式和变量，而且较长的值可以分成多行。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Metadata        Version            2.0</span><br><span class="line">Metadata        Robot Framework    http://robotframework.org</span><br><span class="line">Metadata        Platform           $&#123;PLATFORM&#125;</span><br><span class="line">Metadata        Longer Value</span><br><span class="line">...             Longer metadata values can be split into multiple</span><br><span class="line">...             rows. Also *simple* _formatting_ is supported.</span><br></pre></td></tr></table></figure></div>

<p>可以使用<code>--metadata</code>选项从命令行设置顶级套件的自由元数据。</p>
<h4 id="套件设置和拆解"><a href="#套件设置和拆解" class="headerlink" title="套件设置和拆解"></a>套件设置和拆解</h4><p>不仅测试用例，而且测试套件也可以有一个设置和一个拆解。套件设置在运行任何套件的测试用例或子测试套件之前执行，套件拆解在它们之后执行。所有的测试套件都可以有一个设置和一个拆解；对于从目录创建的套件，它们必须在套件初始化文件中指定。</p>
<p>与测试用例类似，套件设置和拆解是可能带有参数的关键字。它们在设置部分中使用<code>Suite Setup</code>和<code>Suite Teardown</code>设置定义，分别。关键字名称和可能的参数位于设置名称后的列中。</p>
<p>如果套件设置失败，那么它和其子测试套件中的所有测试用例都会立即被分配一个失败状态，并且它们实际上不会被执行。这使得套件设置成为在可能运行测试用例之前必须满足的预条件的理想选择。</p>
<p>套件拆解通常用于在所有测试用例执行完毕后进行清理。即使同一套件的设置失败，它也会被执行。如果套件拆解失败，那么套件中的所有测试用例都会被标记为失败，无论它们的原始执行状态如何。注意，即使其中一个失败，套件拆解中的所有关键字也会被执行。</p>
<p>作为设置或拆解执行的关键字的名称可以是一个变量。这通过从命令行给出关键字名称作为变量，便于在不同环境中有不同的设置或拆解。</p>
<h3 id="使用测试库"><a href="#使用测试库" class="headerlink" title="使用测试库"></a>使用测试库</h3><p>测试库包含那些最低级别的关键字，通常被称为库关键字，它们实际上与被测试的系统进行交互。所有的测试用例总是使用来自某个库的关键字，通常通过高级用户关键字。本节解释如何使用测试库以及如何使用它们提供的关键字。创建测试库在另一节中描述。</p>
<h4 id="导入库"><a href="#导入库" class="headerlink" title="导入库"></a>导入库</h4><p>测试库通常使用<code>Library</code>设置导入，但也可以使用<code>Import Library</code>关键字。</p>
<h5 id="使用Library设置"><a href="#使用Library设置" class="headerlink" title="使用Library设置"></a>使用<code>Library</code>设置</h5><p>测试库通常使用设置部分中的<code>Library</code>设置导入，并在后续列中有库名称。与大多数其他数据不同，库名称既区分大小写又区分空格。如果库在一个包中，必须使用包括包名在内的全名。</p>
<p>在那些库需要参数的情况下，它们列在库名称后的列中。在测试库导入中可以像关键字的参数一样使用默认值、可变数量的参数和命名参数。库名称和参数都可以使用变量设置。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Library    OperatingSystem</span><br><span class="line">Library    my.package.TestLibrary</span><br><span class="line">Library    MyLibrary    arg1    arg2</span><br><span class="line">Library    $&#123;LIBRARY&#125;</span><br></pre></td></tr></table></figure></div>

<p>可以在套件文件、资源文件和套件初始化文件中导入测试库。在所有这些情况下，导入的库中的所有关键字都在该文件中可用。对于资源文件，这些关键字也在使用它们的其他文件中可用。</p>
<h5 id="使用Import-Library关键字"><a href="#使用Import-Library关键字" class="headerlink" title="使用Import Library关键字"></a>使用<code>Import Library</code>关键字</h5><p>另一种使用测试库的可能性是使用<code>BuiltIn</code>库中的关键字<code>Import Library</code>。这个关键字接受库名称和可能的参数，就像<code>Library</code>设置一样。导入的库中的关键字在使用<code>Import Library</code>关键字的测试套件中可用。这种方法在库在测试执行开始时不可用，只有其他一些关键字使其可用的情况下很有用。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Do Something</span><br><span class="line">    Import Library    MyLibrary    arg1    arg2</span><br><span class="line">    KW From MyLibrary</span><br></pre></td></tr></table></figure></div>

<h4 id="指定要导入的库"><a href="#指定要导入的库" class="headerlink" title="指定要导入的库"></a>指定要导入的库</h4><p>要导入的库可以通过使用库名称或库路径来指定。无论是使用<code>Library</code>设置还是<code>Import Library</code>关键字导入库，这些方法的工作方式都是相同的。</p>
<h5 id="使用库名称"><a href="#使用库名称" class="headerlink" title="使用库名称"></a>使用库名称</h5><p>指定要导入的测试库的最常见方法是使用其名称，就像本节中的所有示例所做的那样。在这些情况下，Robot Framework试图从模块搜索路径中找到实现库的类或模块。以某种方式安装的库应该自动在模块搜索路径中，但对于其他库，可能需要单独配置搜索路径。</p>
<p>这种方法的最大好处是，当配置了模块搜索路径（通常使用自定义的启动脚本）后，普通用户不需要考虑库实际上安装在哪里。缺点是，将你自己的（可能非常简单的）库放入搜索路径可能需要一些额外的配置。</p>
<h5 id="使用库的物理路径"><a href="#使用库的物理路径" class="headerlink" title="使用库的物理路径"></a>使用库的物理路径</h5><p>指定要导入的库的另一种机制是使用文件系统中的路径。这个路径被认为是相对于当前测试数据文件所在的目录的，就像资源和变量文件的路径一样。这种方法的主要好处是不需要配置模块搜索路径。</p>
<p>如果库是一个文件，那么它的路径必须包含扩展名，即.py。如果库是作为目录实现的，那么如果路径是相对的，它的路径必须有一个尾随的正斜杠（&#x2F;）。对于绝对路径，尾随的斜杠是可选的。以下示例演示了这些不同的用法。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Library    PythonLibrary.py</span><br><span class="line">Library    relative/path/PythonDirLib/    possible    arguments</span><br><span class="line">Library    $&#123;RESOURCES&#125;/Example.class</span><br></pre></td></tr></table></figure></div>

<p>这种方法的一个限制是，作为Python类实现的库必须在与类同名的模块中。</p>
<h4 id="设置库的自定义名称"><a href="#设置库的自定义名称" class="headerlink" title="设置库的自定义名称"></a>设置库的自定义名称</h4><p>库名称在关键字名称之前显示在测试日志中，如果多个关键字有相同的名称，它们必须使用关键字名称前缀为库名称。库名称通常从实现它的模块或类名称中获取，但在某些情况下，更改它是可取的：</p>
<ul>
<li>需要多次导入相同的库，但参数不同。否则这是不可能的。</li>
<li>库名称过长不便。</li>
<li>您希望使用变量在不同的环境中导入不同的库，但用相同的名称引用它们。</li>
<li>库名称误导或其他贫穷。在这种情况下，更改实际名称当然是更好的解决方案。</li>
</ul>
<p>指定新名称的基本语法是在库名称后面有文本<code>AS</code>（区分大小写），然后在其后面有新名称。指定的名称显示在日志中，并且在使用关键字的全名（<code>LibraryName.Keyword Name</code>）时必须在测试数据中使用。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Library    packagename.TestLib    AS    TestLib</span><br><span class="line">Library    $&#123;LIBRARY&#125;    AS    MyName</span><br></pre></td></tr></table></figure></div>

<p>库的可能参数放在原始库名称和<code>AS</code>标记之间。以下示例说明了如何使用不同的参数多次导入相同的库：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Library    SomeLibrary    localhost        1234    AS    LocalLib</span><br><span class="line">Library    SomeLibrary    server.domain    8080    AS    RemoteLib</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    LocalLib.Some Keyword     some arg       second arg</span><br><span class="line">    RemoteLib.Some Keyword    another arg    whatever</span><br><span class="line">    LocalLib.Another Keyword</span><br></pre></td></tr></table></figure></div>

<p>在设置部分导入库和使用<code>Import Library</code>关键字时，都可以为测试库设置自定义名称。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>在Robot Framework 6.0之前，给库指定自定义名称时使用的标记是<code>WITH NAME</code>，而不是<code>AS</code>。旧的语法继续工作，但它被认为是已弃用的，最终将被删除。</p>

    </div>
  </div>

<h4 id="标准库"><a href="#标准库" class="headerlink" title="标准库"></a>标准库</h4><p>有些测试库是与Robot Framework一起分发的，这些库被称为标准库。<code>BuiltIn</code>库是特殊的，因为它是自动使用的，因此它的关键字总是可用的。其他标准库需要像任何其他库一样导入，但是不需要安装它们。</p>
<h5 id="普通标准库"><a href="#普通标准库" class="headerlink" title="普通标准库"></a>普通标准库</h5><p>下面列出了可用的普通标准库，并附有链接到它们的文档：</p>
<ul>
<li>BuiltIn</li>
<li>Collections</li>
<li>DateTime</li>
<li>Dialogs</li>
<li>OperatingSystem</li>
<li>Process</li>
<li>Screenshot</li>
<li>String</li>
<li>Telnet</li>
<li>XML</li>
</ul>
<h5 id="远程库"><a href="#远程库" class="headerlink" title="远程库"></a>远程库</h5><p>除了上面列出的普通标准库，还有一个远程库，它与其他标准库完全不同。它本身没有任何关键字，但它作为Robot Framework和实际测试库实现之间的代理。这些库可以在核心框架之外的其他机器上运行，甚至可以使用Robot Framework原生不支持的语言实现。</p>
<p>有关此概念的更多信息，请参阅单独的远程库接口部分。</p>
<h4 id="外部库"><a href="#外部库" class="headerlink" title="外部库"></a>外部库</h4><p>任何不是标准库的测试库，按定义，都是外部库。Robot Framework的开源社区已经实现了几个通用库，如<code>SeleniumLibrary</code>和<code>SwingLibrary</code>，这些库没有与核心框架一起打包。可以从<a class="link"   target="_blank" rel="noopener" href="http://robotframework.org找到公开可用的库列表./" >http://robotframework.org找到公开可用的库列表。 <i class="fa-regular fa-arrow-up-right-from-square fa-sm"></i></a></p>
<p>显然，使用Robot Framework的团队也可以实现通用和自定义库。有关该主题的更多信息，请参阅创建测试库部分。</p>
<p>不同的外部库可能有完全不同的安装和使用机制。有时，它们可能还需要单独安装一些其他依赖项。所有的库都应该有清晰的安装和使用文档，最好能自动化安装过程。</p>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><h3 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h3><p>变量是Robot Framework的一个重要特性，它们可以在测试数据的大多数地方使用。最常见的是在测试用例和关键字部分的关键字参数中使用，但所有设置也允许在其值中使用变量。普通的关键字名称不能用变量指定，但可以使用<code>BuiltIn</code>关键字<code>Run Keyword</code>来达到同样的效果。</p>
<p>Robot Framework有自己的变量，可以分别使用语法<code>$&#123;SCALAR&#125;</code>、<code>@&#123;LIST&#125;</code>和<code>&amp;&#123;DICT&#125;</code>作为标量、列表或字典使用。除此之外，还可以直接使用语法<code>%&#123;ENV_VAR&#125;</code>使用环境变量。</p>
<p>变量在以下情况下很有用：</p>
<ul>
<li>当测试数据中的字符串经常变化时。使用变量，你只需要在一个地方做这些更改。</li>
<li>当创建系统独立和操作系统独立的测试数据时。使用变量而不是硬编码的字符串可以大大简化这个过程（例如，使用<code>$&#123;RESOURCES&#125;</code>代替<code>c:\resources</code>，或者使用<code>$&#123;HOST&#125;</code>代替<code>10.0.0.1:8080</code>）。因为变量可以在启动测试时从命令行设置，所以更改系统特定的变量很容易（例如，<code>--variable HOST:10.0.0.2:1234 --variable RESOURCES:/opt/resources</code>）。这也有助于本地化测试，这通常涉及使用不同的字符串运行相同的测试。</li>
<li>当需要将除字符串以外的对象作为关键字的参数时。没有变量，这是不可能的。</li>
<li>当不同的关键字，甚至在不同的测试库中，需要通信时。你可以将一个关键字的返回值分配给一个变量，并将它作为另一个的参数传递。</li>
<li>当测试数据中的值很长或者复杂时。例如，<code>$&#123;URL&#125;</code>比<code>http://long.domain.name:8080/path/to/service?foo=1&amp;bar=2&amp;zap=42</code>短。</li>
<li>如果在测试数据中使用了不存在的变量，使用它的关键字会失败。如果需要将用于变量的相同语法作为字面字符串，必须使用反斜杠转义，如<code>\$&#123;NAME&#125;</code>。</li>
</ul>
<h3 id="使用变量"><a href="#使用变量" class="headerlink" title="使用变量"></a>使用变量</h3><p>本节解释如何使用变量，包括常规标量变量语法<code>$&#123;var&#125;</code>，如何在列表和字典上下文中使用变量，如<code>@&#123;var&#125;</code>和<code>&amp;&#123;var&#125;</code>，以及如何使用环境变量，如<code>%&#123;var&#125;</code>。后续部分将讨论创建变量的不同方式。</p>
<p>Robot Framework的变量，类似于关键字，是不区分大小写的，而且也忽略空格和下划线。然而，建议使用大写字母表示全局变量（例如，<code>$&#123;PATH&#125;</code>或<code>$&#123;TWO WORDS&#125;</code>），使用小写字母表示只在某些测试用例或用户关键字中可用的局部变量（例如，<code>$&#123;my var&#125;</code>）。更重要的是，应该一致地使用大小写。</p>
<p>变量名由变量类型标识符（$，@，&amp;，%），花括号（{，}）和花括号之间的实际变量名组成。与使用类似变量语法的某些编程语言不同，花括号总是必需的。变量名基本上可以在花括号之间有任何字符。然而，建议只使用从a到z的字母、数字、下划线和空格，这甚至是使用扩展变量语法的要求。</p>
<h4 id="标量变量语法"><a href="#标量变量语法" class="headerlink" title="标量变量语法"></a>标量变量语法</h4><p>在Robot Framework测试数据中使用变量的最常见方式是使用标量变量语法，如<code>$&#123;var&#125;</code>。当使用这种语法时，变量名被其值替换。大多数时候，变量值是字符串，但变量可以包含任何对象，包括数字、列表、字典，甚至自定义对象。</p>
<p>下面的例子说明了标量变量的使用。假设变量<code>$&#123;GREET&#125;</code>和<code>$&#123;NAME&#125;</code>可用，并分别赋值为字符串Hello和world，那么下面的示例测试用例是等价的。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Constants</span><br><span class="line">    Log    Hello</span><br><span class="line">    Log    Hello, world!!</span><br><span class="line"></span><br><span class="line">Variables</span><br><span class="line">    Log    $&#123;GREET&#125;</span><br><span class="line">    Log    $&#123;GREET&#125;, $&#123;NAME&#125;!!</span><br></pre></td></tr></table></figure></div>

<p>当一个标量变量单独使用，没有其他文本或变量围绕它，就像上面的<code>$&#123;GREET&#125;</code>，变量被其值替换，值可以是任何对象。如果变量不是单独使用，就像上面的<code>$&#123;GREER&#125;, $&#123;NAME&#125;!!</code>，它的值首先被转换为字符串，然后与其他数据连接。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>当使用命名参数语法向关键字传递参数时，也会按原样使用变量值，如<code>argname=${var}</code>。</p>

    </div>
  </div>

<p>下面的例子演示了变量单独使用和与其他内容一起使用的区别。首先，假设我们有一个变量<code>$&#123;STR&#125;</code>设置为字符串Hello, world!和<code>$&#123;OBJ&#125;</code>设置为以下Python对象的实例：</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyObj</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>():</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Hi, terra!&quot;</span></span><br></pre></td></tr></table></figure></div>

<p>设置了这两个变量后，我们有以下测试数据：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Objects</span><br><span class="line">    KW 1    $&#123;STR&#125;</span><br><span class="line">    KW 2    $&#123;OBJ&#125;</span><br><span class="line">    KW 3    I said &quot;$&#123;STR&#125;&quot;</span><br><span class="line">    KW 4    You said &quot;$&#123;OBJ&#125;&quot;</span><br></pre></td></tr></table></figure></div>

<p>最后，当执行这个测试数据时，不同的关键字接收到的参数如下所示：</p>
<ul>
<li>KW 1得到一个字符串Hello, world!</li>
<li>KW 2得到存储在变量<code>$&#123;OBJ&#125;</code>中的对象</li>
<li>KW 3得到一个字符串I said “Hello, world!”</li>
<li>KW 4得到一个字符串You said “Hi, terra!”</li>
</ul>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>如果变量不能表示为Unicode，那么将变量转换为Unicode显然会失败。例如，如果你试图使用字节序列作为关键字的参数，那么你将值连接在一起，如<code>${byte1}${byte2}</code>。一个解决方法是创建一个包含整个值的变量，并在单元格中单独使用它（例如，<code>${bytes}</code>），因为这样值就会按原样使用。</p>

    </div>
  </div>

<h4 id="列表变量语法"><a href="#列表变量语法" class="headerlink" title="列表变量语法"></a>列表变量语法</h4><p>当一个变量像<code>$&#123;EXAMPLE&#125;</code>那样作为标量使用时，它的值会被原样使用。如果一个变量的值是一个列表或类似列表，那么也可以像<code>@&#123;EXAMPLE&#125;</code>那样将它作为一个列表变量使用。在这种情况下，列表会被展开，单个项会作为单独的参数传入。这最容易通过一个例子来解释。假设一个变量<code>@&#123;USER&#125;</code>的值是<code>[&#39;robot&#39;, &#39;secret&#39;]</code>，那么下面的两个测试用例是等价的：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Constants</span><br><span class="line">    Login    robot    secret</span><br><span class="line"></span><br><span class="line">List Variable</span><br><span class="line">    Login    @&#123;USER&#125;</span><br></pre></td></tr></table></figure></div>

<p>Robot Framework将其自己的变量存储在一个内部存储中，并允许将它们作为标量、列表或字典使用。将一个变量作为列表使用需要它的值是一个Python列表或类似列表的对象。Robot Framework不允许将字符串用作列表，但接受其他可迭代的对象，如元组或字典。</p>
<p>从Robot Framework 4.0开始，可以将列表扩展与列表项访问结合使用，使得以下用法成为可能：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Nested container</span><br><span class="line">    $&#123;nested&#125; =    Evaluate    [[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;], &#123;&#x27;key&#x27;: [&#x27;x&#x27;, &#x27;y&#x27;]&#125;]</span><br><span class="line">    Log Many    @&#123;nested&#125;[0]         # Logs &#x27;a&#x27;, &#x27;b&#x27; and &#x27;c&#x27;.</span><br><span class="line">    Log Many    @&#123;nested&#125;[1][key]    # Logs &#x27;x&#x27; and &#x27;y&#x27;.</span><br><span class="line"></span><br><span class="line">Slice</span><br><span class="line">    $&#123;items&#125; =    Create List    first    second    third</span><br><span class="line">    Log Many    @&#123;items&#125;[1:]         # Logs &#x27;second&#x27; and  &#x27;third&#x27;.</span><br></pre></td></tr></table></figure></div>

<h5 id="使用列表变量与其他数据"><a href="#使用列表变量与其他数据" class="headerlink" title="使用列表变量与其他数据"></a>使用列表变量与其他数据</h5><p>可以将列表变量与其他参数一起使用，包括其他列表变量。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Keyword    @&#123;LIST&#125;    more    args</span><br><span class="line">    Keyword    $&#123;SCALAR&#125;    @&#123;LIST&#125;    constant</span><br><span class="line">    Keyword    @&#123;LIST&#125;    @&#123;ANOTHER&#125;    @&#123;ONE MORE&#125;</span><br></pre></td></tr></table></figure></div>

<h5 id="使用列表变量与设置"><a href="#使用列表变量与设置" class="headerlink" title="使用列表变量与设置"></a>使用列表变量与设置</h5><p>列表变量只能与一些设置一起使用。它们可以用作导入的库和变量文件的参数，但库和变量文件的名称本身不能是列表变量。也可以在设置和拆解中使用列表变量作为关键字的参数，但不能用作关键字的名称。对于与标签相关的设置，它们可以自由地使用。在不支持列表变量的地方，可以使用标量变量。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Library         ExampleLibrary      @&#123;LIB ARGS&#125;    # This works</span><br><span class="line">Library         $&#123;LIBRARY&#125;          @&#123;LIB ARGS&#125;    # This works</span><br><span class="line">Library         @&#123;LIBRARY AND ARGS&#125;                # This does not work</span><br><span class="line">Suite Setup     Some Keyword        @&#123;KW ARGS&#125;     # This works</span><br><span class="line">Suite Setup     $&#123;KEYWORD&#125;          @&#123;KW ARGS&#125;     # This works</span><br><span class="line">Suite Setup     @&#123;KEYWORD AND ARGS&#125;                # This does not work</span><br><span class="line">Default Tags    @&#123;TAGS&#125;                            # This works</span><br></pre></td></tr></table></figure></div>

<h4 id="字典变量语法"><a href="#字典变量语法" class="headerlink" title="字典变量语法"></a>字典变量语法</h4><p>如上所述，包含列表的变量可以作为列表变量使用，将列表项作为单独的参数传递给关键字。类似地，包含Python字典或类似字典的对象的变量可以像<code>&amp;&#123;EXAMPLE&#125;</code>那样作为字典变量使用。实际上，这意味着字典被展开，单个项作为命名参数传递给关键字。假设一个变量<code>&amp;&#123;USER&#125;</code>的值是<code>&#123;&#39;name&#39;: &#39;robot&#39;, &#39;password&#39;: &#39;secret&#39;&#125;</code>，那么下面的两个测试用例是等价的。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Constants</span><br><span class="line">    Login    name=robot    password=secret</span><br><span class="line"></span><br><span class="line">Dict Variable</span><br><span class="line">    Login    &amp;&#123;USER&#125;</span><br></pre></td></tr></table></figure></div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>从Robot Framework 4.0开始，可以将字典扩展与字典项访问结合使用，使得像<code>&amp;{nested}[key]</code>这样的用法成为可能。</p>

    </div>
  </div>

<h5 id="使用字典变量与其他数据"><a href="#使用字典变量与其他数据" class="headerlink" title="使用字典变量与其他数据"></a>使用字典变量与其他数据</h5><p>可以将字典变量与其他参数一起使用，包括其他字典变量。因为命名参数语法要求位置参数在命名参数之前，所以字典只能跟在命名参数或其他字典后面。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Keyword    &amp;&#123;DICT&#125;    named=arg</span><br><span class="line">    Keyword    positional    @&#123;LIST&#125;    &amp;&#123;DICT&#125;</span><br><span class="line">    Keyword    &amp;&#123;DICT&#125;    &amp;&#123;ANOTHER&#125;    &amp;&#123;ONE MORE&#125;</span><br></pre></td></tr></table></figure></div>

<h5 id="使用字典变量与设置"><a href="#使用字典变量与设置" class="headerlink" title="使用字典变量与设置"></a>使用字典变量与设置</h5><p>字典变量通常不能与设置一起使用。唯一的例外是导入、设置和拆解，其中字典可以作为参数使用。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*** Settings ***</span><br><span class="line">Library        ExampleLibrary    &amp;&#123;LIB ARGS&#125;</span><br><span class="line">Suite Setup    Some Keyword      &amp;&#123;KW ARGS&#125;     named=arg</span><br></pre></td></tr></table></figure></div>

<h5 id="访问列表和字典项"><a href="#访问列表和字典项" class="headerlink" title="访问列表和字典项"></a>访问列表和字典项</h5><p>可以使用特殊语法<code>$&#123;var&#125;[item]</code>或<code>$&#123;var&#125;[nested][item]</code>访问可下标的变量（例如，列表和字典）的项。从Robot Framework 4.0开始，也可以通过使用语法<code>@&#123;var&#125;[item]</code>和<code>&amp;&#123;var&#125;[item]</code>将项访问与列表扩展和字典扩展一起使用。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>在Robot Framework 3.1之前，正常的项访问语法是列表的<code>@{var}[item]</code>和字典的<code>&amp;{var}[item]</code>。Robot Framework 3.1引入了通用的<code>${var}[item]</code>语法以及一些其他的好的增强，旧的项访问语法在Robot Framework 3.2中被弃用。</p>

    </div>
  </div>

<h5 id="访问序列项"><a href="#访问序列项" class="headerlink" title="访问序列项"></a>访问序列项</h5><p>可以使用语法<code>$&#123;var&#125;[index]</code>访问包含序列（例如，列表、字符串或字节）的变量的某个项，其中<code>index</code>是所选值的索引。索引从零开始，可以使用负索引从末尾访问项，尝试访问索引过大的项会导致错误。索引会自动转换为整数，也可以使用变量作为索引。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Positive index</span><br><span class="line">    Login    $&#123;USER&#125;[0]    $&#123;USER&#125;[1]</span><br><span class="line">    Title Should Be    Welcome $&#123;USER&#125;[0]!</span><br><span class="line"></span><br><span class="line">Negative index</span><br><span class="line">    Keyword    $&#123;SEQUENCE&#125;[-1]</span><br><span class="line"></span><br><span class="line">Index defined as variable</span><br><span class="line">    Keyword    $&#123;SEQUENCE&#125;[$&#123;INDEX&#125;]</span><br></pre></td></tr></table></figure></div>

<p>序列项访问也支持Python的相同的”切片”功能，语法如<code>$&#123;var&#125;[1:]</code>。使用这种语法，你不会得到一个单独的项，而是得到原始序列的一个切片。与Python一样，你可以指定开始索引、结束索引和步长：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Start index</span><br><span class="line">    Keyword    $&#123;SEQUENCE&#125;[1:]</span><br><span class="line"></span><br><span class="line">End index</span><br><span class="line">    Keyword    $&#123;SEQUENCE&#125;[:4]</span><br><span class="line"></span><br><span class="line">Start and end</span><br><span class="line">    Keyword    $&#123;SEQUENCE&#125;[2:-1]</span><br><span class="line"></span><br><span class="line">Step</span><br><span class="line">    Keyword    $&#123;SEQUENCE&#125;[::2]</span><br><span class="line">    Keyword    $&#123;SEQUENCE&#125;[1:-1:10]</span><br></pre></td></tr></table></figure></div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>切片语法在Robot Framework 3.1中是新的。它在Robot Framework 4.0中被扩展，可以与列表扩展像<code>@{var}[1:]</code>这样一起工作。</p>

    </div>
  </div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>在Robot Framework 3.2之前，只有包含列表、元组或其他被认为是类似列表的对象的变量支持项和切片访问。现在，所有的序列，包括字符串和字节，都被支持。</p>

    </div>
  </div>

<h5 id="访问单个字典项"><a href="#访问单个字典项" class="headerlink" title="访问单个字典项"></a>访问单个字典项</h5><p>可以使用语法<code>$&#123;NAME&#125;[key]</code>访问字典变量的某个值，其中<code>key</code>是所选值的名称。键被认为是字符串，但非字符串键可以作为变量使用。以这种方式访问的字典值可以像标量变量一样使用。</p>
<p>如果一个键是一个字符串，也可以使用属性访问语法<code>$&#123;NAME.key&#125;</code>访问它的值。有关此语法的更多详细信息，请参阅创建字典变量。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Dictionary variable item</span><br><span class="line">    Login    $&#123;USER&#125;[name]    $&#123;USER&#125;[password]</span><br><span class="line">    Title Should Be    Welcome $&#123;USER&#125;[name]!</span><br><span class="line"></span><br><span class="line">Key defined as variable</span><br><span class="line">    Log Many    $&#123;DICT&#125;[$&#123;KEY&#125;]    $&#123;DICT&#125;[$&#123;42&#125;]</span><br><span class="line"></span><br><span class="line">Attribute access</span><br><span class="line">    Login    $&#123;USER.name&#125;    $&#123;USER.password&#125;</span><br><span class="line">    Title Should Be    Welcome $&#123;USER.name&#125;!</span><br></pre></td></tr></table></figure></div>

<h5 id="嵌套项访问"><a href="#嵌套项访问" class="headerlink" title="嵌套项访问"></a>嵌套项访问</h5><p>也可以使用相同的项访问语法<code>$&#123;var&#125;[item1][item2]</code>访问嵌套的可下标变量。这在处理经常由REST服务返回的JSON数据时特别有用。例如，如果一个变量<code>$&#123;DATA&#125;</code>包含<code>[&#123;&#39;id&#39;: 1, &#39;name&#39;: &#39;Robot&#39;&#125;, &#123;&#39;id&#39;: 2, &#39;name&#39;: &#39;Mr. X&#39;&#125;]</code>，这个测试将通过：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Nested item access</span><br><span class="line">    Should Be Equal    $&#123;DATA&#125;[0][name]    Robot</span><br><span class="line">    Should Be Equal    $&#123;DATA&#125;[1][id]      $&#123;2&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="环境变量"><a href="#环境变量" class="headerlink" title="环境变量"></a>环境变量</h4><p>Robot Framework允许在测试数据中使用环境变量，语法为<code>%&#123;ENV_VAR_NAME&#125;</code>。它们限制为字符串值。可以通过将变量名和默认值用等号分隔，如<code>%&#123;ENV_VAR_NAME=default value&#125;</code>，来指定一个默认值，如果环境变量不存在，则使用该默认值。</p>
<p>在测试执行之前在操作系统中设置的环境变量在执行期间是可用的，可以使用<code>OperatingSystem</code>库中的关键字<code>Set Environment Variable</code>创建新的环境变量，或者使用关键字<code>Delete Environment Variable</code>删除现有的环境变量。因为环境变量是全局的，所以在一个测试用例中设置的环境变量可以在执行后的其他测试用例中使用。然而，对环境变量的更改在测试执行后不会生效。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Environment variables</span><br><span class="line">    Log    Current user: %&#123;USER&#125;</span><br><span class="line">    Run    %&#123;JAVA_HOME&#125;$&#123;/&#125;javac</span><br><span class="line"></span><br><span class="line">Environment variables with defaults</span><br><span class="line">    Set port    %&#123;APPLICATION_PORT=8080&#125;</span><br></pre></td></tr></table></figure></div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>在Robot Framework 3.2中，新增了指定默认值的支持。</p>

    </div>
  </div>

<h4 id="创建变量"><a href="#创建变量" class="headerlink" title="创建变量"></a>创建变量</h4><p>变量可以从不同的来源产生。</p>
<h5 id="变量部分"><a href="#变量部分" class="headerlink" title="变量部分"></a>变量部分</h5><p>变量最常见的来源是套件文件和资源文件中的变量部分。变量部分很方便，因为它们允许在与其他测试数据相同的地方创建变量，而且所需的语法非常简单。它们的主要缺点是值总是字符串，而且不能动态创建。如果这两者中的任何一个是问题，可以使用变量文件代替。</p>
<h5 id="创建标量变量"><a href="#创建标量变量" class="headerlink" title="创建标量变量"></a>创建标量变量</h5><p>最简单的变量赋值就是将一个字符串设置为一个标量变量。这是通过在变量部分的第一列给出变量名（包括<code>$&#123;&#125;</code>），在第二列给出值来完成的。如果第二列为空，则设置一个空字符串作为值。也可以在值中使用已定义的变量。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">$&#123;NAME&#125;         Robot Framework</span><br><span class="line">$&#123;VERSION&#125;      2.0</span><br><span class="line">$&#123;ROBOT&#125;        $&#123;NAME&#125; $&#123;VERSION&#125;</span><br></pre></td></tr></table></figure></div>

<p>也可以（但不是必须）在变量名后面使用等号<code>=</code>，使变量赋值稍微明确一些。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">$&#123;NAME&#125; =       Robot Framework</span><br><span class="line">$&#123;VERSION&#125; =    2.0</span><br></pre></td></tr></table></figure></div>

<p>如果一个标量变量有一个长值，可以使用<code>...</code>语法将它分割成多行。默认情况下，行是用一个空格连接在一起的，但是可以通过在最后一个值后面使用一个分隔符配置选项来改变这一点：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">$&#123;EXAMPLE&#125;      This value is joined</span><br><span class="line">...             together with a space.</span><br><span class="line">$&#123;MULTILINE&#125;    First line.</span><br><span class="line">...             Second line.</span><br><span class="line">...             Third line.</span><br><span class="line">...             separator=\n</span><br></pre></td></tr></table></figure></div>

<p>分隔符选项在Robot Framework 7.0中是新的，但也支持旧版本的分隔符配置。在它们中，第一个值可以包含一个特殊的<code>SEPARATOR</code>标记：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">$&#123;MULTILINE&#125;    SEPARATOR=\n</span><br><span class="line">...             First line.</span><br><span class="line">...             Second line.</span><br><span class="line">...             Third line.</span><br></pre></td></tr></table></figure></div>

<p>分隔符选项和<code>SEPARATOR</code>标记都是区分大小写的。建议使用分隔符选项，除非需要支持旧版本。</p>
<h5 id="创建列表变量"><a href="#创建列表变量" class="headerlink" title="创建列表变量"></a>创建列表变量</h5><p>创建列表变量和创建标量变量一样容易。同样，变量名在变量部分的第一列，值在后续的列中。一个列表变量可以有任意数量的值，从零开始，如果需要多个值，它们可以分割成几行。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">@&#123;NAMES&#125;        Matti       Teppo</span><br><span class="line">@&#123;NAMES2&#125;       @&#123;NAMES&#125;    Seppo</span><br><span class="line">@&#123;NOTHING&#125;</span><br><span class="line">@&#123;MANY&#125;         one         two      three      four</span><br><span class="line">...             five        six      seven</span><br></pre></td></tr></table></figure></div>

<h5 id="创建字典变量"><a href="#创建字典变量" class="headerlink" title="创建字典变量"></a>创建字典变量</h5><p>在变量部分创建字典变量与创建列表变量类似。区别在于，项需要使用<code>name=value</code>语法或现有的字典变量创建。如果有多个具有相同名称的项，最后一个值具有优先权。如果名称包含一个字面等号，可以使用反斜杠<code>\=</code>进行转义。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">&amp;&#123;USER 1&#125;       name=Matti    address=xxx         phone=123</span><br><span class="line">&amp;&#123;USER 2&#125;       name=Teppo    address=yyy         phone=456</span><br><span class="line">&amp;&#123;MANY&#125;         first=1       second=$&#123;2&#125;         $&#123;3&#125;=third</span><br><span class="line">&amp;&#123;EVEN MORE&#125;    &amp;&#123;MANY&#125;       first=override      empty=</span><br><span class="line">...             =empty        key\=here=value</span><br></pre></td></tr></table></figure></div>

<p>字典变量与普通Python字典相比有两个额外的属性。首先，这些字典的值可以像属性一样访问，这意味着可以使用扩展变量语法，如<code>$&#123;VAR.key&#125;</code>。这只有在键是一个有效的属性名称，并且不匹配Python字典有的任何正常属性时才有效。例如，单个值<code>&amp;&#123;USER&#125;[name]</code>也可以像<code>$&#123;USER.name&#125;</code>（注意在这种情况下需要<code>$</code>）那样访问，但是使用<code>$&#123;MANY.3&#125;</code>是不可能的。</p>

  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-info"></i><p>信息</p>

    </div>
    <div class="notel-content">
      <p>对于嵌套的字典变量，键可以像<code>${VAR.nested.key}</code>那样访问。这简化了处理嵌套数据结构的工作。</p>

    </div>
  </div>

<p>字典变量的另一个特殊属性是它们是有序的。这意味着，如果遍历这些字典，它们的项总是按照它们定义的顺序出现。如果字典被用作列表变量与FOR循环或其他方式一起使用，这可能很有用。当一个字典被用作一个列表变量时，实际的值包含字典键。例如，<code>@&#123;MANY&#125;</code>变量将具有值<code>[&#39;first&#39;, &#39;second&#39;, 3]</code>。</p>
<h5 id="基于另一个变量创建变量名"><a href="#基于另一个变量创建变量名" class="headerlink" title="基于另一个变量创建变量名"></a>基于另一个变量创建变量名</h5><p>从Robot Framework 7.0开始，可以根据另一个变量动态创建变量名：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">$&#123;X&#125;        Y</span><br><span class="line">$&#123;$&#123;X&#125;&#125;     Z    # Name is created based on &#x27;$&#123;X&#125;&#x27;.</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Dynamically created name</span><br><span class="line">    Should Be Equal    $&#123;Y&#125;    Z</span><br></pre></td></tr></table></figure></div>

<h4 id="变量文件"><a href="#变量文件" class="headerlink" title="变量文件"></a>变量文件</h4><p>变量文件是创建不同类型变量的最强大的机制。使用它们，可以将变量赋值给任何对象，并且它们还支持动态创建变量。变量文件的语法和如何使用变量文件在资源和变量文件部分有解释。</p>
<h5 id="在命令行中设置变量"><a href="#在命令行中设置变量" class="headerlink" title="在命令行中设置变量"></a>在命令行中设置变量</h5><p>可以在命令行中单独使用<code>--variable</code>（-v）选项或使用变量文件与<code>--variablefile</code>（-V）选项来设置变量。从命令行设置的变量对所有执行的测试数据文件全局可用，并且它们还会覆盖变量部分和测试数据中导入的变量文件中具有相同名称的可能变量。</p>
<p>设置单个变量的语法是<code>--variable name:value</code>，其中<code>name</code>是变量的名称（不包括<code>$&#123;&#125;</code>），<code>value</code>是它的值。可以通过多次使用此选项来设置多个变量。只有标量变量可以使用此语法设置，它们只能获取字符串值。</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--variable EXAMPLE:value</span><br><span class="line">--variable HOST:localhost:7272 --variable USER:robot</span><br></pre></td></tr></table></figure></div>

<p>在上面的例子中，设置了变量，使得</p>
<ul>
<li><code>$&#123;EXAMPLE&#125;</code>得到值<code>value</code></li>
<li><code>$&#123;HOST&#125;</code>和<code>$&#123;USER&#125;</code>得到值<code>localhost:7272</code>和<code>robot</code></li>
</ul>
<p>从命令行使用变量文件的基本语法是<code>--variablefile path/to/variables.py</code>，在使用变量文件部分有更多的细节。实际创建的变量取决于引用的变量文件中有哪些变量。</p>
<p>如果从命令行给出了变量文件和单个变量，那么后者具有更高的优先级。</p>
<h4 id="关键字的返回值"><a href="#关键字的返回值" class="headerlink" title="关键字的返回值"></a>关键字的返回值</h4><p>关键字的返回值也可以设置为变量。这允许在不同的测试库中的不同关键字之间进行通信。</p>
<p>以这种方式设置的变量与其他任何变量在其他方面是相似的，但它们只在创建它们的局部范围内可用。因此，例如，不可能在一个测试用例中设置一个变量，然后在另一个测试用例中使用它。这是因为，一般来说，自动化测试用例不应该相互依赖，而且意外地设置一个在其他地方使用的变量可能会导致难以调试的错误。如果真正需要在一个测试用例中设置一个变量，并在另一个测试用例中使用它，可以使用<code>BuiltIn</code>关键字，如下一节所解释的。</p>
<h5 id="分配标量变量"><a href="#分配标量变量" class="headerlink" title="分配标量变量"></a>分配标量变量</h5><p>任何由关键字返回的值都可以分配给一个标量变量。如下例所示，所需的语法非常简单：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Returning</span><br><span class="line">    $&#123;x&#125; =    Get X    an argument</span><br><span class="line">    Log    We got $&#123;x&#125;!</span><br></pre></td></tr></table></figure></div>

<p>在上述例子中，<code>Get X</code>关键字返回的值首先被设置到变量<code>$&#123;x&#125;</code>中，然后被<code>Log</code>关键字使用。在变量名后面有等号<code>=</code>不是必须的，但它使赋值更明确。像这样在测试用例和用户关键字级别创建局部变量都可以工作。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>虽然一个值被赋值给一个标量变量，但如果它有一个类似列表的值，它可以作为一个列表变量使用，如果它有一个类似字典的值，它可以作为一个字典变量使用。</p>

    </div>
  </div>

<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    $&#123;list&#125; =    Create List    first    second    third</span><br><span class="line">    Length Should Be    $&#123;list&#125;    3</span><br><span class="line">    Log Many    @&#123;list&#125;</span><br></pre></td></tr></table></figure></div>

<h5 id="分配带有项值的变量"><a href="#分配带有项值的变量" class="headerlink" title="分配带有项值的变量"></a>分配带有项值的变量</h5><p>从Robot Framework 6.1开始，当使用支持项赋值的变量，如列表或字典，可以通过使用语法<code>$&#123;var&#125;[item]</code>指定项的索引或键来设置它们的值，其中<code>item</code>部分本身可以包含一个变量：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Item assignment to list</span><br><span class="line">    $&#123;list&#125; =          Create List      one    two    three    four</span><br><span class="line">    $&#123;list&#125;[0] =       Set Variable     first</span><br><span class="line">    $&#123;list&#125;[$&#123;1&#125;] =    Set Variable     second</span><br><span class="line">    $&#123;list&#125;[2:3] =     Evaluate         [&#x27;third&#x27;]</span><br><span class="line">    $&#123;list&#125;[-1] =      Set Variable     last</span><br><span class="line">    Log Many           @&#123;list&#125;          # Logs &#x27;first&#x27;, &#x27;second&#x27;, &#x27;third&#x27; and &#x27;last&#x27;</span><br><span class="line"></span><br><span class="line">Item assignment to dictionary</span><br><span class="line">    $&#123;dict&#125; =                Create Dictionary    first_name=unknown</span><br><span class="line">    $&#123;dict&#125;[first_name] =    Set Variable         John</span><br><span class="line">    $&#123;dict&#125;[last_name] =     Set Variable         Doe</span><br><span class="line">    Log                      $&#123;dictionary&#125;        # Logs &#123;&#x27;first_name&#x27;: &#x27;John&#x27;, &#x27;last_name&#x27;: &#x27;Doe&#x27;&#125;</span><br></pre></td></tr></table></figure></div>

<h5 id="基于另一个变量创建变量名-1"><a href="#基于另一个变量创建变量名-1" class="headerlink" title="基于另一个变量创建变量名"></a>基于另一个变量创建变量名</h5><p>从Robot Framework 7.0开始，可以根据另一个变量动态创建被赋值变量的名称：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Dynamically created name</span><br><span class="line">    $&#123;x&#125; =    Set Variable    y</span><br><span class="line">    $&#123;$&#123;x&#125;&#125; =    Set Variable    z    # Name is created based on &#x27;$&#123;x&#125;&#x27;.</span><br><span class="line">    Should Be Equal    $&#123;y&#125;    z</span><br></pre></td></tr></table></figure></div>

<h5 id="分配列表变量"><a href="#分配列表变量" class="headerlink" title="分配列表变量"></a>分配列表变量</h5><p>如果一个关键字返回一个列表或任何类似列表的对象，可以将其分配给一个列表变量：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    @&#123;list&#125; =    Create List    first    second    third</span><br><span class="line">    Length Should Be    $&#123;list&#125;    3</span><br><span class="line">    Log Many    @&#123;list&#125;</span><br></pre></td></tr></table></figure></div>

<p>因为所有的Robot Framework变量都存储在同一个命名空间中，所以将一个值分配给一个标量变量或一个列表变量之间没有太大的区别。这可以通过比较上面的最后两个例子来看出。主要的区别是，当创建一个列表变量时，Robot Framework会自动验证该值是否是一个列表或类似列表，存储的变量值将是从返回值创建的一个新列表。当分配给一个标量变量时，返回值不会被验证，存储的值将是返回的完全相同的对象。</p>
<h5 id="分配字典变量"><a href="#分配字典变量" class="headerlink" title="分配字典变量"></a>分配字典变量</h5><p>如果一个关键字返回一个字典或任何类似字典的对象，可以将其分配给一个字典变量：</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    &amp;&#123;dict&#125; =    Create Dictionary    first=1    second=$&#123;2&#125;    $&#123;3&#125;=third</span><br><span class="line">    Length Should Be    $&#123;dict&#125;    3</span><br><span class="line">    Do Something    &amp;&#123;dict&#125;</span><br><span class="line">    Log    $&#123;dict.first&#125;</span><br></pre></td></tr></table></figure></div>

<p>因为所有的Robot Framework变量都存储在同一个命名空间中，也可以将一个字典分配给一个标量变量，然后在需要的时候将其作为一个字典使用。然而，显式创建一个字典变量有一些实际的好处。首先，Robot Framework验证返回的值是否是一个字典或类似字典，就像它验证列表变量只能得到一个类似列表的值一样。</p>
<p>一个更大的好处是，该值被转换为一个特殊的字典，它也在创建变量部分中创建字典变量时使用。这些字典中的值可以使用属性访问，如上例中的<code>$&#123;dict.first&#125;</code>。这些字典也是有序的，但如果原始字典不是有序的，结果的顺序是任意的。</p>
<h5 id="分配多个变量"><a href="#分配多个变量" class="headerlink" title="分配多个变量"></a>分配多个变量</h5><p>如果一个关键字返回一个列表或一个类似列表的对象，可以将单个值分配给多个标量变量或标量变量和一个列表变量。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Assign multiple</span><br><span class="line">    $&#123;a&#125;    $&#123;b&#125;    $&#123;c&#125; =    Get Three</span><br><span class="line">    $&#123;first&#125;    @&#123;rest&#125; =    Get Three</span><br><span class="line">    @&#123;before&#125;    $&#123;last&#125; =    Get Three</span><br><span class="line">    $&#123;begin&#125;    @&#123;middle&#125;    $&#123;end&#125; =    Get Three</span><br></pre></td></tr></table></figure></div>

<p>假设关键字<code>Get Three</code>返回一个列表<code>[1, 2, 3]</code>，则创建以下变量：</p>
<ul>
<li><code>$&#123;a&#125;</code>、<code>$&#123;b&#125;</code>和<code>$&#123;c&#125;</code>的值分别为1、2和3。</li>
<li><code>$&#123;first&#125;</code>的值为1，<code>@&#123;rest&#125;</code>的值为<code>[2, 3]</code>。</li>
<li><code>@&#123;before&#125;</code>的值为<code>[1, 2]</code>，<code>$&#123;last&#125;</code>的值为3。</li>
<li><code>$&#123;begin&#125;</code>的值为1，<code>@&#123;middle&#125;</code>的值为<code>[2]</code>，<code>$&#123;end&#125;</code>的值为3。</li>
</ul>
<p>如果返回的列表的值多于或少于要分配的标量变量的数量，那么这是一个错误。此外，只允许一个列表变量，字典变量只能单独分配。</p>
<h5 id="自动记录分配的变量值"><a href="#自动记录分配的变量值" class="headerlink" title="自动记录分配的变量值"></a>自动记录分配的变量值</h5><p>为了更容易理解执行过程中发生了什么，分配的值的开始部分会被自动记录。默认情况下，显示前200个字符，但可以通过在运行测试时使用<code>--maxassignlength</code>命令行选项来改变这个值。如果值为零或负数，整个分配的值将被隐藏。</p>
<div class="highlight-container" data-rel="Shell"><figure class="iseeu highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--maxassignlength 1000</span><br><span class="line">--maxassignlength 0</span><br></pre></td></tr></table></figure></div>

<p>不完全记录值的原因是，它可能非常大。如果你总是想完全看到某个值，可以使用<code>BuiltIn Log</code>关键字在分配后记录它。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p><code>--maxassignlength</code>选项在Robot Framework 5.0中是新的。</p>

    </div>
  </div>

<h5 id="VAR语法"><a href="#VAR语法" class="headerlink" title="VAR语法"></a>VAR语法</h5><p>从Robot Framework 7.0开始，可以使用VAR语法在测试和用户关键字内部创建变量。VAR标记是区分大小写的，必须跟着一个变量名和值。除了必须的VAR，整体语法大多与在变量部分创建变量时的语法相同。</p>
<p>新的语法旨在使创建变量更简单、更统一。它特别用于替代<code>BuiltIn</code>关键字<code>Set Variable</code>、<code>Set Test Variable</code>、<code>Set Suite Variable</code>和<code>Set Global Variable</code>，但也可以用来替代<code>Catenate</code>、<code>Create List</code>和<code>Create Dictionary</code>。</p>
<h5 id="创建标量变量-1"><a href="#创建标量变量-1" class="headerlink" title="创建标量变量"></a>创建标量变量</h5><p>在简单的情况下，通过给出一个变量名和它的值来创建标量变量。值可以是一个硬编码的字符串，也可以包含一个变量。如果值很长，可以将其分割成多个列和行。在这种情况下，默认情况下，部分会用一个空格连接在一起，但可以使用分隔符配置选项来指定要使用的分隔符。在创建基于关键字的返回值的变量和在变量部分中的变量时，变量名后面可以有一个可选的<code>=</code>。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Scalar examples</span><br><span class="line">     VAR    $&#123;simple&#125;       variable</span><br><span class="line">     VAR    $&#123;equals&#125; =     this works too</span><br><span class="line">     VAR    $&#123;variable&#125;     value contains $&#123;simple&#125;</span><br><span class="line">     VAR    $&#123;sentence&#125;     This is a bit longer variable value</span><br><span class="line">     ...                    that is split into multiple rows.</span><br><span class="line">     ...                    These parts are joined with a space.</span><br><span class="line">     VAR    $&#123;multiline&#125;    This is another longer value.</span><br><span class="line">     ...                    This time there is a custom separator.</span><br><span class="line">     ...                    As the result this becomes a multiline string.</span><br><span class="line">     ...                    separator=\n</span><br></pre></td></tr></table></figure></div>

<h5 id="创建列表和字典变量"><a href="#创建列表和字典变量" class="headerlink" title="创建列表和字典变量"></a>创建列表和字典变量</h5><p>列表和字典变量的创建与标量变量类似。创建字典时，必须使用<code>name=value</code>语法指定项。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">List examples</span><br><span class="line">     VAR    @&#123;two items&#125;     Robot    Framework</span><br><span class="line">     VAR    @&#123;empty list&#125;</span><br><span class="line">     VAR    @&#123;lot of stuff&#125;</span><br><span class="line">     ...    first item</span><br><span class="line">     ...    second item</span><br><span class="line">     ...    third item</span><br><span class="line">     ...    fourth item</span><br><span class="line">     ...    last item</span><br><span class="line"></span><br><span class="line">Dictionary examples</span><br><span class="line">     VAR    &amp;&#123;two items&#125;     name=Robot Framework    url=http://robotframework.org</span><br><span class="line">     VAR    &amp;&#123;empty dict&#125;</span><br><span class="line">     VAR    &amp;&#123;lot of stuff&#125;</span><br><span class="line">     ...    first=1</span><br><span class="line">     ...    second=2</span><br><span class="line">     ...    third=3</span><br><span class="line">     ...    fourth=4</span><br><span class="line">     ...    last=5        </span><br></pre></td></tr></table></figure></div>

<h5 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h5><p>使用VAR语法创建的变量只在创建它们的测试或用户关键字内部可用。然而，可以通过使用作用域配置选项来改变这一点。支持的值有LOCAL（默认）、TEST（在当前测试中可用）、TASK（TEST的别名）、SUITE（在当前套件中可用）和GLOBAL（全局可用）。尽管Robot Framework变量是不区分大小写的，但建议使用大写字母表示非局部变量名。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">$&#123;SUITE&#125;         this value is overridden</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Scope example</span><br><span class="line">    VAR    $&#123;local&#125;     local value</span><br><span class="line">    VAR    $&#123;TEST&#125;      test value      scope=TEST</span><br><span class="line">    VAR    $&#123;SUITE&#125;     suite value     scope=SUITE</span><br><span class="line">    VAR    $&#123;GLOBAL&#125;    global value    scope=GLOBAL</span><br><span class="line">    Should Be Equal    $&#123;local&#125;     local value</span><br><span class="line">    Should Be Equal    $&#123;TEST&#125;      test value</span><br><span class="line">    Should Be Equal    $&#123;SUITE&#125;     suite value</span><br><span class="line">    Should Be Equal    $&#123;GLOBAL&#125;    global value</span><br><span class="line">    Keyword</span><br><span class="line">    Should Be Equal    $&#123;TEST&#125;      new test value</span><br><span class="line">    Should Be Equal    $&#123;SUITE&#125;     new suite value</span><br><span class="line">    Should Be Equal    $&#123;GLOBAL&#125;    new global value</span><br><span class="line"></span><br><span class="line">Scope example, part 2</span><br><span class="line">    Should Be Equal    $&#123;SUITE&#125;     new suite value</span><br><span class="line">    Should Be Equal    $&#123;GLOBAL&#125;    new global value</span><br><span class="line"></span><br><span class="line">*** Keywords ***</span><br><span class="line">Keyword</span><br><span class="line">    Should Be Equal    $&#123;TEST&#125;      test value</span><br><span class="line">    Should Be Equal    $&#123;SUITE&#125;     suite value</span><br><span class="line">    Should Be Equal    $&#123;GLOBAL&#125;    global value</span><br><span class="line">    VAR    $&#123;TEST&#125;      new $&#123;TEST&#125;      scope=TEST</span><br><span class="line">    VAR    $&#123;SUITE&#125;     new $&#123;SUITE&#125;     scope=SUITE</span><br><span class="line">    VAR    $&#123;GLOBAL&#125;    new $&#123;GLOBAL&#125;    scope=GLOBAL</span><br><span class="line">    Should Be Equal    $&#123;TEST&#125;      new test value</span><br><span class="line">    Should Be Equal    $&#123;SUITE&#125;     new suite value</span><br><span class="line">    Should Be Equal    $&#123;GLOBAL&#125;    new global value</span><br></pre></td></tr></table></figure></div>

<h5 id="条件创建变量"><a href="#条件创建变量" class="headerlink" title="条件创建变量"></a>条件创建变量</h5><p>VAR语法可以与IF&#x2F;ELSE结构一起工作，这使得条件创建变量变得容易。在简单的情况下，使用内联IF可能很方便。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">IF/ELSE example</span><br><span class="line">    IF    &quot;$&#123;ENV&#125;&quot; == &quot;devel&quot;</span><br><span class="line">        VAR    $&#123;address&#125;    127.0.0.1</span><br><span class="line">        VAR    $&#123;name&#125;       demo</span><br><span class="line">    ELSE</span><br><span class="line">        VAR    $&#123;address&#125;    192.168.1.42</span><br><span class="line">        VAR    $&#123;name&#125;       robot</span><br><span class="line">    END</span><br><span class="line"></span><br><span class="line">Inline IF</span><br><span class="line">    IF    &quot;$&#123;ENV&#125;&quot; == &quot;devel&quot;    VAR    $&#123;name&#125;    demo    ELSE    VAR    $&#123;name&#125;    robot</span><br></pre></td></tr></table></figure></div>

<h5 id="基于另一个变量创建变量名-2"><a href="#基于另一个变量创建变量名-2" class="headerlink" title="基于另一个变量创建变量名"></a>基于另一个变量创建变量名</h5><p>如果有需要，也可以根据另一个变量动态创建变量名。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Dynamic name</span><br><span class="line">    VAR    $&#123;x&#125;       y    # Normal assignment.</span><br><span class="line">    VAR    $&#123;$&#123;x&#125;&#125;    z    # Name created dynamically.</span><br><span class="line">    Should Be Equal    $&#123;y&#125;    z</span><br></pre></td></tr></table></figure></div>

<h4 id="使用Set-Test-Suite-Global-Variable关键字"><a href="#使用Set-Test-Suite-Global-Variable关键字" class="headerlink" title="使用Set Test&#x2F;Suite&#x2F;Global Variable关键字"></a>使用Set Test&#x2F;Suite&#x2F;Global Variable关键字</h4>
  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>在使用Robot Framework 7.0或更高版本时，推荐使用VAR语法而不是这些关键字。</p>

    </div>
  </div>

<p><code>BuiltIn</code>库有<code>Set Test Variable</code>、<code>Set Suite Variable</code>和<code>Set Global Variable</code>关键字，可以用于在测试执行期间动态设置变量。如果一个变量已经存在于新的作用域中，其值将被覆盖，否则将创建一个新的变量。</p>
<p>使用<code>Set Test Variable</code>关键字设置的变量在当前执行的测试用例的作用域内处处可用。例如，如果你在一个用户关键字中设置了一个变量，它既可以在测试用例级别使用，也可以在当前测试中使用的所有其他用户关键字中使用。其他的测试用例将不会看到用这个关键字设置的变量。在测试的作用域之外调用<code>Set Test Variable</code>（例如，在套件设置或拆卸中）是一个错误。</p>
<p>使用<code>Set Suite Variable</code>关键字设置的变量在当前执行的测试套件的作用域内处处可用。因此，使用这个关键字设置变量具有与在测试数据文件中使用变量部分创建它们或从变量文件中导入它们相同的效果。其他的测试套件，包括可能的子测试套件，将不会看到用这个关键字设置的变量。</p>
<p>使用<code>Set Global Variable</code>关键字设置的变量在设置它们后执行的所有测试用例和套件中全局可用。因此，使用这个关键字设置变量具有与使用<code>--variable</code>或<code>--variablefile</code>选项从命令行创建它们相同的效果。因为这个关键字可以在任何地方改变变量，所以应该小心使用。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p><code>Set Test/Suite/Global Variable</code>关键字直接将命名变量设置到测试、套件或全局变量作用域，并且不返回任何东西。另一方面，另一个<code>BuiltIn</code>关键字<code>Set Variable</code>使用返回值设置局部变量。</p>

    </div>
  </div>

<h3 id="内置变量"><a href="#内置变量" class="headerlink" title="内置变量"></a>内置变量</h3><p>Robot Framework自动提供了一些内置变量。</p>
<h4 id="操作系统变量"><a href="#操作系统变量" class="headerlink" title="操作系统变量"></a>操作系统变量</h4><p>与操作系统相关的内置变量使得测试数据对操作系统无关。</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>$&#123;CURDIR&#125;</code></td>
<td>测试数据文件所在目录的绝对路径。此变量区分大小写。</td>
</tr>
<tr>
<td><code>$&#123;TEMPDIR&#125;</code></td>
<td>系统临时目录的绝对路径。在类 UNIX 系统中通常是 <code>/tmp</code>，在 Windows 中是 <code>c:\Documents and Settings\&lt;user&gt;\Local Settings\Temp</code>。</td>
</tr>
<tr>
<td><code>$&#123;EXECDIR&#125;</code></td>
<td>测试执行开始的目录的绝对路径。</td>
</tr>
<tr>
<td><code>$&#123;/&#125;</code></td>
<td>系统目录路径分隔符。在类 UNIX 系统中是 <code>/</code>，在 Windows 中是 <code>\</code>。</td>
</tr>
<tr>
<td><code>$&#123;:&#125;</code></td>
<td>系统路径元素分隔符。在类 UNIX 系统中是 <code>:</code>，在 Windows 中是 <code>;</code>。</td>
</tr>
<tr>
<td><code>$&#123;\n&#125;</code></td>
<td>系统行分隔符。在类 UNIX 系统中是 <code>\n</code>，在 Windows 中是 <code>\r\n</code>。</td>
</tr>
</tbody></table>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Create Binary File    $&#123;CURDIR&#125;$&#123;/&#125;input.data    Some text here$&#123;\n&#125;on two lines</span><br><span class="line">    Set Environment Variable    CLASSPATH    $&#123;TEMPDIR&#125;$&#123;:&#125;$&#123;CURDIR&#125;$&#123;/&#125;foo.jar</span><br></pre></td></tr></table></figure></div>

<h4 id="数字变量"><a href="#数字变量" class="headerlink" title="数字变量"></a>数字变量</h4><p>变量语法可以用于创建整数和浮点数，如下例所示。当一个关键字期望得到一个实际的数字，而不是一个看起来像数字的字符串作为参数时，这是有用的。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example 1A</span><br><span class="line">    Connect    example.com    80       # Connect gets two strings as arguments</span><br><span class="line"></span><br><span class="line">Example 1B</span><br><span class="line">    Connect    example.com    $&#123;80&#125;    # Connect gets a string and an integer</span><br><span class="line"></span><br><span class="line">Example 2</span><br><span class="line">    Do X    $&#123;3.14&#125;    $&#123;-1e-4&#125;        # Do X gets floating point numbers 3.14 and -0.0001</span><br></pre></td></tr></table></figure></div>

<p>也可以使用0b、0o和0x前缀分别从二进制、八进制和十六进制值创建整数。语法不区分大小写。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    Should Be Equal    $&#123;0b1011&#125;    $&#123;11&#125;</span><br><span class="line">    Should Be Equal    $&#123;0o10&#125;      $&#123;8&#125;</span><br><span class="line">    Should Be Equal    $&#123;0xff&#125;      $&#123;255&#125;</span><br><span class="line">    Should Be Equal    $&#123;0B1010&#125;    $&#123;0XA&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="布尔和None-null变量"><a href="#布尔和None-null变量" class="headerlink" title="布尔和None&#x2F;null变量"></a>布尔和None&#x2F;null变量</h4><p>也可以使用变量语法创建布尔值和Python的None，就像创建数字一样。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Boolean</span><br><span class="line">    Set Status    $&#123;true&#125;               # Set Status gets Boolean true as an argument</span><br><span class="line">    Create Y    something   $&#123;false&#125;    # Create Y gets a string and Boolean false</span><br><span class="line"></span><br><span class="line">None</span><br><span class="line">    Do XYZ    $&#123;None&#125;                   # Do XYZ gets Python None as an argument</span><br></pre></td></tr></table></figure></div>

<p>这些变量是不区分大小写的，所以例如<code>$&#123;True&#125;</code>和<code>$&#123;true&#125;</code>是等价的。</p>
<h4 id="空格和空变量"><a href="#空格和空变量" class="headerlink" title="空格和空变量"></a>空格和空变量</h4><p>可以使用变量<code>$&#123;SPACE&#125;</code>和<code>$&#123;EMPTY&#125;</code>分别创建空格和空字符串。这些变量在需要转义空格或空单元格时很有用。如果需要多个空格，可以使用扩展变量语法，如<code>$&#123;SPACE * 5&#125;</code>。在下面的例子中，<code>Should Be Equal</code>关键字得到相同的参数，但使用变量的那些比使用反斜杠的更容易理解。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">One space</span><br><span class="line">    Should Be Equal    $&#123;SPACE&#125;          \ \</span><br><span class="line"></span><br><span class="line">Four spaces</span><br><span class="line">    Should Be Equal    $&#123;SPACE * 4&#125;      \ \ \ \ \</span><br><span class="line"></span><br><span class="line">Ten spaces</span><br><span class="line">    Should Be Equal    $&#123;SPACE * 10&#125;     \ \ \ \ \ \ \ \ \ \ \</span><br><span class="line"></span><br><span class="line">Quoted space</span><br><span class="line">    Should Be Equal    &quot;$&#123;SPACE&#125;&quot;        &quot; &quot;</span><br><span class="line"></span><br><span class="line">Quoted spaces</span><br><span class="line">    Should Be Equal    &quot;$&#123;SPACE * 2&#125;&quot;    &quot; \ &quot;</span><br><span class="line"></span><br><span class="line">Empty</span><br><span class="line">    Should Be Equal    $&#123;EMPTY&#125;          \</span><br></pre></td></tr></table></figure></div>

<p>还有一个空列表变量<code>@&#123;EMPTY&#125;</code>和一个空字典变量<code>&amp;&#123;EMPTY&#125;</code>。因为它们没有内容，所以当它们在测试数据中被使用时，基本上就消失了。它们在测试模板中很有用，例如当模板关键字没有参数时，或者在不同的作用域中覆盖列表或字典变量时。不能修改<code>@&#123;EMPTY&#125;</code>或<code>&amp;&#123;EMPTY&#125;</code>的值。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Template</span><br><span class="line">    [Template]    Some keyword</span><br><span class="line">    @&#123;EMPTY&#125;</span><br><span class="line"></span><br><span class="line">Override</span><br><span class="line">    Set Global Variable    @&#123;LIST&#125;    @&#123;EMPTY&#125;</span><br><span class="line">    Set Suite Variable     &amp;&#123;DICT&#125;    &amp;&#123;EMPTY&#125;</span><br></pre></td></tr></table></figure></div>


  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-info"></i><p>信息</p>

    </div>
    <div class="notel-content">
      <p><code>${SPACE}</code>表示ASCII空格（<code>\x20</code>），其他空格应使用转义序列指定，如<code>\xA0</code>（NO-BREAK SPACE）和<code>\u3000</code>（IDEOGRAPHIC SPACE）。</p>

    </div>
  </div>

<h4 id="自动变量"><a href="#自动变量" class="headerlink" title="自动变量"></a>自动变量</h4><p>在测试数据中也可以使用一些自动变量。这些变量在测试执行期间可以有不同的值，有些甚至不是一直可用。改变这些变量的值不会影响原始值，但是一些值可以使用<code>BuiltIn</code>库的关键字动态改变。</p>
<p>可用的自动变量如下：</p>
<table>
<thead>
<tr>
<th>变量</th>
<th>解释</th>
<th>可用性</th>
</tr>
</thead>
<tbody><tr>
<td>${TEST NAME}</td>
<td>当前测试用例的名称。</td>
<td>测试用例</td>
</tr>
<tr>
<td>@{TEST TAGS}</td>
<td>包含当前测试用例的标签，按字母顺序排列。可以使用<code>Set Tags</code>和<code>Remove Tags</code>关键字动态修改。</td>
<td>测试用例</td>
</tr>
<tr>
<td>${TEST DOCUMENTATION}</td>
<td>当前测试用例的文档。可以使用<code>Set Test Documentation</code>关键字动态设置。</td>
<td>测试用例</td>
</tr>
<tr>
<td>${TEST STATUS}</td>
<td>当前测试用例的状态，<code>PASS</code>或<code>FAIL</code>。</td>
<td>测试拆卸</td>
</tr>
<tr>
<td>${TEST MESSAGE}</td>
<td>当前测试用例的消息。</td>
<td>测试拆卸</td>
</tr>
<tr>
<td>${PREV TEST NAME}</td>
<td>上一个测试用例的名称，如果没有执行过测试，则为空字符串。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${PREV TEST STATUS}</td>
<td>上一个测试用例的状态：<code>PASS</code>、<code>FAIL</code>，或者当没有执行过测试时为空字符串。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${PREV TEST MESSAGE}</td>
<td>上一个测试用例可能的错误消息。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${SUITE NAME}</td>
<td>当前测试套件的全名。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${SUITE SOURCE}</td>
<td>套件文件或目录的绝对路径。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${SUITE DOCUMENTATION}</td>
<td>当前测试套件的文档。可以使用<code>Set Suite Documentation</code>关键字动态设置。</td>
<td>任何地方</td>
</tr>
<tr>
<td>&amp;{SUITE METADATA}</td>
<td>当前测试套件的自由元数据。可以使用<code>Set Suite Metadata</code>关键字设置。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${SUITE STATUS}</td>
<td>当前测试套件的状态，<code>PASS</code>或<code>FAIL</code>。</td>
<td>套件拆卸</td>
</tr>
<tr>
<td>${SUITE MESSAGE}</td>
<td>当前测试套件的完整消息，包括统计信息。</td>
<td>套件拆卸</td>
</tr>
<tr>
<td>${KEYWORD STATUS}</td>
<td>当前关键字的状态，<code>PASS</code>或<code>FAIL</code>。</td>
<td>用户关键字拆卸</td>
</tr>
<tr>
<td>${KEYWORD MESSAGE}</td>
<td>当前关键字可能的错误消息。</td>
<td>用户关键字拆卸</td>
</tr>
<tr>
<td>${LOG LEVEL}</td>
<td>当前日志级别。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${OUTPUT DIR}</td>
<td>输出目录的绝对路径，为字符串。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${OUTPUT FILE}</td>
<td>输出文件的绝对路径，为字符串，如果输出文件未创建，则为字符串<code>NONE</code>。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${LOG FILE}</td>
<td>日志文件的绝对路径，为字符串，如果日志文件未创建，则为字符串<code>NONE</code>。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${REPORT FILE}</td>
<td>报告文件的绝对路径，为字符串，如果报告文件未创建，则为字符串<code>NONE</code>。</td>
<td>任何地方</td>
</tr>
<tr>
<td>${DEBUG FILE}</td>
<td>调试文件的绝对路径，为字符串，如果调试文件未创建，则为字符串<code>NONE</code>。</td>
<td>任何地方</td>
</tr>
<tr>
<td>&amp;{OPTIONS}</td>
<td>一个暴露命令行选项的字典。字典的键匹配命令行选项，可以像{OPTIONS}[key]和OPTIONS[key]和{OPTIONS.key}这样访问。可用的选项有：{OPTIONS.exclude} (–exclude)、OPTIONS.exclude(−−exclude)、{OPTIONS.include} (–include)、{OPTIONS.skip} (–skip)、OPTIONS.skip(−−skip)、{OPTIONS.skip_on_failure} (–skiponfailure)。在RF 5.0中新增。以后可以暴露更多的选项。</td>
<td>任何地方</td>
</tr>
</tbody></table>
<p>套件相关的变量<code>$&#123;SUITE SOURCE&#125;</code>、<code>$&#123;SUITE NAME&#125;</code>、<code>$&#123;SUITE DOCUMENTATION&#125;</code>和<code>&amp;&#123;SUITE METADATA&#125;</code>以及与命令行选项相关的选项，如<code>$&#123;LOG FILE&#125;</code>和<code>&amp;&#123;OPTIONS&#125;</code>，在导入库和变量文件时就已经可用。然而，在导入时，这些自动变量中可能的变量还没有被解析。</p>
<h3 id="变量优先级和作用域"><a href="#变量优先级和作用域" class="headerlink" title="变量优先级和作用域"></a>变量优先级和作用域</h3><p>来自不同来源的变量有不同的优先级，并且在不同的作用域中可用。</p>
<h4 id="变量优先级"><a href="#变量优先级" class="headerlink" title="变量优先级"></a>变量优先级</h4><h5 id="命令行中的变量"><a href="#命令行中的变量" class="headerlink" title="命令行中的变量"></a>命令行中的变量</h5><p>在实际的测试执行开始之前，可以设置的所有变量中，命令行中设置的变量具有最高的优先级。它们会覆盖在测试用例文件的变量部分创建的可能的变量，以及在测试数据中导入的资源和变量文件中的变量。</p>
<p>单独设置的变量（<code>--variable</code>选项）会覆盖使用变量文件设置的变量（<code>--variablefile</code>选项）。如果你多次指定同一个单独的变量，最后指定的那个将覆盖前面的。这允许在启动脚本中为变量设置默认值，并从命令行中覆盖它们。注意，如果多个变量文件有相同的变量，那么在首先指定的文件中的变量具有最高的优先级。</p>
<h5 id="测试用例文件中的变量部分"><a href="#测试用例文件中的变量部分" class="headerlink" title="测试用例文件中的变量部分"></a>测试用例文件中的变量部分</h5><p>在测试用例文件的变量部分创建的变量对该文件中的所有测试用例都可用。这些变量会覆盖在导入的资源和变量文件中具有相同名称的可能的变量。</p>
<p>在变量部分创建的变量在创建它们的文件中的所有其他部分都可用。这意味着它们也可以在设置部分中使用，例如，用于从资源和变量文件中导入更多的变量。</p>
<h5 id="导入的资源和变量文件"><a href="#导入的资源和变量文件" class="headerlink" title="导入的资源和变量文件"></a>导入的资源和变量文件</h5><p>从资源和变量文件导入的变量在测试数据中创建的所有变量中具有最低的优先级。资源文件和变量文件中的变量具有相同的优先级。如果几个资源和&#x2F;或变量文件有相同的变量，那么首先导入的文件中的变量将被使用。</p>
<p>如果一个资源文件导入资源文件或变量文件，那么它自己的变量部分中的变量具有比它导入的变量更高的优先级。所有这些变量都可用于导入此资源文件的文件。</p>
<p>注意，从资源和变量文件导入的变量在导入它们的文件的变量部分中不可用。这是因为在处理设置部分（其中导入资源文件和变量文件）之前，已经处理了变量部分。</p>
<h5 id="在测试执行期间设置的变量"><a href="#在测试执行期间设置的变量" class="headerlink" title="在测试执行期间设置的变量"></a>在测试执行期间设置的变量</h5><p>在测试执行期间设置的变量，无论是使用关键字的返回值还是使用<code>Set Test/Suite/Global Variable</code>关键字，总是覆盖在它们被设置的作用域中可能存在的变量。从某种意义上说，它们因此具有最高的优先级，但另一方面，它们不影响它们定义的作用域之外的变量。</p>
<h5 id="内置变量-1"><a href="#内置变量-1" class="headerlink" title="内置变量"></a>内置变量</h5><p>像<code>$&#123;TEMPDIR&#125;</code>和<code>$&#123;TEST_NAME&#125;</code>这样的内置变量具有所有变量中最高的优先级。它们不能使用变量部分或从命令行覆盖，但即使它们也可以在测试执行期间重置。这个规则的一个例外是数字变量，如果没有找到其他变量，它们会动态地被解析。因此，它们可以被覆盖，但这通常是一个坏主意。此外，<code>$&#123;CURDIR&#125;</code>是特殊的，因为它在测试数据处理时间就已经被替换了。</p>
<h4 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h4><p>根据它们的创建位置和方式，变量可以具有全局、测试套件、测试用例或局部作用域。</p>
<h5 id="全局作用域"><a href="#全局作用域" class="headerlink" title="全局作用域"></a>全局作用域</h5><p>全局变量在测试数据中的任何地方都可用。这些变量通常在命令行中使用<code>--variable</code>和<code>--variablefile</code>选项设置，但也可以在测试数据的任何地方使用VAR语法或<code>Set Global Variable</code>关键字创建新的全局变量或更改现有的全局变量。此外，内置变量也是全局的。</p>
<p>建议使用大写字母表示所有全局变量。</p>
<h5 id="测试套件作用域"><a href="#测试套件作用域" class="headerlink" title="测试套件作用域"></a>测试套件作用域</h5><p>具有测试套件作用域的变量在定义或导入它们的测试套件的任何地方都可用。它们可以在变量部分中创建，从资源和变量文件中导入，或者在测试执行期间使用VAR语法或<code>Set Suite Variable</code>关键字设置。</p>
<p>测试套件作用域不是递归的，这意味着在高级测试套件中可用的变量在低级套件中不可用。如果需要，可以使用资源和变量文件共享变量。</p>
<p>由于这些变量在使用它们的测试套件中可以被认为是全局的，因此也建议使用大写字母表示它们。</p>
<h5 id="测试用例作用域"><a href="#测试用例作用域" class="headerlink" title="测试用例作用域"></a>测试用例作用域</h5><p>具有测试用例作用域的变量在测试用例和测试使用的所有用户关键字中可见。最初在这个作用域中没有变量，但是可以在测试用例的任何地方使用VAR语法或<code>Set Test Variable</code>关键字创建它们。在套件设置或套件拆卸中尝试创建测试变量会导致错误。</p>
<p>测试用例作用域中的变量也在某种程度上是全局的。因此，通常建议使用大写字母表示它们。</p>
<h5 id="局部作用域"><a href="#局部作用域" class="headerlink" title="局部作用域"></a>局部作用域</h5><p>测试用例和用户关键字有一个局部变量作用域，其他测试或关键字看不到。局部变量可以使用执行的关键字的返回值和VAR语法创建，用户关键字也可以将它们作为参数获取。</p>
<p>建议使用小写字母表示局部变量。</p>
<h4 id="高级变量特性"><a href="#高级变量特性" class="headerlink" title="高级变量特性"></a>高级变量特性</h4><h5 id="扩展变量语法"><a href="#扩展变量语法" class="headerlink" title="扩展变量语法"></a>扩展变量语法</h5><p>扩展变量语法允许访问分配给变量的对象的属性（例如，<code>$&#123;object.attribute&#125;</code>）甚至调用其方法（例如，<code>$&#123;obj.getName()&#125;</code>）。它既适用于标量变量，也适用于列表变量，但主要用于前者。</p>
<p>扩展变量语法是一个强大的特性，但应谨慎使用。访问属性通常不是问题，相反，因为一个包含多个属性的对象的变量通常比有多个变量更好。另一方面，调用方法，特别是当它们带有参数时，可能会使测试数据变得相当复杂。如果发生这种情况，建议将代码移动到测试库中。</p>
<p>下面的例子说明了扩展变量语法的最常见用法。首先假设我们有以下变量文件和测试用例：</p>
<div class="highlight-container" data-rel="Python"><figure class="iseeu highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MyObject</span>:</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, name</span>):</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">eat</span>(<span class="params">self, what</span>):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;%s eats %s&#x27;</span> % (self.name, what)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__str__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="keyword">return</span> self.name</span><br><span class="line"></span><br><span class="line">OBJECT = MyObject(<span class="string">&#x27;Robot&#x27;</span>)</span><br><span class="line">DICTIONARY = &#123;<span class="number">1</span>: <span class="string">&#x27;one&#x27;</span>, <span class="number">2</span>: <span class="string">&#x27;two&#x27;</span>, <span class="number">3</span>: <span class="string">&#x27;three&#x27;</span>&#125;</span><br><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    KW <span class="number">1</span>    $&#123;OBJECT.name&#125;</span><br><span class="line">    KW <span class="number">2</span>    $&#123;OBJECT.eat(<span class="string">&#x27;Cucumber&#x27;</span>)&#125;</span><br><span class="line">    KW <span class="number">3</span>    $&#123;DICTIONARY[<span class="number">2</span>]&#125;</span><br></pre></td></tr></table></figure></div>

<p>当执行这个测试数据时，关键字得到的参数如下：</p>
<ul>
<li>KW 1得到字符串Robot</li>
<li>KW 2得到字符串Robot eats Cucumber</li>
<li>KW 3得到字符串two</li>
</ul>
<p>扩展变量语法按以下顺序进行评估：</p>
<ol>
<li>使用完整的变量名搜索变量。只有在没有找到匹配的变量时，才会评估扩展变量语法。</li>
<li>创建基变量的名称。名称的主体由打开<code>&#123;</code>后的所有字符组成，直到第一个不是字母数字字符或空格的字符出现。例如，<code>$&#123;OBJECT.name&#125;</code>和<code>$&#123;DICTIONARY[2]&#125;</code>的基变量分别是OBJECT和DICTIONARY。</li>
<li>搜索与主体匹配的变量。如果没有匹配，将引发异常并使测试用例失败。</li>
<li>将花括号内的表达式作为Python表达式进行评估，以便将基变量名替换为其值。如果评估失败，因为语法无效或查询的属性不存在，将引发异常并使测试失败。</li>
<li>将整个扩展变量替换为从评估返回的值。</li>
</ol>
<p>许多标准的Python对象，包括字符串和数字，都有可以使用扩展变量语法显式或隐式使用的方法。有时这可能非常有用，减少了设置临时变量的需要，但也很容易过度使用它，创建真正的神秘测试数据。下面的例子展示了一些相当好的用法。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">String</span><br><span class="line">    $&#123;string&#125; =    Set Variable    abc</span><br><span class="line">    Log    $&#123;string.upper()&#125;      # Logs &#x27;ABC&#x27;</span><br><span class="line">    Log    $&#123;string * 2&#125;          # Logs &#x27;abcabc&#x27;</span><br><span class="line"></span><br><span class="line">Number</span><br><span class="line">    $&#123;number&#125; =    Set Variable    $&#123;-2&#125;</span><br><span class="line">    Log    $&#123;number * 10&#125;         # Logs -20</span><br><span class="line">    Log    $&#123;number.__abs__()&#125;    # Logs 2</span><br></pre></td></tr></table></figure></div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>尽管在正常的Python代码中推荐使用<code>abs(number)</code>而不是<code>number.__abs__()</code>，但使用<code>${abs(number)}</code>是不起作用的。这是因为变量名必须在扩展语法的开始。在测试数据中像这样使用<code>__xxx__</code>方法已经有点可疑了，通常最好将这种逻辑移动到测试库中。</p>

    </div>
  </div>

<p>扩展变量语法也适用于列表变量上下文。例如，如果一个分配给变量<code>$&#123;EXTENDED&#125;</code>的对象有一个包含列表值的属性，它可以被用作列表变量<code>@&#123;EXTENDED.attribute&#125;</code>。</p>
<h5 id="扩展变量赋值"><a href="#扩展变量赋值" class="headerlink" title="扩展变量赋值"></a>扩展变量赋值</h5><p>可以使用关键字返回值和扩展变量语法的变体，将对象的属性设置到标量变量中。假设我们有前面例子中的变量<code>$&#123;OBJECT&#125;</code>，可以像下面的例子那样设置它的属性。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    $&#123;OBJECT.name&#125; =    Set Variable    New name</span><br><span class="line">    $&#123;OBJECT.new_attr&#125; =    Set Variable    New attribute</span><br></pre></td></tr></table></figure></div>

<p>扩展变量赋值语法按照以下规则进行评估：</p>
<ol>
<li>被赋值的变量必须是一个标量变量，并且至少有一个点。否则，不使用扩展赋值语法，而是正常赋值变量。</li>
<li>如果存在一个与完整名称相匹配的变量（例如，上面例子中的<code>$&#123;OBJECT.name&#125;</code>），那么该变量将被赋予一个新的值，不使用扩展语法。</li>
<li>创建基变量的名称。名称的主体由打开<code>$&#123;</code>和最后一个点之间的所有字符组成，例如，<code>$&#123;OBJECT.name&#125;</code>中的<code>OBJECT</code>和<code>$&#123;foo.bar.zap&#125;</code>中的<code>foo.bar</code>。正如第二个例子所示，基名称可能包含正常的扩展变量语法。</li>
<li>通过取最后一个点和闭合<code>&#125;</code>之间的所有字符来创建要设置的属性的名称，例如，<code>$&#123;OBJECT.name&#125;</code>中的<code>name</code>。如果名称不是以字母或下划线开头，并且只包含这些字符和数字，那么该属性被认为是无效的，不使用扩展语法。而是创建一个具有完整名称的新变量。</li>
<li>搜索与基名称匹配的变量。如果没有找到变量，那么不使用扩展语法，而是使用完整的变量名称创建一个新的变量。</li>
<li>如果找到的变量是一个字符串或一个数字，那么忽略扩展语法，并使用完整的名称创建一个新的变量。这是因为你不能向Python字符串或数字添加新的属性，这样新的语法也不会向后不兼容。</li>
<li>如果所有前面的规则都匹配，那么属性被设置到基变量。如果设置失败，由于任何原因，将引发异常并使测试失败。</li>
</ol>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>与通常使用关键字返回值赋值变量不同，使用扩展赋值语法对变量进行的更改不限于当前作用域。因为没有创建新的变量，而是改变了现有变量的状态，所以所有看到该变量的测试和关键字也会看到这些更改。</p>

    </div>
  </div>

<h4 id="变量内的变量"><a href="#变量内的变量" class="headerlink" title="变量内的变量"></a>变量内的变量</h4><p>变量也可以在变量内部，当使用这种语法时，变量从内到外进行解析。例如，如果你有一个变量<code>$&#123;var$&#123;x&#125;&#125;</code>，那么<code>$&#123;x&#125;</code>首先被解析。如果它的值是<code>name</code>，那么最终的值就是变量<code>$&#123;varname&#125;</code>的值。可以有多个嵌套的变量，但如果它们中的任何一个不存在，解析最外层的变量就会失败。</p>
<p>在下面的例子中，<code>Do X</code>获取的值是<code>$&#123;JOHN HOME&#125;</code>或<code>$&#123;JANE HOME&#125;</code>，取决于<code>Get Name</code>返回的是<code>john</code>还是<code>jane</code>。如果它返回其他的东西，解析<code>$&#123;$&#123;name&#125; HOME&#125;</code>就会失败。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">*** Variables ***</span><br><span class="line">$&#123;JOHN HOME&#125;    /home/john</span><br><span class="line">$&#123;JANE HOME&#125;    /home/jane</span><br><span class="line"></span><br><span class="line">*** Test Cases ***</span><br><span class="line">Example</span><br><span class="line">    $&#123;name&#125; =    Get Name</span><br><span class="line">    Do X    $&#123;$&#123;name&#125; HOME&#125;</span><br></pre></td></tr></table></figure></div>

<h4 id="内联Python评估"><a href="#内联Python评估" class="headerlink" title="内联Python评估"></a>内联Python评估</h4><p>变量语法也可以用于评估Python表达式。基本语法是<code>$&#123;&#123;expression&#125;&#125;</code>，即表达式周围有双花括号。表达式可以是任何有效的Python表达式，如<code>$&#123;&#123;1 + 2&#125;&#125;</code>或<code>$&#123;&#123;['a', 'list']&#125;&#125;</code>。允许在表达式周围有空格，所以<code>$&#123;&#123; 1 + 2 &#125;&#125;</code>和<code>$&#123;&#123; ['a', 'list'] &#125;&#125;</code>也是有效的。除了使用正常的标量变量，列表变量和字典变量也分别支持<code>@&#123;&#123;expression&#125;&#125;</code>和<code>&amp;&#123;&#123;expression&#125;&#125;</code>语法。</p>
<p>这个相当高级的功能的主要用途是：</p>
<ul>
<li>评估涉及Robot Framework的变量的Python表达式（<code>$&#123;&#123;len('$&#123;var&#125;') > 3&#125;&#125;</code>，<code>$&#123;&#123;$var[0] if $var is not None else None&#125;&#125;</code>）。</li>
<li>创建不是Python基本类型的值（<code>$&#123;&#123;decimal.Decimal('0.11')&#125;&#125;</code>，<code>$&#123;&#123;datetime.date(2019, 11, 5)&#125;&#125;</code>）。</li>
<li>动态创建值（<code>$&#123;&#123;random.randint(0, 100)&#125;&#125;</code>，<code>$&#123;&#123;datetime.date.today()&#125;&#125;</code>）。</li>
<li>构造集合，特别是嵌套的集合（<code>$&#123;&#123;[1, 2, 3, 4]&#125;&#125;</code>，<code>$&#123;&#123; &#123;'id': 1, 'name': 'Example', 'children': [7, 9]&#125; &#125;&#125;</code>）。</li>
<li>访问Python模块中的常量和其他有用的属性（<code>$&#123;&#123;math.pi&#125;&#125;</code>，<code>$&#123;&#123;platform.system()&#125;&#125;</code>）。</li>
</ul>
<p>这与前面讨论的扩展变量语法有一些类似的功能。如上面的例子所示，这种语法更强大，因为它提供了访问Python内置函数如<code>len()</code>和模块如<code>math</code>的能力。除了能够在表达式中使用像<code>$&#123;var&#125;</code>这样的变量（它们在评估之前被替换），在评估期间还可以使用特殊的<code>$var</code>语法使用变量。整个表达式语法在评估表达式附录中有解释。</p>

  <div class="note-large blue">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-info"></i><p>信息</p>

    </div>
    <div class="notel-content">
      <p>与其创建复杂的表达式，通常最好将逻辑移动到自定义库中。这样可以简化维护，使测试数据更容易理解，也可以提高执行速度。</p>

    </div>
  </div>


  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>内联Python评估语法是在Robot Framework 3.2中新增的。</p>

    </div>
  </div>

<h3 id="创建用户关键字"><a href="#创建用户关键字" class="headerlink" title="创建用户关键字"></a>创建用户关键字</h3><p>关键字部分用于通过组合现有关键字来创建新的高级关键字。这些关键字被称为用户关键字，以区别于在测试库中实现的最低级别的库关键字。创建用户关键字的语法与创建测试用例的语法非常接近，这使得学习变得容易。</p>
<h4 id="基本语法-2"><a href="#基本语法-2" class="headerlink" title="基本语法"></a>基本语法</h4><p>在很多方面，用户关键字的整体语法与测试用例语法相同。用户关键字在关键字部分中创建，这与测试用例部分的区别仅在于用于标识它们的名称。用户关键字的名称与测试用例名称一样，位于第一列。此外，用户关键字也是由关键字创建的，无论是来自测试库的关键字还是其他用户关键字。关键字名称通常在第二列，但是在从关键字返回值设置变量时，它们在后续列中。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">*** Keywords ***</span><br><span class="line">Open Login Page</span><br><span class="line">    Open Browser    http://host/login.html</span><br><span class="line">    Title Should Be    Login Page</span><br><span class="line"></span><br><span class="line">Title Should Start With</span><br><span class="line">    [Arguments]    $&#123;expected&#125;</span><br><span class="line">    $&#123;title&#125; =    Get Title</span><br><span class="line">    Should Start With    $&#123;title&#125;    $&#123;expected&#125;</span><br></pre></td></tr></table></figure></div>

<p>大多数用户关键字需要一些参数。这个重要的特性已经在上面的第二个例子中使用了，它在本节后面详细解释，与用户关键字返回值类似。</p>
<p>用户关键字可以在套件文件、资源文件和套件初始化文件中创建。在资源文件中创建的关键字对使用它们的文件可用，而其他关键字只在创建它们的文件中可用。</p>
<h4 id="关键字部分中的设置"><a href="#关键字部分中的设置" class="headerlink" title="关键字部分中的设置"></a>关键字部分中的设置</h4><p>用户关键字可以有与测试用例类似的设置，它们有相同的方括号语法将它们与关键字名称分开。所有可用的设置都列在下面，并在本节后面解释。</p>
<ul>
<li>[Documentation] 用于设置用户关键字文档。</li>
<li>[Tags] 为关键字设置标签。</li>
<li>[Arguments] 指定用户关键字参数。</li>
<li>[Setup], [Teardown] 指定用户关键字的设置和拆卸。[Setup]是在Robot Framework 7.0中新增的。</li>
<li>[Timeout] 设置可能的用户关键字超时。超时在自己的部分中讨论。</li>
<li>[Return] 指定用户关键字返回值。在Robot Framework 7.0中已弃用，应使用RETURN语句。</li>
</ul>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>上面使用的格式是推荐的，但设置名称不区分大小写，方括号和名称之间允许有空格。例如，[ TAGS ]:setting是有效的。</p>

    </div>
  </div>

<h3 id="用户关键字的名称和文档"><a href="#用户关键字的名称和文档" class="headerlink" title="用户关键字的名称和文档"></a>用户关键字的名称和文档</h3><p>用户关键字的名称在关键字部分的第一列中定义。当然，名称应该是描述性的，接受有相当长的关键字名称。实际上，当创建用例样式的测试用例时，最高级别的关键字通常被构造为句子甚至段落。</p>
<p>用户关键字可以有一个文档，通过[Documentation]设置进行设置。它支持与测试用例文档相同的格式，分割到多行，以及其他特性。这个设置在测试数据中记录了用户关键字。它也显示在更正式的关键字文档中，Libdoc工具可以从资源文件中创建这个文档。最后，文档的第一行逻辑行，直到第一个空行，显示为测试日志中的关键字文档。</p>
<div class="highlight-container" data-rel="Plaintext"><figure class="iseeu highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">*** Keywords ***</span><br><span class="line">One line documentation</span><br><span class="line">    [Documentation]    One line documentation.</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Multiline documentation</span><br><span class="line">    [Documentation]    The first line creates the short doc.</span><br><span class="line">    ...</span><br><span class="line">    ...                This is the body of the documentation.</span><br><span class="line">    ...                It is not shown in Libdoc outputs but only</span><br><span class="line">    ...                the short doc is shown in logs.</span><br><span class="line">    No Operation</span><br><span class="line"></span><br><span class="line">Short documentation in multiple lines</span><br><span class="line">    [Documentation]    If the short doc gets longer, it can span</span><br><span class="line">    ...                multiple physical lines.</span><br><span class="line">    ...</span><br><span class="line">    ...                The body is separated from the short doc with</span><br><span class="line">    ...                an empty line.</span><br><span class="line">    No Operation</span><br></pre></td></tr></table></figure></div>

<p>有时候，关键字需要被移除，替换为新的，或者由于其他原因被弃用。用户关键字可以通过在文档开始处标记<em>DEPRECATED</em>来标记为弃用，这将在使用关键字时引发警告。有关更多信息，请参见弃用关键字部分。</p>

  <div class="note-large orange">
    <div class="notel-title rounded-t-lg p-3 font-bold text-lg flex flex-row gap-2 items-center">
      <i class="notel-icon fa-solid fa-circle-exclamation"></i><p>注意</p>

    </div>
    <div class="notel-content">
      <p>在Robot Framework 3.1之前，简短的文档只包含关键字文档的第一行物理行。</p>

    </div>
  </div>


        </div>

        
            <div class="post-copyright-info w-full my-8 px-2 sm:px-6 md:px-8">
                <div class="article-copyright-info-container">
    <ul>
        <li><strong>标题:</strong> Robot Framework教程</li>
        <li><strong>作者:</strong> Yiuhang Chan</li>
        <li><strong>创建于
                :</strong> 2024-04-19 11:17:08</li>
        
            <li>
                <strong>更新于
                    :</strong> 2024-04-22 17:37:30
            </li>
        
        <li>
            <strong>链接:</strong> https://www.yiuhangblog.com/2024/04/19/20240419RobotFramework教程/
        </li>
        <li>
            <strong>
                版权声明:
            </strong>
            

            
                本文章采用 <a class="license" target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0">CC BY-NC-SA 4.0</a> 进行许可。
            
        </li>
    </ul>
</div>

            </div>
        

        
            <ul class="post-tags-box text-lg mt-1.5 flex-wrap justify-center flex md:hidden">
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/%E5%9F%BA%E7%A1%80/">#基础</a>&nbsp;
                    </li>
                
                    <li class="tag-item mx-0.5">
                        <a href="/tags/%E7%90%86%E8%AE%BA/">#理论</a>&nbsp;
                    </li>
                
            </ul>
        

        

        
            <div class="article-nav my-8 flex justify-between items-center px-2 sm:px-6 md:px-8">
                
                
                    <div class="article-next border-border-color shadow-redefine-flat shadow-shadow-color-2 rounded-medium px-4 py-2 hover:shadow-redefine-flat-hover hover:shadow-shadow-color-2">
                        <a class="next"
                        rel="next"
                        href="/2024/04/18/20240418TagUI%E6%95%99%E7%A8%8B/"
                        >
                            <span class="title flex justify-center items-center">
                                <span class="post-nav-title-item">TagUI教程</span>
                                <span class="post-nav-item">下一篇</span>
                            </span>
                            <span class="right arrow-icon flex justify-center items-center">
                                <i class="fa-solid fa-chevron-right"></i>
                            </span>
                        </a>
                    </div>
                
            </div>
        


        
            <div class="comment-container px-2 sm:px-6 md:px-8 pb-8">
                <div class="comments-container mt-10 w-full ">
    <div id="comment-anchor" class="w-full h-2.5"></div>
    <div class="comment-area-title w-full my-1.5 md:my-2.5 text-xl md:text-3xl font-bold">
        评论
    </div>
    

        
            
    <div id="waline"></div>
    <script type="module" data-swup-reload-script>
      import { init } from '/js/libs/waline.mjs';

      function loadWaline() {
        init({
          el: '#waline',
          serverURL: 'https://comment.yiuhangblog.com',
          lang: 'zh-CN',
          dark: 'body[class~="dark-mode"]',
          requiredMeta: ['nick', 'mail'],
          emoji: [],
          recaptchaV3Key: "wasd",
          
        });
      }

      if (typeof swup !== 'undefined') {
        loadWaline();
      } else {
        window.addEventListener('DOMContentLoaded', loadWaline);
      }
    </script>



        
    
</div>

            </div>
        
    </div>

    
        <div class="toc-content-container">
            <div class="post-toc-wrap">
    <div class="post-toc">
        <div class="toc-title">此页目录</div>
        <div class="page-title">Robot Framework教程</div>
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Robot-Framework-%E7%AE%80%E4%BB%8B"><span class="nav-text">Robot Framework 简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E9%80%89%E6%8B%A9-Robot-Framework%EF%BC%9F"><span class="nav-text">为什么选择 Robot Framework？</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E6%9E%B6%E6%9E%84"><span class="nav-text">高级架构</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%88%AA%E5%B1%8F"><span class="nav-text">截屏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8E%B7%E5%8F%96%E6%9B%B4%E5%A4%9A%E4%BF%A1%E6%81%AF"><span class="nav-text">获取更多信息</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E9%A1%B5%E9%9D%A2"><span class="nav-text">项目页面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%82%AE%E4%BB%B6%E5%88%97%E8%A1%A8"><span class="nav-text">邮件列表</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%89%88%E6%9D%83%E5%92%8C%E8%AE%B8%E5%8F%AF%E8%AF%81"><span class="nav-text">版权和许可证</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E6%8C%87%E5%8D%97"><span class="nav-text">安装指南</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Python-%E5%AE%89%E8%A3%85"><span class="nav-text">Python 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%9C%A8-Linux-%E4%B8%8A%E5%AE%89%E8%A3%85-Python"><span class="nav-text">在 Linux 上安装 Python</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Windows-%E4%B8%8A%E7%9A%84-Python-%E5%AE%89%E8%A3%85"><span class="nav-text">Windows 上的 Python 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#macOS-%E4%B8%8A%E7%9A%84-Python-%E5%AE%89%E8%A3%85"><span class="nav-text">macOS 上的 Python 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PyPy-%E5%AE%89%E8%A3%85"><span class="nav-text">PyPy 安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%85%8D%E7%BD%AE-PATH"><span class="nav-text">配置 PATH</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8-pip-%E5%AE%89%E8%A3%85"><span class="nav-text">使用 pip 安装</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#pip-%E5%91%BD%E4%BB%A4%E7%9A%84%E8%BF%90%E8%A1%8C"><span class="nav-text">pip 命令的运行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81-pip-%E6%98%AF%E5%90%A6%E5%8F%AF%E7%94%A8"><span class="nav-text">验证 pip 是否可用</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD-Robot-Framework"><span class="nav-text">安装与卸载 Robot Framework</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BB%8E%E6%BA%90%E4%BB%A3%E7%A0%81%E5%AE%89%E8%A3%85"><span class="nav-text">从源代码安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%AA%8C%E8%AF%81%E5%AE%89%E8%A3%85"><span class="nav-text">验证安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83"><span class="nav-text">虚拟环境</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E9%9B%86%E6%88%90%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83"><span class="nav-text">设置集成开发环境</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#IDE"><span class="nav-text">IDE</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%89%E8%A3%85IDE%E5%92%8C%E6%89%A9%E5%B1%95"><span class="nav-text">安装IDE和扩展</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Visual-Studio-Code"><span class="nav-text">Visual Studio Code</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85Visual-Studio-Code"><span class="nav-text">安装Visual Studio Code</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Visual-Studio-Code%E6%89%A9%E5%B1%95"><span class="nav-text">Visual Studio Code扩展</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PyCharm"><span class="nav-text">PyCharm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%89%E8%A3%85PyCharm"><span class="nav-text">安装PyCharm</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#PyCharm%E6%89%A9%E5%B1%95"><span class="nav-text">PyCharm扩展</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BF%90%E8%A1%8C%E5%92%8C%E8%B0%83%E8%AF%95Robot-Framework%E6%B5%8B%E8%AF%95"><span class="nav-text">运行和调试Robot Framework测试</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Visual-Studio-Code%E5%92%8CRobotCode"><span class="nav-text">使用Visual Studio Code和RobotCode</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8PyCharm%E5%92%8CRobot-Framework-Language-Server"><span class="nav-text">使用PyCharm和Robot Framework Language Server</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Poetry%E7%AE%A1%E7%90%86%E4%BE%9D%E8%B5%96"><span class="nav-text">使用Poetry管理依赖</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="nav-text">虚拟环境文件夹</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%B0%E9%A1%B9%E7%9B%AE"><span class="nav-text">初始化新项目</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0%E4%BE%9D%E8%B5%96%E9%A1%B9"><span class="nav-text">添加依赖项</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8%E8%99%9A%E6%8B%9F%E7%8E%AF%E5%A2%83%E4%B8%AD%E8%BF%90%E8%A1%8C%E5%91%BD%E4%BB%A4"><span class="nav-text">在虚拟环境中运行命令</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%BC%94%E7%A4%BA"><span class="nav-text">演示</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE"><span class="nav-text">创建测试数据</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%E8%AF%AD%E6%B3%95"><span class="nav-text">测试数据语法</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%96%87%E4%BB%B6%E5%92%8C%E7%9B%AE%E5%BD%95"><span class="nav-text">文件和目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%95%B0%E6%8D%AE%E9%83%A8%E5%88%86"><span class="nav-text">测试数据部分</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%94%AF%E6%8C%81%E7%9A%84%E6%96%87%E4%BB%B6%E6%A0%BC%E5%BC%8F"><span class="nav-text">支持的文件格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A9%BA%E6%A0%BC%E5%88%86%E9%9A%94%E6%A0%BC%E5%BC%8F"><span class="nav-text">空格分隔格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%AE%A1%E9%81%93%E5%88%86%E9%9A%94%E6%A0%BC%E5%BC%8F"><span class="nav-text">管道分隔格式</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#reStructuredText-%E6%A0%BC%E5%BC%8F"><span class="nav-text">reStructuredText 格式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#reStructuredText-%E7%A4%BA%E4%BE%8B"><span class="nav-text">reStructuredText 示例</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#JSON-%E6%A0%BC%E5%BC%8F"><span class="nav-text">JSON 格式</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B0%86%E5%A5%97%E4%BB%B6%E8%BD%AC%E6%8D%A2%E4%B8%BA-JSON"><span class="nav-text">将套件转换为 JSON</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%8E-JSON-%E5%88%9B%E5%BB%BA%E5%A5%97%E4%BB%B6"><span class="nav-text">从 JSON 创建套件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%89%A7%E8%A1%8C-JSON-%E6%96%87%E4%BB%B6"><span class="nav-text">执行 JSON 文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%B0%83%E6%95%B4%E5%A5%97%E4%BB%B6%E6%BA%90"><span class="nav-text">调整套件源</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#JSON-%E7%BB%93%E6%9E%84"><span class="nav-text">JSON 结构</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E8%A7%A3%E6%9E%90%E8%A7%84%E5%88%99"><span class="nav-text">数据解析规则</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BF%BD%E7%95%A5%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="nav-text">忽略的数据</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%BD%AC%E4%B9%89"><span class="nav-text">转义</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BD%AC%E4%B9%89%E7%89%B9%E6%AE%8A%E5%AD%97%E7%AC%A6"><span class="nav-text">转义特殊字符</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BD%A2%E6%88%90%E8%BD%AC%E4%B9%89%E5%BA%8F%E5%88%97"><span class="nav-text">形成转义序列</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E7%A9%BA%E5%80%BC"><span class="nav-text">处理空值</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E7%A9%BA%E6%A0%BC"><span class="nav-text">处理空格</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B0%86%E6%95%B0%E6%8D%AE%E5%88%86%E5%89%B2%E5%88%B0%E5%A4%9A%E8%A1%8C"><span class="nav-text">将数据分割到多行</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%AC%E5%9C%B0%E5%8C%96"><span class="nav-text">本地化</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%90%AF%E7%94%A8%E8%AF%AD%E8%A8%80"><span class="nav-text">启用语言</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80%E6%96%87%E4%BB%B6"><span class="nav-text">自定义语言文件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B"><span class="nav-text">创建测试用例</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E8%AF%AD%E6%B3%95"><span class="nav-text">测试用例语法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95"><span class="nav-text">基本语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%A8%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E9%83%A8%E5%88%86%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-text">在测试用例部分的设置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%A8%E8%AE%BE%E7%BD%AE%E9%83%A8%E5%88%86%E7%9A%84%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E7%9B%B8%E5%85%B3%E8%AE%BE%E7%BD%AE"><span class="nav-text">在设置部分的测试用例相关设置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%8F%82%E6%95%B0"><span class="nav-text">使用参数</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%8D%E7%BD%AE%E5%8F%82%E6%95%B0"><span class="nav-text">位置参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E5%80%BC"><span class="nav-text">默认值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%AF%E5%8F%98%E6%95%B0%E9%87%8F%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-text">可变数量的参数</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0"><span class="nav-text">命名参数</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-1"><span class="nav-text">基本语法</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0%E4%B8%8E%E5%8F%98%E9%87%8F"><span class="nav-text">命名参数与变量</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BD%AC%E4%B9%89%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0%E8%AF%AD%E6%B3%95"><span class="nav-text">转义命名参数语法</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0%E6%94%AF%E6%8C%81%E7%9A%84%E4%BD%8D%E7%BD%AE"><span class="nav-text">命名参数支持的位置</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0%E7%A4%BA%E4%BE%8B"><span class="nav-text">命名参数示例</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E7%94%B1%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0"><span class="nav-text">自由命名参数</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E7%A4%BA%E4%BE%8B"><span class="nav-text">示例</span></a></li></ol></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BB%85%E5%91%BD%E5%90%8D%E5%8F%82%E6%95%B0"><span class="nav-text">仅命名参数</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B5%8C%E5%85%A5%E5%88%B0%E5%85%B3%E9%94%AE%E5%AD%97%E5%90%8D%E7%A7%B0%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0"><span class="nav-text">嵌入到关键字名称中的参数</span></a></li></ol></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%B1%E8%B4%A5"><span class="nav-text">失败</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E5%A4%B1%E8%B4%A5%E6%97%B6"><span class="nav-text">测试用例失败时</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E9%94%99%E8%AF%AF%E6%B6%88%E6%81%AF"><span class="nav-text">错误消息</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E5%90%8D%E7%A7%B0%E5%92%8C%E6%96%87%E6%A1%A3"><span class="nav-text">测试用例名称和文档</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%87%E8%AE%B0%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B"><span class="nav-text">标记测试用例</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%BC%83%E7%94%A8-Force-Tags-%E5%92%8C-Default-Tags"><span class="nav-text">弃用 Force Tags 和 Default Tags</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BF%9D%E7%95%99%E6%A0%87%E7%AD%BE"><span class="nav-text">保留标签</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E6%A8%A1%E6%9D%BF"><span class="nav-text">测试模板</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="nav-text">基本用法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B5%8C%E5%85%A5%E5%8F%82%E6%95%B0%E7%9A%84%E6%A8%A1%E6%9D%BF"><span class="nav-text">嵌入参数的模板</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8FOR%E5%BE%AA%E7%8E%AF%E7%9A%84%E6%A8%A1%E6%9D%BF"><span class="nav-text">使用FOR循环的模板</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8IF-ELSE%E7%BB%93%E6%9E%84%E7%9A%84%E6%A8%A1%E6%9D%BF"><span class="nav-text">使用IF&#x2F;ELSE结构的模板</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8D%E5%90%8C%E7%9A%84%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E9%A3%8E%E6%A0%BC"><span class="nav-text">不同的测试用例风格</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E9%A9%B1%E5%8A%A8%E9%A3%8E%E6%A0%BC"><span class="nav-text">关键字驱动风格</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8%E9%A3%8E%E6%A0%BC"><span class="nav-text">数据驱动风格</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%A1%8C%E4%B8%BA%E9%A9%B1%E5%8A%A8%E9%A3%8E%E6%A0%BC"><span class="nav-text">行为驱动风格</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%BF%BD%E7%95%A5Given-When-Then-And-But%E5%89%8D%E7%BC%80"><span class="nav-text">忽略Given&#x2F;When&#x2F;Then&#x2F;And&#x2F;But前缀</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#%E5%B5%8C%E5%85%A5%E6%95%B0%E6%8D%AE%E5%88%B0%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">嵌入数据到关键字</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E4%BB%BB%E5%8A%A1"><span class="nav-text">创建任务</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BB%BB%E5%8A%A1%E8%AF%AD%E6%B3%95"><span class="nav-text">任务语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B8%8E%E4%BB%BB%E5%8A%A1%E7%9B%B8%E5%85%B3%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-text">与任务相关的设置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%B5%8B%E8%AF%95%E5%A5%97%E4%BB%B6"><span class="nav-text">创建测试套件</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A5%97%E4%BB%B6%E6%96%87%E4%BB%B6"><span class="nav-text">套件文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A5%97%E4%BB%B6%E7%9B%AE%E5%BD%95"><span class="nav-text">套件目录</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A5%97%E4%BB%B6%E5%88%9D%E5%A7%8B%E5%8C%96%E6%96%87%E4%BB%B6"><span class="nav-text">套件初始化文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A5%97%E4%BB%B6%E5%90%8D%E7%A7%B0"><span class="nav-text">套件名称</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A5%97%E4%BB%B6%E6%96%87%E6%A1%A3"><span class="nav-text">套件文档</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E7%94%B1%E5%A5%97%E4%BB%B6%E5%85%83%E6%95%B0%E6%8D%AE"><span class="nav-text">自由套件元数据</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A5%97%E4%BB%B6%E8%AE%BE%E7%BD%AE%E5%92%8C%E6%8B%86%E8%A7%A3"><span class="nav-text">套件设置和拆解</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E6%B5%8B%E8%AF%95%E5%BA%93"><span class="nav-text">使用测试库</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E5%BA%93"><span class="nav-text">导入库</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Library%E8%AE%BE%E7%BD%AE"><span class="nav-text">使用Library设置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Import-Library%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">使用Import Library关键字</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%8C%87%E5%AE%9A%E8%A6%81%E5%AF%BC%E5%85%A5%E7%9A%84%E5%BA%93"><span class="nav-text">指定要导入的库</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%BA%93%E5%90%8D%E7%A7%B0"><span class="nav-text">使用库名称</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%BA%93%E7%9A%84%E7%89%A9%E7%90%86%E8%B7%AF%E5%BE%84"><span class="nav-text">使用库的物理路径</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E5%BA%93%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E5%90%8D%E7%A7%B0"><span class="nav-text">设置库的自定义名称</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%87%E5%87%86%E5%BA%93"><span class="nav-text">标准库</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%99%AE%E9%80%9A%E6%A0%87%E5%87%86%E5%BA%93"><span class="nav-text">普通标准库</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%BF%9C%E7%A8%8B%E5%BA%93"><span class="nav-text">远程库</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%A4%96%E9%83%A8%E5%BA%93"><span class="nav-text">外部库</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%8F%98%E9%87%8F"><span class="nav-text">变量</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%AE%80%E4%BB%8B"><span class="nav-text">简介</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F"><span class="nav-text">使用变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%87%E9%87%8F%E5%8F%98%E9%87%8F%E8%AF%AD%E6%B3%95"><span class="nav-text">标量变量语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%97%E8%A1%A8%E5%8F%98%E9%87%8F%E8%AF%AD%E6%B3%95"><span class="nav-text">列表变量语法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%88%97%E8%A1%A8%E5%8F%98%E9%87%8F%E4%B8%8E%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE"><span class="nav-text">使用列表变量与其他数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%88%97%E8%A1%A8%E5%8F%98%E9%87%8F%E4%B8%8E%E8%AE%BE%E7%BD%AE"><span class="nav-text">使用列表变量与设置</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E5%85%B8%E5%8F%98%E9%87%8F%E8%AF%AD%E6%B3%95"><span class="nav-text">字典变量语法</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%97%E5%85%B8%E5%8F%98%E9%87%8F%E4%B8%8E%E5%85%B6%E4%BB%96%E6%95%B0%E6%8D%AE"><span class="nav-text">使用字典变量与其他数据</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%AD%97%E5%85%B8%E5%8F%98%E9%87%8F%E4%B8%8E%E8%AE%BE%E7%BD%AE"><span class="nav-text">使用字典变量与设置</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E5%88%97%E8%A1%A8%E5%92%8C%E5%AD%97%E5%85%B8%E9%A1%B9"><span class="nav-text">访问列表和字典项</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E5%BA%8F%E5%88%97%E9%A1%B9"><span class="nav-text">访问序列项</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E5%8D%95%E4%B8%AA%E5%AD%97%E5%85%B8%E9%A1%B9"><span class="nav-text">访问单个字典项</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B5%8C%E5%A5%97%E9%A1%B9%E8%AE%BF%E9%97%AE"><span class="nav-text">嵌套项访问</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F"><span class="nav-text">环境变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%8F%98%E9%87%8F"><span class="nav-text">创建变量</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E9%83%A8%E5%88%86"><span class="nav-text">变量部分</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%A0%87%E9%87%8F%E5%8F%98%E9%87%8F"><span class="nav-text">创建标量变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%88%97%E8%A1%A8%E5%8F%98%E9%87%8F"><span class="nav-text">创建列表变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%AD%97%E5%85%B8%E5%8F%98%E9%87%8F"><span class="nav-text">创建字典变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E5%88%9B%E5%BB%BA%E5%8F%98%E9%87%8F%E5%90%8D"><span class="nav-text">基于另一个变量创建变量名</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E6%96%87%E4%BB%B6"><span class="nav-text">变量文件</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%A8%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="nav-text">在命令行中设置变量</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E8%BF%94%E5%9B%9E%E5%80%BC"><span class="nav-text">关键字的返回值</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E9%85%8D%E6%A0%87%E9%87%8F%E5%8F%98%E9%87%8F"><span class="nav-text">分配标量变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E9%85%8D%E5%B8%A6%E6%9C%89%E9%A1%B9%E5%80%BC%E7%9A%84%E5%8F%98%E9%87%8F"><span class="nav-text">分配带有项值的变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E5%88%9B%E5%BB%BA%E5%8F%98%E9%87%8F%E5%90%8D-1"><span class="nav-text">基于另一个变量创建变量名</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E9%85%8D%E5%88%97%E8%A1%A8%E5%8F%98%E9%87%8F"><span class="nav-text">分配列表变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E9%85%8D%E5%AD%97%E5%85%B8%E5%8F%98%E9%87%8F"><span class="nav-text">分配字典变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%86%E9%85%8D%E5%A4%9A%E4%B8%AA%E5%8F%98%E9%87%8F"><span class="nav-text">分配多个变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E8%AE%B0%E5%BD%95%E5%88%86%E9%85%8D%E7%9A%84%E5%8F%98%E9%87%8F%E5%80%BC"><span class="nav-text">自动记录分配的变量值</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#VAR%E8%AF%AD%E6%B3%95"><span class="nav-text">VAR语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%A0%87%E9%87%8F%E5%8F%98%E9%87%8F-1"><span class="nav-text">创建标量变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E5%88%97%E8%A1%A8%E5%92%8C%E5%AD%97%E5%85%B8%E5%8F%98%E9%87%8F"><span class="nav-text">创建列表和字典变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">作用域</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%9D%A1%E4%BB%B6%E5%88%9B%E5%BB%BA%E5%8F%98%E9%87%8F"><span class="nav-text">条件创建变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9F%BA%E4%BA%8E%E5%8F%A6%E4%B8%80%E4%B8%AA%E5%8F%98%E9%87%8F%E5%88%9B%E5%BB%BA%E5%8F%98%E9%87%8F%E5%90%8D-2"><span class="nav-text">基于另一个变量创建变量名</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8Set-Test-Suite-Global-Variable%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">使用Set Test&#x2F;Suite&#x2F;Global Variable关键字</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="nav-text">内置变量</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E5%8F%98%E9%87%8F"><span class="nav-text">操作系统变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%95%B0%E5%AD%97%E5%8F%98%E9%87%8F"><span class="nav-text">数字变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%83%E5%B0%94%E5%92%8CNone-null%E5%8F%98%E9%87%8F"><span class="nav-text">布尔和None&#x2F;null变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%A9%BA%E6%A0%BC%E5%92%8C%E7%A9%BA%E5%8F%98%E9%87%8F"><span class="nav-text">空格和空变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%87%AA%E5%8A%A8%E5%8F%98%E9%87%8F"><span class="nav-text">自动变量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E4%BC%98%E5%85%88%E7%BA%A7%E5%92%8C%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">变量优先级和作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E4%BC%98%E5%85%88%E7%BA%A7"><span class="nav-text">变量优先级</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F"><span class="nav-text">命令行中的变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E6%96%87%E4%BB%B6%E4%B8%AD%E7%9A%84%E5%8F%98%E9%87%8F%E9%83%A8%E5%88%86"><span class="nav-text">测试用例文件中的变量部分</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%AF%BC%E5%85%A5%E7%9A%84%E8%B5%84%E6%BA%90%E5%92%8C%E5%8F%98%E9%87%8F%E6%96%87%E4%BB%B6"><span class="nav-text">导入的资源和变量文件</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%9C%A8%E6%B5%8B%E8%AF%95%E6%89%A7%E8%A1%8C%E6%9C%9F%E9%97%B4%E8%AE%BE%E7%BD%AE%E7%9A%84%E5%8F%98%E9%87%8F"><span class="nav-text">在测试执行期间设置的变量</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%86%85%E7%BD%AE%E5%8F%98%E9%87%8F-1"><span class="nav-text">内置变量</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">变量作用域</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%85%A8%E5%B1%80%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">全局作用域</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E5%A5%97%E4%BB%B6%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">测试套件作用域</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%B5%8B%E8%AF%95%E7%94%A8%E4%BE%8B%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">测试用例作用域</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E5%B1%80%E9%83%A8%E4%BD%9C%E7%94%A8%E5%9F%9F"><span class="nav-text">局部作用域</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%AB%98%E7%BA%A7%E5%8F%98%E9%87%8F%E7%89%B9%E6%80%A7"><span class="nav-text">高级变量特性</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%89%A9%E5%B1%95%E5%8F%98%E9%87%8F%E8%AF%AD%E6%B3%95"><span class="nav-text">扩展变量语法</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#%E6%89%A9%E5%B1%95%E5%8F%98%E9%87%8F%E8%B5%8B%E5%80%BC"><span class="nav-text">扩展变量赋值</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%98%E9%87%8F%E5%86%85%E7%9A%84%E5%8F%98%E9%87%8F"><span class="nav-text">变量内的变量</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%86%85%E8%81%94Python%E8%AF%84%E4%BC%B0"><span class="nav-text">内联Python评估</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E7%94%A8%E6%88%B7%E5%85%B3%E9%94%AE%E5%AD%97"><span class="nav-text">创建用户关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9F%BA%E6%9C%AC%E8%AF%AD%E6%B3%95-2"><span class="nav-text">基本语法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%85%B3%E9%94%AE%E5%AD%97%E9%83%A8%E5%88%86%E4%B8%AD%E7%9A%84%E8%AE%BE%E7%BD%AE"><span class="nav-text">关键字部分中的设置</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%94%A8%E6%88%B7%E5%85%B3%E9%94%AE%E5%AD%97%E7%9A%84%E5%90%8D%E7%A7%B0%E5%92%8C%E6%96%87%E6%A1%A3"><span class="nav-text">用户关键字的名称和文档</span></a></li></ol></li></ol>

    </div>
</div>
        </div>
    
</div>



                

            </div>

            

        </div>

        <div class="main-content-footer">
            <footer class="footer mt-5 py-5 h-auto text-base text-third-text-color relative border-t-2 border-t-border-color">
    <div class="info-container py-3 text-center">
        
        <div class="text-center">
            &copy;
            
              <span>2018</span>
              -
            
            2024&nbsp;&nbsp;<i class="fa-solid fa-cog fa-spin" style="--fa-animation-duration: 5s"></i>&nbsp;&nbsp;<a href="/">Yiuhang Chan</a>
            
                
                <p class="post-count space-x-0.5">
                    <span>
                        共 41 篇文章
                    </span>
                    
                        <span>
                            共 348k 字
                        </span>
                    
                </p>
            
        </div>
        
            <script data-swup-reload-script src="https://cn.vercount.one/js"></script>
            <div class="relative text-center lg:absolute lg:right-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-right">
                
                    <span id="busuanzi_container_site_uv" class="lg:!block">
                        <span class="text-sm">访问人数</span>
                        <span id="busuanzi_value_site_uv"></span>
                    </span>
                
                
                    <span id="busuanzi_container_site_pv" class="lg:!block">
                        <span class="text-sm">总访问量</span>
                        <span id="busuanzi_value_site_pv"></span>
                    </span>
                
            </div>
        
        <div class="relative text-center lg:absolute lg:left-[20px] lg:top-1/2 lg:-translate-y-1/2 lg:text-left">
            <span class="lg:block text-sm">由 <?xml version="1.0" encoding="utf-8"?><!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg class="relative top-[2px] inline-block align-baseline" version="1.1" id="圖層_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="1rem" height="1rem" viewBox="0 0 512 512" enable-background="new 0 0 512 512" xml:space="preserve"><path fill="#0E83CD" d="M256.4,25.8l-200,115.5L56,371.5l199.6,114.7l200-115.5l0.4-230.2L256.4,25.8z M349,354.6l-18.4,10.7l-18.6-11V275H200v79.6l-18.4,10.7l-18.6-11v-197l18.5-10.6l18.5,10.8V237h112v-79.6l18.5-10.6l18.5,10.8V354.6z"/></svg><a target="_blank" class="text-base" href="https://hexo.io">Hexo</a> 驱动</span>
            <span class="text-sm lg:block">主题&nbsp;<a class="text-base" target="_blank" href="https://github.com/EvanNotFound/hexo-theme-redefine">Redefine v2.6.1</a></span>
        </div>
        
        
            <div>
                博客已运行 <span class="odometer" id="runtime_days" ></span> 天 <span class="odometer" id="runtime_hours"></span> 小时 <span class="odometer" id="runtime_minutes"></span> 分钟 <span class="odometer" id="runtime_seconds"></span> 秒
            </div>
        
        
            <script data-swup-reload-script>
                try {
                    function odometer_init() {
                    const elements = document.querySelectorAll('.odometer');
                    elements.forEach(el => {
                        new Odometer({
                            el,
                            format: '( ddd).dd',
                            duration: 200
                        });
                    });
                    }
                    odometer_init();
                } catch (error) {}
            </script>
        
        
        
    </div>  
</footer>
        </div>
    </div>

    
        <div class="post-tools">
            <div class="post-tools-container">
    <ul class="article-tools-list">
        <!-- TOC aside toggle -->
        
            <li class="right-bottom-tools page-aside-toggle">
                <i class="fa-regular fa-outdent"></i>
            </li>
        

        <!-- go comment -->
        
            <li class="go-comment">
                <i class="fa-regular fa-comments"></i>
            </li>
        
    </ul>
</div>

        </div>
    

    <div class="right-side-tools-container">
        <div class="side-tools-container">
    <ul class="hidden-tools-list">
        <li class="right-bottom-tools tool-font-adjust-plus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-plus"></i>
        </li>

        <li class="right-bottom-tools tool-font-adjust-minus flex justify-center items-center">
            <i class="fa-regular fa-magnifying-glass-minus"></i>
        </li>

        <li class="right-bottom-tools tool-dark-light-toggle flex justify-center items-center">
            <i class="fa-regular fa-moon"></i>
        </li>

        <!-- rss -->
        
            <li class="right-bottom-tools rss flex justify-center items-center">
                <a class="flex justify-center items-center"
                   href="/atom.xml"
                   target="_blank"
                >
                <i class="fa-regular fa-rss"></i>
                </a>
            </li>
        

        

        <li class="right-bottom-tools tool-scroll-to-bottom flex justify-center items-center">
            <i class="fa-regular fa-arrow-down"></i>
        </li>
    </ul>

    <ul class="visible-tools-list">
        <li class="right-bottom-tools toggle-tools-list flex justify-center items-center">
            <i class="fa-regular fa-cog fa-spin"></i>
        </li>
        
            <li class="right-bottom-tools tool-scroll-to-top flex justify-center items-center">
                <i class="arrow-up fas fa-arrow-up"></i>
                <span class="percent"></span>
            </li>
        
        
    </ul>
</div>

    </div>

    <div class="image-viewer-container">
    <img src="">
</div>


    
        <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
          <span class="search-input-field-pre">
            <i class="fa-solid fa-keyboard"></i>
          </span>
            <div class="search-input-container">
                <input autocomplete="off"
                       autocorrect="off"
                       autocapitalize="off"
                       placeholder="搜索..."
                       spellcheck="false"
                       type="search"
                       class="search-input"
                >
            </div>
            <span class="popup-btn-close">
                <i class="fa-solid fa-times"></i>
            </span>
        </div>
        <div id="search-result">
            <div id="no-result">
                <i class="fa-solid fa-spinner fa-spin-pulse fa-5x fa-fw"></i>
            </div>
        </div>
    </div>
</div>

    

</main>


    
<script src="/js/libs/Swup.min.js"></script>

<script src="/js/libs/SwupSlideTheme.min.js"></script>

<script src="/js/libs/SwupScriptsPlugin.min.js"></script>

<script src="/js/libs/SwupProgressPlugin.min.js"></script>

<script src="/js/libs/SwupScrollPlugin.min.js"></script>

<script src="/js/libs/SwupPreloadPlugin.min.js"></script>

<script>
    const swup = new Swup({
        plugins: [
            new SwupScriptsPlugin({
                optin: true,
            }),
            new SwupProgressPlugin(),
            new SwupScrollPlugin({
                offset: 80,
            }),
            new SwupSlideTheme({
                mainElement: ".main-content-body",
            }),
            new SwupPreloadPlugin(),
        ],
        containers: ["#swup"],
    });
</script>







<script src="/js/tools/imageViewer.js" type="module"></script>

<script src="/js/utils.js" type="module"></script>

<script src="/js/main.js" type="module"></script>

<script src="/js/layouts/navbarShrink.js" type="module"></script>

<script src="/js/tools/scrollTopBottom.js" type="module"></script>

<script src="/js/tools/lightDarkSwitch.js" type="module"></script>

<script src="/js/layouts/categoryList.js" type="module"></script>



    
<script src="/js/tools/localSearch.js" type="module"></script>




    
<script src="/js/tools/codeBlock.js" type="module"></script>




    
<script src="/js/layouts/lazyload.js" type="module"></script>




    
<script src="/js/tools/runtime.js"></script>

    
<script src="/js/libs/odometer.min.js"></script>

    
<link rel="stylesheet" href="/assets/odometer-theme-minimal.css">




  
<script src="/js/libs/Typed.min.js"></script>

  
<script src="/js/plugins/typed.js" type="module"></script>




    
<script src="/js/libs/mermaid.min.js"></script>

    
<script src="/js/plugins/mermaid.js"></script>







<div class="post-scripts" data-swup-reload-script>
    
        
<script src="/js/tools/tocToggle.js" type="module"></script>

<script src="/js/layouts/toc.js" type="module"></script>

<script src="/js/plugins/tabs.js" type="module"></script>

    
</div>


</body>
</html>
